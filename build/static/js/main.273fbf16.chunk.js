(this["webpackJsonpteacher-dashboard"]=this["webpackJsonpteacher-dashboard"]||[]).push([[0],{124:function(e,t,c){},125:function(e,t,c){},135:function(e,t,c){},153:function(e,t,c){},154:function(e,t,c){},155:function(e,t,c){},156:function(e,t,c){},157:function(e,t,c){},158:function(e,t,c){},159:function(e,t,c){},160:function(e,t,c){},161:function(e,t,c){},187:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},190:function(e,t,c){},191:function(e,t,c){},192:function(e,t,c){},193:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){},197:function(e,t,c){},198:function(e,t,c){},199:function(e,t,c){},200:function(e,t,c){},201:function(e,t,c){},202:function(e,t,c){},209:function(e,t,c){},210:function(e,t,c){},211:function(e,t,c){},212:function(e,t,c){},213:function(e,t,c){},214:function(e,t,c){},215:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(45),r=c.n(a),i=(c(124),c(10)),o=c(11),l=c(57),u=c.n(l),j=c(61),d=c.n(j),b=c(59),O=c.n(b),h=c(60),p=c.n(h),x=(c(125),c(1)),v=function(e){var t=e.active;return Object(x.jsxs)("div",{className:"sidebar",children:[Object(x.jsxs)("div",{className:"sidebar-responsive",children:[Object(x.jsx)("div",{id:"dashboard"===t?"active":"",className:"menu",children:Object(x.jsx)(i.b,{to:"/",children:Object(x.jsx)(u.a,{})})}),Object(x.jsx)("div",{id:"course"===t?"active":"",className:"menu",children:Object(x.jsx)(i.b,{to:"/course",children:Object(x.jsx)(O.a,{})})}),Object(x.jsx)("div",{id:"quiz"===t?"active":"",className:"menu",children:Object(x.jsx)(i.b,{to:"/quiz",children:Object(x.jsx)(p.a,{})})}),Object(x.jsx)("div",{id:"forum"===t?"active":"",className:"menu",children:Object(x.jsx)(i.b,{to:"/forum",children:Object(x.jsx)(d.a,{})})})]}),Object(x.jsxs)("div",{className:"sidebar-menu",children:[Object(x.jsx)("div",{id:"dashboard"===t?"active":"",className:"menu",children:Object(x.jsxs)(i.b,{to:"/",children:[Object(x.jsx)(u.a,{}),"Dashboard"]})}),Object(x.jsx)("div",{id:"course"===t?"active":"",className:"menu",children:Object(x.jsxs)(i.b,{to:"/course",children:[Object(x.jsx)(O.a,{}),"My Courses"]})}),Object(x.jsx)("div",{id:"quiz"===t?"active":"",className:"menu",children:Object(x.jsxs)(i.b,{to:"/quiz",children:[Object(x.jsx)(p.a,{}),"My Quiz"]})}),Object(x.jsx)("div",{id:"forum"===t?"active":"",className:"forum menu",children:Object(x.jsxs)(i.b,{to:"/forum",children:[Object(x.jsx)(d.a,{}),"Forum"]})})]})]})},m=c(8),f=c(5),g=c.n(f),N=c(6),k=c(4),C=(c(135),function(){return Object(x.jsx)("div",{className:"Loader",children:Object(x.jsxs)("div",{className:"lds-ellipsis",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})})}),S=c(14),y=c(48),w=c.n(y),_=w.a.create({baseURL:"https://lab.progressiveminds.in"}),z=(c(153),function(){var e=new Date,t=e.getFullYear(),c=e.getMonth()<10?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),s=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),a=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(t,"-").concat(c,"-").concat(n,"T").concat(s,":").concat(a)}),D=function(e){var t=e.split("T")[0].split("-"),c=e.split("T")[1];return"".concat(t[2],"/").concat(t[1],"/").concat(t[0]," ").concat(c)},E=function(e){var t=e.setShowScheduleClass,c=e.courseList,s=e.user,a=e.fetchUpcomingEvents,r=Object(n.useState)(""),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(""),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(z),h=Object(k.a)(O,2),p=h[0],v=h[1],m=Object(n.useState)(c[0].id?c[0].id:null),f=Object(k.a)(m,2),y=f[0],w=f[1],E=Object(n.useState)(!1),q=Object(k.a)(E,2),A=q[0],T=q[1],P=Object(n.useRef)(null),B=function(){var e=Object(N.a)(g.a.mark((function e(){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&d){e.next=2;break}return e.abrupt("return",alert("Please fill all the fields!"));case 2:return e.prev=2,n={user:s.username,course:y,topic:o,link:d,timeStamp:D(p)},r={headers:{Authorization:"Bearer ".concat(s.access)}},T(!0),e.next=8,_.post("/teacher/scheduleliveclass/",n,r);case 8:l(""),b(""),w(c[0].id),t(!1),a(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0.message);case 18:T(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var c;(null===(c=P.current)||void 0===c?void 0:c.contains(e.target))||t(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"schedule-class-modal",children:[A&&Object(x.jsx)("div",{className:"schedule-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"schedule-class-modal-card",ref:P,children:[Object(x.jsx)("h1",{children:"Schedule Class"}),Object(x.jsx)("select",{value:y,onChange:function(e){return w(e.target.value)},children:null===c||void 0===c?void 0:c.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.course_name},e.id)}))}),Object(x.jsx)("button",{onClick:function(){return t(!1)},className:"close-btn",children:Object(x.jsx)(S.d,{})}),Object(x.jsxs)("div",{className:"schedule-class-form",children:[Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Class Title"}),Object(x.jsx)("input",{type:"text",placeholder:"Class Title...",value:o,onChange:function(e){return l(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Link"}),Object(x.jsx)("input",{type:"text",placeholder:"Link...",value:d,onChange:function(e){return b(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Time"}),Object(x.jsx)("input",{type:"datetime-local",value:p,onChange:function(e){return v(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"submit-btn",onClick:B,children:"Schedule"})]})]})]})},q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],A=["January","February","March","April","May","June","July","August","September","October","November","December"],T=(c(154),Object(n.createContext)()),P=function(){var e=localStorage.getItem("user-details");return e?JSON.parse(e):null},B=function(){var e=localStorage.getItem("user-profile-pic");return e?JSON.parse(e):null},L=function(e){var t=Object(n.useState)(P),c=Object(k.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(B),i=Object(k.a)(r,2),o=i[0],l=i[1];return Object(x.jsx)(T.Provider,{value:{userDetails:s,updateUser:function(e){a(e),localStorage.setItem("user-details",JSON.stringify(e))},removeUser:function(){a(null),sessionStorage.clear(),localStorage.clear()},userProfilePic:o,updateUserProfilePic:function(e){l({profile:e}),localStorage.setItem("user-profile-pic",JSON.stringify({profile:e}))}},children:e.children})},M=T,I=function(){var e=new Date,t=e.getFullYear(),c=e.getMonth()<10?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),s=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),a=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(t,"-").concat(c,"-").concat(n,"T").concat(s,":").concat(a)},Q=function(e){var t=e.split("T")[0].split("-"),c=e.split("T")[1];return"".concat(t[0],"-").concat(t[1],"-").concat(t[2],"T").concat(c)},F=function(e){var t=e.id,c=e.course,s=e.link,a=e.timeStamp,r=e.topic,i=e.fetchUpcomingEvents,o=new Date(a),l=Object(n.useState)(!1),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(!1),O=Object(k.a)(b,2),h=O[0],p=O[1],v=Object(n.useState)(!1),m=Object(k.a)(v,2),f=m[0],S=m[1],y=Object(n.useState)(r),w=Object(k.a)(y,2),z=w[0],D=w[1],E=Object(n.useState)(I),A=Object(k.a)(E,2),T=A[0],P=A[1],B=Object(n.useState)(s),L=Object(k.a)(B,2),F=L[0],R=L[1],U=Object(n.useContext)(M).userDetails,J=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!1),e.prev=1,c={headers:{Authorization:"Bearer ".concat(U.access)}},d(!0),e.next=6,_.delete("teacher/editliveclass/".concat(t),c);case 6:i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(N.a)(g.a.mark((function e(){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z&&F&&T){e.next=2;break}return e.abrupt("return",alert("Please enter all fields!"));case 2:return d(!0),n={user:U.user_id,id:t,course:c,topic:z,link:F,timeStamp:Q(T)},d(!0),e.prev=5,s={headers:{Authorization:"Bearer ".concat(U.access)}},d(!0),e.next=10,_.put("teacher/editliveclass/".concat(t),n,s);case 10:i(),p(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0.message);case 17:d(!1);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"single-lesson",children:[Object(x.jsxs)("div",{className:"time",children:[Object(x.jsxs)("h2",{children:[q[o.getMonth()]," ",o.getDate()]}),Object(x.jsxs)("p",{children:[12===o.getHours()?o.getHours():o.getHours()%12<10?"0".concat(o.getHours()%12):o.getHours()%12,":",o.getMinutes()<10?"0".concat(o.getMinutes()):o.getMinutes(),o.getHours()<12?" AM":" PM"]})]}),Object(x.jsx)("div",{className:"title",children:Object(x.jsx)("h2",{children:r})}),Object(x.jsxs)("div",{className:"meeting-link",children:[Object(x.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:"Join here"}),Object(x.jsx)("div",{className:"meeting-link edit-class",children:Object(x.jsx)("button",{onClick:function(){return p(!0)},children:"Edit Class"})}),Object(x.jsx)("div",{className:"meeting-link delete-class",children:Object(x.jsx)("button",{onClick:function(){return S(!0)},children:"Delete Class"})})]}),j&&Object(x.jsx)("div",{className:"schedule-loader",children:Object(x.jsx)(C,{})}),h&&Object(x.jsx)("div",{className:"schedule-class-modal",children:Object(x.jsxs)("div",{className:"schedule-class-modal-card schedule-class-form",children:[Object(x.jsx)("h1",{children:"Edit Class"}),Object(x.jsxs)("div",{className:"schedule-class-form",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Class Name"}),Object(x.jsx)("input",{type:"text",value:z,name:"topic",onChange:function(e){return D(e.target.value)},placeholder:"Meeting Name"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Date"}),Object(x.jsx)("input",{type:"datetime-local",value:T,onChange:function(e){return P(e.target.value)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"New Link"}),Object(x.jsx)("input",{name:"link",type:"text",value:F,onChange:function(e){return R(e.target.value)},placeholder:"paste meeting link"})]})]}),Object(x.jsxs)("div",{className:"edit-modal-button",children:[Object(x.jsx)("button",{onClick:H,children:"Apply"}),Object(x.jsx)("button",{onClick:function(){return p(!1)},children:"Cancel"})]})]})}),f&&Object(x.jsx)("div",{className:"course-modal-wrapper",children:Object(x.jsxs)("div",{className:"delete-modal",children:[Object(x.jsx)("p",{children:"Are you sure you want to delete this class ?"}),Object(x.jsxs)("div",{className:"course-modal-buttons",children:[Object(x.jsx)("button",{onClick:function(){return S(!1)},className:"btn",children:"Cancel"}),Object(x.jsx)("button",{onClick:J,className:"btn",children:"Proceed and Delete"})]})]})})]})},R=(c(155),function(){var e=localStorage.getItem("live-class");return e?JSON.parse(e):null}),U=function(){var e=localStorage.getItem("course-list");return e?JSON.parse(e):null},J=function(e){var t=e.user,c=Object(n.useState)(R),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(U),o=Object(k.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(!1),d=Object(k.a)(j,2),b=d[0],O=d[1],h=Object(n.useState)(!1),p=Object(k.a)(h,2),v=p[0],f=p[1],S=Object(n.useContext)(M).userDetails,y=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||O(!0),e.prev=1,c={headers:{Authorization:"Bearer ".concat(S.access)}},e.next=5,_.get("/teacher/getLiveclass/".concat(t.username),c);case 5:n=e.sent,s=n.data,i=s.response.sort((function(e,t){return new Date(t.timeStamp)-new Date(e.timeStamp)})).reverse(),localStorage.setItem("live-class",JSON.stringify(i)),localStorage.setItem("course-list",JSON.stringify(i)),r(i),u(s["course list"]),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0.message);case 17:O(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y()}),[]),Object(x.jsxs)("div",{className:"UpcomingLessons",children:[Object(x.jsxs)("div",{className:"UpcomingLessons-header",children:[Object(x.jsx)("h1",{children:"Live Classes"}),Object(x.jsx)("button",{onClick:function(){return f(!0)},children:"Schedule Class"})]}),b&&Object(x.jsx)(C,{}),Object(x.jsx)("div",{className:"lesson",children:null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsx)(F,Object(m.a)(Object(m.a)({},e),{},{fetchUpcomingEvents:y}),e.id)}))}),v&&Object(x.jsx)(E,{setShowScheduleClass:f,courseList:l,user:t,fetchUpcomingEvents:y})]})},H=c(116),Y=(c(156),function(){var e=Object(n.useState)(new Date),t=Object(k.a)(e,2),c=t[0],s=t[1];return Object(x.jsxs)("div",{className:"calendar",children:[Object(x.jsx)("h1",{children:"Calender"}),Object(x.jsx)(H.a,{onChange:s,value:c,className:"react-calendar"})]})}),G=function(e){var t=e.course_name,c=e.image,n=e.author_name,s=e.course_description,a=e.id,r=Object(o.g)();return Object(x.jsxs)("div",{className:"Course",onClick:function(){return r.push("/courseedit/".concat(a))},children:[Object(x.jsx)("div",{className:"course-image",children:Object(x.jsx)("img",{src:c,alt:t})}),Object(x.jsxs)("div",{className:"course-content",children:[Object(x.jsx)("h2",{children:t}),Object(x.jsx)("div",{className:"instructor",children:Object(x.jsxs)("h3",{children:["by ",n]})}),Object(x.jsx)("div",{className:"course-description",children:Object(x.jsx)("p",{children:s})})]})]})},K=(c(157),function(){var e=localStorage.getItem("courses");return e?JSON.parse(e):null}),W=function(e){var t=e.user,c=Object(n.useState)(K),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!1),l=Object(k.a)(i,2),u=l[0],j=l[1],d=Object(o.g)(),b=Object(n.useRef)(!0),O=Object(n.useContext)(M).userDetails;return Object(n.useEffect)((function(){return function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||j(!0),e.prev=1,c={headers:{Authorization:"Bearer ".concat(O.access)}},e.next=5,_.get("/teacher/getMyCourses/".concat(null===t||void 0===t?void 0:t.username),c);case 5:n=e.sent,s=n.data,b.current&&(i=s.filter((function(e,t){return t<2})),r(i),localStorage.setItem("courses",JSON.stringify(i))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message);case 13:j(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){b.current=!1}}),[a]),Object(x.jsxs)("div",{className:"Courses",children:[Object(x.jsx)("h2",{children:"My Courses"}),u?Object(x.jsx)(C,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"course-cards",children:null===a||void 0===a?void 0:a.map((function(e,t){return Object(x.jsx)(G,Object(m.a)({},e),t)}))}),Object(x.jsx)("button",{onClick:function(){return d.push("/course")},className:"all-courses-btn",children:"See all"})]})]})},$=c(26),X=c(9),V=c(95),Z=c.n(V),ee=c(96),te=c.n(ee),ce=function(e){var t=e.id,c=e.title,s=e.dueDate,a=e.isComplete,r=e.tasks,i=e.setTasks,o=e.user,l=Object(n.useState)(a),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(!1),O=Object(k.a)(b,2),h=O[0],p=O[1],v=Object(n.useState)(c),m=Object(k.a)(v,2),f=m[0],C=m[1],y=Object(n.useState)(s),w=Object(k.a)(y,2),z=w[0],D=w[1],E=Object(n.useRef)(null),q=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!h),e.prev=1,c={id:t,title:f,dueDate:z,isComplete:a,user:o.user_id},n=r.map((function(e){return e.id===t?c:e})),i(n),localStorage.setItem("tasks",JSON.stringify(n)),s={headers:{Authorization:"Bearer ".concat(o.access)}},e.next=9,_.put("/api/todo/edit/".concat(t),c,s);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=r.filter((function(e){return e.id!==t})),localStorage.setItem("tasks",JSON.stringify(c)),i(c),n={headers:{Authorization:"Bearer ".concat(o.access)}},e.next=7,_.delete("/api/todo/edit/".concat(t),n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(N.a)(g.a.mark((function e(){var n,a,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!j),n={id:t,title:c,dueDate:s,isComplete:!j,user:null===o||void 0===o?void 0:o.pk},a=r.map((function(e){return e.id===t?n:e})),localStorage.setItem("tasks",JSON.stringify(a)),e.prev=4,i={headers:{Authorization:"Bearer ".concat(o.access)}},e.next=8,_.put("/api/todo/edit/".concat(t),n,i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h&&E.current.focus()}),[h]),Object(x.jsxs)("div",{className:"task-component",children:[Object(x.jsxs)("div",{className:"Task",children:[Object(x.jsx)("button",{className:"check-btn",onClick:P,children:j?Object(x.jsx)(X.b,{}):Object(x.jsx)(X.f,{})}),Object(x.jsxs)("div",{className:"task-title",children:[Object(x.jsx)("h3",{style:{textDecoration:j?"line-through":"none"},children:c}),Object(x.jsxs)("p",{children:["Due Date: ",s.split("-")[2]," ",s.split("-")[1]<10?A[s.split("-")[1].split("")[1]-1]:A[s.split("-")[1]]," ",s.split("-")[0]]})]}),Object(x.jsx)("button",{onClick:function(){return p(!h)},className:"edit--button",children:Object(x.jsx)(Z.a,{})}),Object(x.jsx)("button",{onClick:T,className:"delete--button",children:Object(x.jsx)(te.a,{})})]}),h&&Object(x.jsx)("div",{className:"edit-task",children:Object(x.jsxs)("form",{className:"edit-task-form",onSubmit:q,children:[Object(x.jsxs)("div",{className:"edit-form-inputs",children:[Object(x.jsx)("input",{type:"text",placeholder:"Add New Task",value:f,onChange:function(e){return C(e.target.value)},ref:E}),Object(x.jsx)("input",{type:"date",value:z,onChange:function(e){return D(e.target.value)}})]}),Object(x.jsx)("button",{type:"submit",children:"save"}),Object(x.jsx)(S.d,{onClick:function(e){return p(!h)}})]})})]})},ne=(c(158),function(){var e=localStorage.getItem("tasks");return e?JSON.parse(e):null}),se=function(e){var t=e.user,c=Object(n.useState)(ne),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!1),o=Object(k.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(!1),d=Object(k.a)(j,2),b=d[0],O=d[1],h=Object(n.useState)(!1),p=Object(k.a)(h,2),v=p[0],f=p[1],y=Object(n.useState)(""),w=Object(k.a)(y,2),z=w[0],D=w[1],E=Object(n.useState)(""),q=Object(k.a)(E,2),A=q[0],T=q[1],P=Object(n.useContext)(M).userDetails;Object(n.useEffect)((function(){var e=!1;return function(){var c=Object(N.a)(g.a.mark((function c(){var n,s,a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n={headers:{Authorization:"Bearer ".concat(P.access)}},c.next=4,_.get("/api/todo/".concat(null===t||void 0===t?void 0:t.username),n);case 4:s=c.sent,a=s.data,e||(r(a),localStorage.setItem("tasks",JSON.stringify(a))),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.message);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(){return c.apply(this,arguments)}}()(),function(){e=!0}}),[]);var B=function(){var e=Object(N.a)(g.a.mark((function e(c){var n,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),u(!0),e.prev=2,10!==a.length){e.next=7;break}alert("You can't add more than 10 tasks"),e.next=20;break;case 7:if(!(z.length>0&&A)){e.next=19;break}return n={headers:{Authorization:"Bearer ".concat(t.access)}},e.next=11,_.post("/api/todo/create",{title:z,dueDate:A,isComplete:!1,user:t.user_id},n);case 11:s=e.sent,i=s.data,r([].concat(Object($.a)(a),[i])),D(""),T(""),O(!1),e.next=20;break;case 19:f(!0);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),console.log(e.t0.message);case 25:u(!1);case 26:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=setTimeout((function(){f(!1)}),3e3);return function(){return clearTimeout(e,3e3)}}),[v]),Object(x.jsxs)("div",{className:"Tasks",children:[l&&Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"task-header",children:[Object(x.jsx)("h1",{children:"Tasks"}),Object(x.jsx)("button",{onClick:function(){return O(!b)},children:b?Object(x.jsx)(S.d,{}):Object(x.jsx)(S.a,{})})]}),0===(null===a||void 0===a?void 0:a.length)&&Object(x.jsx)("p",{className:"no-task",children:"You haven't added any task"}),Object(x.jsxs)("div",{className:"Tasks-main-div",children:[b&&Object(x.jsx)("div",{className:"add-newtask",children:Object(x.jsxs)("form",{onSubmit:B,children:[Object(x.jsx)("input",{type:"text",placeholder:"Add New Task",value:z,onChange:function(e){return D(e.target.value)}}),Object(x.jsx)("input",{type:"date",value:A,onChange:function(e){return T(e.target.value)}}),v&&Object(x.jsxs)("div",{className:"error",children:[Object(x.jsx)(S.e,{}),Object(x.jsx)("h3",{children:"All fields must be filled"})]}),Object(x.jsx)("button",{type:"submit",children:"Add"})]})}),l&&Object(x.jsx)(C,{}),Object(x.jsx)("div",{className:"tasks",children:null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsx)(ce,Object(m.a)(Object(m.a)({},e),{},{tasks:a,setTasks:r,user:t}),e.id)}))})]})]})},ae=(c(159),function(e){var t=e.split(" ")[0].split("/"),c=e.split(" ")[1];return"".concat(t[0]," ").concat(t[1]<10?A[t[1].split("")[1]-1]:A[t[1]-1]," ").concat(t[2]," ").concat(c)}),re=function(e){var t=e.split(":"),c="00"!==t[0]?"".concat(t[0]," hours "):"",n="00"!==t[1]?"".concat(t[1]," mins "):"",s="00"!==t[2]?"".concat(t[2]," secs"):"";return"".concat(c).concat(n).concat(s)},ie=function(){var e=localStorage.getItem("past-quiz");return e?JSON.parse(e):null},oe=function(e){var t=e.user,c=Object(n.useState)(ie),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(o.g)();return Object(n.useEffect)((function(){var e=!1;return function(){var c=Object(N.a)(g.a.mark((function c(){var n,s,a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n={headers:{Authorization:"Bearer ".concat(t.access)}},c.next=4,_.get("/teacher/quiz/getQuiz/".concat(t.username),n);case 4:s=c.sent,a=s.data,e||(r(a.response),localStorage.setItem("past-quiz",JSON.stringify(a.response))),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.message);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(){return c.apply(this,arguments)}}()(),function(){e=!0}}),[]),Object(x.jsxs)("div",{className:"past-quiz",children:[Object(x.jsx)("h2",{className:"past-quiz-title",children:"Upcoming Quiz"}),!a&&Object(x.jsx)(C,{}),Object(x.jsx)("div",{className:"past-quiz-cards",children:null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsxs)("div",{onClick:function(){return i.push("/quizquestions/".concat(e.id))},className:"single-past-quiz",style:{cursor:"pointer"},children:[Object(x.jsx)("h2",{children:e.quiz_title}),Object(x.jsxs)("p",{children:["Duration: ",re(e.duration)]}),Object(x.jsxs)("p",{children:["Starts on ",ae(e.start_date)]}),Object(x.jsxs)("p",{children:["Ends on ",ae(e.expire_date)]})]},e.id)}))})]})},le=(c(160),function(){var e=Object(n.useContext)(M).userDetails;return Object(x.jsxs)("div",{className:"Dashboard",children:[Object(x.jsx)(v,{active:"dashboard"}),Object(x.jsxs)("div",{className:"dashboard-items",children:[Object(x.jsx)(J,{user:e}),Object(x.jsx)(W,{user:e}),Object(x.jsx)(Y,{}),Object(x.jsx)(se,{user:e}),Object(x.jsx)(oe,{user:e})]})]})}),ue=function(e){var t=e.reportModalText,c=e.setShowReportModal;return Object(x.jsx)("div",{className:"report-modal",children:Object(x.jsxs)("div",{className:"report-modal-div",children:[Object(x.jsxs)("h2",{children:[t,"!"]}),Object(x.jsx)("button",{onClick:function(){return c(!1)},children:"Okay"})]})})},je=c(232),de=c(13),be=c(30),Oe=function(e){var t=e.id,c=e.user_profile_pic,s=e.time,a=e.user,r=e.text,i=e.upvote,o=e.userid,l=e.uid,u=e.replies,j=e.setReplies,d=Object(n.useState)(!1),b=Object(k.a)(d,2),O=b[0],h=b[1],p=Object(n.useState)(!1),v=Object(k.a)(p,2),f=v[0],C=v[1],S=Object(n.useState)(!1),y=Object(k.a)(S,2),w=y[0],z=y[1],D=Object(n.useState)(!1),E=Object(k.a)(D,2),q=E[0],T=E[1],P=Object(n.useState)(r),B=Object(k.a)(P,2),L=B[0],I=B[1],Q=Object(n.useContext)(M).userDetails,F=Object(n.useRef)(null),R=new Date(s),U=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Q.access)}},e.next=4,_.post("/api/forum/reportComment",{user:l,comment:t},c);case 4:200===(n=e.sent).status&&(C(!0),n.data.message?z(n.data.message):z("You reported this post")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Q.access)}},e.next=4,_.delete("/api/forum/editComment/".concat(t),c);case 4:j(u.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Q.access)}},e.next=4,_.patch("/api/forum/upvote/".concat(t,"/").concat(Q.username),c);case 4:n=e.sent,1===(s=n.data).upvote.length?j(u.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{upvote:e.upvote+1}):e}))):0===s.upvote.length&&j(u.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{upvote:e.upvote-1}):e}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Q.access)}},e.next=4,_.put("/api/forum/editComment/".concat(t),{text:L,userid:l,postid:null},c);case 4:n=e.sent,s=n.data,T(!1),j(u.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{text:s.text}):e}))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),j(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var t;(null===F||void 0===F||null===(t=F.current)||void 0===t?void 0:t.contains(e.target))||h(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"reply",children:[Object(x.jsx)("div",{className:"reply-user",children:Object(x.jsx)(je.a,{src:c})}),Object(x.jsxs)("div",{className:"reply-content",children:[Object(x.jsxs)("div",{className:"comment-time",children:[Object(x.jsxs)("h3",{className:"time",children:["Replied on ",R.getDate()," ",A[R.getMonth()]," ",R.getFullYear()," ",s.split(" ")[1]]}),o===l&&Object(x.jsx)("button",{onClick:function(){return h(!O)},className:"three-dots",ref:F,children:Object(x.jsx)(be.b,{})}),O&&Object(x.jsxs)("div",{className:"delete-edit-comment-div",children:[Object(x.jsxs)("button",{id:"edit-btn",onClick:function(){return T(!0)},children:[Object(x.jsx)(X.d,{})," Edit"]}),Object(x.jsxs)("button",{id:"delete-btn",onClick:J,children:[Object(x.jsx)(X.c,{})," Delete"]})]})]}),Object(x.jsx)("h2",{className:"reply-user",children:a}),q?Object(x.jsxs)("div",{className:"edit-comment-div",children:[Object(x.jsx)("textarea",{placeholder:"Edit reply...",value:L,onChange:function(e){return I(e.target.value)}}),Object(x.jsxs)("div",{className:"edit-div",children:[Object(x.jsx)("button",{onClick:function(){return T(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:Y,children:"Done"})]})]}):Object(x.jsx)("p",{className:"reply-text",children:r}),Object(x.jsxs)("div",{className:"comment-upvotes",children:[Object(x.jsxs)("button",{onClick:H,children:[Object(x.jsx)(de.a,{})," Upvotes (",i,")"]}),Object(x.jsxs)("button",{onClick:U,className:"report-button",children:[Object(x.jsx)(X.g,{})," Report"]})]})]}),f&&Object(x.jsx)(ue,{reportModalText:w,setShowReportModal:C})]},t)},he=(c(161),function(e){var t=e.id,c=e.uid,s=e.setTotalReplies,a=Object(n.useState)(null),r=Object(k.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(!1),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(""),O=Object(k.a)(b,2),h=O[0],p=O[1],v=Object(n.useContext)(M).userDetails,f=function(){var e=Object(N.a)(g.a.mark((function e(){var n,a,r,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=3;break}return alert("empty"),e.abrupt("return");case 3:return e.prev=3,n={text:h,userid:c,postid:null,parent:t},a={headers:{Authorization:"Bearer ".concat(v.access)}},e.next=8,_.post("/api/forum/createComments",n,a);case 8:r=e.sent,l=r.data,o([].concat(Object($.a)(i),[l.comment])),s((function(e){return e+1})),p(""),d(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=!1;return function(){var c=Object(N.a)(g.a.mark((function c(){var n,s,a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n={headers:{Authorization:"Bearer ".concat(v.access)}},c.next=4,_.get("/api/forum/getComments/".concat(t),n);case 4:s=c.sent,a=s.data,e||o(a.comments),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.message);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(){return c.apply(this,arguments)}}()(),function(){e=!0}}),[t]),Object(x.jsx)("div",{className:"comment-reply",children:i?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{onClick:function(){return d(!j)},className:"reply-button",children:"Reply"}),j&&Object(x.jsxs)("div",{className:"reply-form",children:[Object(x.jsx)("textarea",{placeholder:"Reply...",value:h,onChange:function(e){return p(e.target.value)}}),Object(x.jsxs)("div",{className:"reply-form-buttons",children:[Object(x.jsx)("button",{onClick:function(){return d(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:f,children:"Reply"})]})]}),0===(null===i||void 0===i?void 0:i.length)&&Object(x.jsx)("p",{className:"no-answers",children:"No replies to display..."}),null===i||void 0===i?void 0:i.map((function(e){return Object(x.jsx)(Oe,Object(m.a)(Object(m.a)({},e),{},{uid:c,replies:i,setReplies:o}),e.id)}))]}):Object(x.jsx)(C,{})})}),pe=c(97),xe=c(16),ve=c(17),me=c.n(ve),fe=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var c=document.cookie.split(";"),n=0;n<c.length;n++){var s=c[n].trim();if(s.substring(0,e.length+1)===e+"="){t=decodeURIComponent(s.substring(e.length+1));break}}return t},ge=c(28),Ne=function(e){var t=e.id,c=e.user,s=e.userid,a=e.user_profile_pic,r=e.upvote,i=e.text,o=e.time,l=e.comments,u=e.setComments,j=e.uid,d=e.totalreplies,b=Object(n.useState)(!1),O=Object(k.a)(b,2),h=O[0],p=O[1],v=Object(n.useState)(!1),f=Object(k.a)(v,2),C=f[0],S=f[1],y=Object(n.useState)(null),w=Object(k.a)(y,2),z=w[0],D=w[1],E=Object(n.useState)(!1),q=Object(k.a)(E,2),T=q[0],P=q[1],B=Object(n.useState)(i),L=Object(k.a)(B,2),I=L[0],Q=L[1],F=Object(n.useState)(!1),R=Object(k.a)(F,2),U=R[0],J=R[1],H=Object(n.useState)(d),Y=Object(k.a)(H,2),G=Y[0],K=Y[1],W=Object(n.useRef)(null),$=new Date(o),V=Object(n.useContext)(M).userDetails,Z=fe("csrftoken"),ee=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(V.access)}},e.next=4,_.post("/api/forum/reportComment",{user:j,comment:t},c);case 4:200===(n=e.sent).status&&(S(!0),n.data.message?D(n.data.message):D("You reported this post")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(V.access)}},e.next=4,_.patch("/api/forum/upvote/".concat(t,"/").concat(V.username),c);case 4:n=e.sent,1===(s=n.data).upvote.length?u(l.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{upvote:e.upvote+1}):e}))):0===s.upvote.length&&u(l.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{upvote:e.upvote-1}):e}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(V.access)}},e.next=4,_.delete("/api/forum/editComment/".concat(t),c);case 4:u(l.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(V.access)}},e.next=4,_.put("/api/forum/editComment/".concat(t),{text:I,userid:j,postid:null},c);case 4:n=e.sent,s=n.data,P(!1),u(l.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{text:s.text}):e}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var t;(null===W||void 0===W||null===(t=W.current)||void 0===t?void 0:t.contains(e.target))||p(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"comment",children:[Object(x.jsx)("div",{className:"user-profile",children:Object(x.jsx)(je.a,{src:a})}),Object(x.jsxs)("div",{className:"comment-content",children:[Object(x.jsxs)("div",{className:"comment-time",children:[Object(x.jsxs)("h3",{className:"time",children:["Posted on ",$.getDate()," ",A[$.getMonth()]," ",$.getFullYear()," ",o.split(" ")[1]]}),s===j&&Object(x.jsx)("button",{onClick:function(){return p(!h)},className:"three-dots",ref:W,children:Object(x.jsx)(be.b,{})}),h&&Object(x.jsxs)("div",{className:"delete-edit-comment-div",children:[Object(x.jsxs)("button",{id:"edit-btn",onClick:function(){return P(!0)},children:[Object(x.jsx)(X.d,{})," Edit"]}),Object(x.jsxs)("button",{id:"delete-btn",onClick:ce,children:[Object(x.jsx)(X.c,{})," Delete"]})]})]}),Object(x.jsx)("h2",{className:"username",children:c}),T?Object(x.jsxs)("div",{className:"edit-comment-div",children:[Object(x.jsx)(xe.CKEditor,{editor:me.a,data:I,config:{ckfinder:{uploadUrl:"https://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":Z,csrftoken:Z,csrfmiddlewaretoken:Z}}},onChange:function(e,t){var c=t.getData();Q(c)}}),Object(x.jsxs)("div",{className:"edit-div",children:[Object(x.jsx)("button",{onClick:function(){return P(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:ne,children:"Done"})]})]}):Object(x.jsx)("p",{className:"comment-text",children:"<"===i[0]?Object(ge.a)(i):i}),Object(x.jsxs)("div",{className:"comment-upvotes",children:[Object(x.jsxs)("button",{onClick:te,children:[Object(x.jsx)(de.a,{})," Upvotes (",r,")"]}),Object(x.jsxs)("button",{onClick:ee,children:[Object(x.jsx)(X.g,{})," Report"]}),Object(x.jsxs)("button",{onClick:function(){return J(!U)},children:[Object(x.jsx)(pe.a,{})," ",G," Replies"]})]}),U&&Object(x.jsx)(he,{uid:j,id:t,setTotalReplies:K})]}),C&&Object(x.jsx)(ue,{reportModalText:z,setShowReportModal:S})]})},ke=function(e){var t=e.setShowPostComment,c=e.postid,s=e.uid,a=e.setTotalAnswers,r=Object(n.useState)(""),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(!1),j=Object(k.a)(u,2),d=j[0],b=j[1],O=fe("csrftoken"),h=Object(n.useContext)(M).userDetails,p=function(){var e=Object(N.a)(g.a.mark((function e(){var n,r,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=12;break}return n={text:o,userid:s,postid:c},r={headers:{Authorization:"Bearer ".concat(h.access)}},e.next=6,_.post("/api/forum/createComments",n,r);case 6:i=e.sent,l=i.data,t(!1),l&&a((function(e){return e+1})),e.next=13;break;case 12:b(!0);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=setTimeout((function(){b(!1)}),3e3);return function(){return clearTimeout(e,3e3)}}),[d]),Object(x.jsxs)("div",{className:"post-comment",children:[Object(x.jsx)("div",{className:"user-profile",children:Object(x.jsx)(je.a,{})}),Object(x.jsxs)("div",{className:"post-comment-body",children:[Object(x.jsx)("form",{className:"post-comment-form",children:Object(x.jsx)(xe.CKEditor,{editor:me.a,data:o,config:{ckfinder:{uploadUrl:"https://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":O,csrftoken:O,csrfmiddlewaretoken:O}}},onChange:function(e,t){var c=t.getData();l(c)}})}),d&&Object(x.jsxs)("div",{className:"error",children:[Object(x.jsx)(S.e,{}),Object(x.jsx)("h3",{children:"All fields must be filled"})]}),Object(x.jsxs)("div",{className:"post-comment-buttons",children:[Object(x.jsx)("button",{onClick:function(){return t(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:p,children:"Submit"})]})]})]})},Ce=c(231),Se=c(33),ye=Object(Ce.a)((function(e){return{large:{width:e.spacing(7),height:e.spacing(7)}}})),we=function(e){var t=e.id,c=e.title,s=e.desc,a=e.time,r=e.user,i=e.user_profile_pic,o=e.userid,l=e.uid,u=e.fetchPosts,j=e.tags,d=e.posts,b=e.setPosts,O=e.total_answer,h=Object(n.useState)(null),p=Object(k.a)(h,2),v=p[0],f=p[1],S=Object(n.useState)(!1),y=Object(k.a)(S,2),w=y[0],z=y[1],D=Object(n.useState)(!1),E=Object(k.a)(D,2),q=E[0],T=E[1],P=Object(n.useState)(!1),B=Object(k.a)(P,2),L=B[0],I=B[1],Q=Object(n.useState)(!1),F=Object(k.a)(Q,2),R=F[0],U=F[1],J=Object(n.useState)(!1),H=Object(k.a)(J,2),Y=H[0],G=H[1],K=Object(n.useState)(!1),W=Object(k.a)(K,2),$=W[0],V=W[1],Z=Object(n.useState)(!1),ee=Object(k.a)(Z,2),te=ee[0],ce=ee[1],ne=Object(n.useState)(c),se=Object(k.a)(ne,2),ae=se[0],re=se[1],ie=Object(n.useState)(s),oe=Object(k.a)(ie,2),le=oe[0],Oe=oe[1],he=Object(n.useState)(null===j||void 0===j?void 0:j.map((function(e){return e.tag})).toString()),pe=Object(k.a)(he,2),ve=pe[0],Ce=pe[1],we=Object(n.useState)(!1),_e=Object(k.a)(we,2),ze=_e[0],De=_e[1],Ee=Object(n.useState)(O),qe=Object(k.a)(Ee,2),Ae=qe[0],Te=qe[1],Pe=Object(n.useRef)(null),Be=ye(),Le=new Date(a),Me=Object(n.useContext)(M).userDetails,Ie=fe("csrftoken"),Qe=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!w),T(!1),I(!0),e.prev=3,c={headers:{Authorization:"Bearer ".concat(Me.access)}},e.next=7,_.get("/api/forum/getComments/".concat(t),c);case 7:n=e.sent,s=n.data,f(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0.message);case 15:I(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Me.access)}},e.next=4,_.post("/api/forum/reportPost",{user:l,post:t},c);case 4:200===(n=e.sent).status&&(G(!0),n.data.message?V(n.data.message):V("You reported this post")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Me.access)}},e.next=4,_.delete("/api/forum/editPost/".concat(t),c);case 4:u(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(N.a)(g.a.mark((function e(c){var n,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),ae&&le){e.next=3;break}return e.abrupt("return",De(!0));case 3:return e.prev=3,n={headers:{Authorization:"Bearer ".concat(Me.access)}},e.next=7,_.put("/api/forum/editPost/".concat(t),{title:ae,desc:le,userid:l,tags:""},n);case 7:s=e.sent,a=s.data,b(d.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{title:a.title,desc:a.desc}):e}))),ce(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var t;(null===Pe||void 0===Pe||null===(t=Pe.current)||void 0===t?void 0:t.contains(e.target))||U(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"single-post",children:[Object(x.jsx)("div",{className:"profile-pic-div",children:Object(x.jsx)(je.a,{src:i,className:Be.large})}),Object(x.jsxs)("div",{className:"post-content",children:[Object(x.jsxs)("div",{className:"time-div",children:[Object(x.jsxs)("h3",{className:"time",children:["Asked on ",Le.getDate()," ",A[Le.getMonth()]," ",Le.getFullYear()," ",e.time.split(" ")[1]," by ",r]}),o===l&&Object(x.jsx)("button",{onClick:function(){return U(!R)},className:"three-dots",ref:Pe,children:Object(x.jsx)(be.b,{})}),R&&Object(x.jsxs)("div",{className:"delete-edit-div",children:[Object(x.jsxs)("button",{id:"edit-btn",onClick:function(){return ce(!0)},children:[Object(x.jsx)(X.d,{})," Edit"]}),Object(x.jsxs)("button",{id:"delete-btn",onClick:Re,children:[Object(x.jsx)(X.c,{})," Delete"]})]})]}),te?Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"post-post",children:Object(x.jsxs)("form",{children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Title"}),Object(x.jsx)("input",{type:"text",placeholder:"title...",value:ae,onChange:function(e){return re(e.target.value)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Description"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:le,config:{ckfinder:{uploadUrl:"http://lms-seg.herokuapp.com/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":Ie,csrftoken:Ie,csrfmiddlewaretoken:Ie}}},onChange:function(e,t){var c=t.getData();Oe(c)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Tags (Enter tags as a comma separated string)"}),Object(x.jsx)("textarea",{placeholder:"tags...",value:ve,onChange:function(e){return Ce(e.target.value)}})]}),ze&&Object(x.jsxs)("p",{className:"post-upload-question",children:[Object(x.jsx)(de.g,{}),"Please fill all the fields!"]}),Object(x.jsxs)("div",{className:"isedit-buttons",children:[Object(x.jsx)("button",{onClick:function(){return ce(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:Ue,children:"Done"})]})]})})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"title",children:"<"===c[0]?Object(ge.a)(c):Object(x.jsx)("h2",{children:c})}),Object(x.jsx)("div",{className:"tags",children:null===j||void 0===j?void 0:j.map((function(e){return Object(x.jsx)("p",{className:"tag",children:e.tag},e.key)}))}),Object(x.jsx)("div",{className:"desc",children:Object(ge.a)(s)})]}),Object(x.jsxs)("div",{className:"answer-btn-div",children:[Object(x.jsxs)("div",{className:"share",children:[Object(x.jsxs)("button",{className:"answers",onClick:Qe,children:[Object(x.jsx)(Se.c,{})," \xa0",Ae," Answers"]}),Object(x.jsxs)("button",{className:"report",onClick:Fe,children:[Object(x.jsx)(X.g,{})," Report"]})]}),Object(x.jsx)("div",{className:"share",children:Object(x.jsx)("button",{className:"answer",onClick:function(){z&&z(!1),T(!q)},children:"Answer"})})]}),w&&(L?Object(x.jsx)(C,{}):Object(x.jsxs)("div",{children:[!v&&Object(x.jsx)("p",{className:"no-answers",children:"No answers to display..."}),null===v||void 0===v?void 0:v.map((function(e){return Object(x.jsx)(Ne,Object(m.a)(Object(m.a)({},e),{},{uid:l,setShowComments:z,comments:v,setComments:f}),e.id)}))]})),q&&Object(x.jsx)(ke,{setShowPostComment:T,postid:t,uid:e.uid,setTotalAnswers:Te})]}),Y&&Object(x.jsx)(ue,{reportModalText:$,setShowReportModal:G})]})},_e=function(e){for(var t=e.totalPages,c=e.handlePages,n=e.currentPage,s=[],a=0;a<t;a++)s.push(a+1);return Object(x.jsxs)("div",{className:"pagination",children:[Object(x.jsxs)("button",{onClick:function(){return c(n-1)},disabled:0===n,className:"next-btn",children:[Object(x.jsx)(S.b,{})," Prev"]}),Object(x.jsxs)("button",{onClick:function(){return c(n+1)},disabled:n===t-1,className:"prev-btn",children:["Next ",Object(x.jsx)(S.c,{})]})]})},ze=function(e){var t=e.sidebarData,c=Object(n.useState)(null),s=Object(k.a)(c,2),a=s[0],r=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(N.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("https://blog.mycrobites.com/api/blogs");case 3:t=e.sent,c=t.data,r(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(x.jsxs)("div",{className:"forum-sidebar",children:[Object(x.jsxs)("div",{className:"stats",children:[Object(x.jsxs)("p",{children:["Total Posts : ",(null===t||void 0===t?void 0:t.posts)>999?"999+":null===t||void 0===t?void 0:t.posts]}),Object(x.jsxs)("p",{children:["Total Answers :"," ",(null===t||void 0===t?void 0:t.answers)>999?"999+":null===t||void 0===t?void 0:t.answers]})]}),Object(x.jsxs)("div",{className:"blogs",children:[Object(x.jsx)("h2",{children:"Blogs"}),null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsxs)("div",{className:"single-blog",children:[Object(x.jsx)("h3",{children:e.title}),Object(x.jsx)("img",{src:"https://blog.mycrobites.com".concat(e.img),alt:e.title})]},e.sno)})),Object(x.jsx)("a",{href:"https://blog.mycrobites.com",target:"_blank",rel:"noreferrer",children:"visit blog website"})]})]})},De=function(e){var t=e.uid,c=e.tokenkey,s=Object(n.useState)(null),a=Object(k.a)(s,2),r=a[0],i=a[1],o=Object(n.useState)(!1),l=Object(k.a)(o,2),u=l[0],j=l[1],d=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,n={headers:{Authorization:"Bearer ".concat(c)}},r||j(!0),e.next=6,_.get("/api/forum/recentAnswered",n);case 6:s=e.sent,a=s.data,j(!1),t||i(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:return e.abrupt("return",(function(){t=!0}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),u?Object(x.jsx)("div",{className:"forum-loader",children:Object(x.jsx)(C,{})}):Object(x.jsx)(x.Fragment,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(x.jsx)(we,Object(m.a)(Object(m.a)({},e),{},{uid:t,fetchPosts:d,posts:r,setPosts:i}),e.id)}))})},Ee=function(e){var t=e.uid,c=e.tokenkey,s=Object(n.useState)(null),a=Object(k.a)(s,2),r=a[0],i=a[1],o=Object(n.useState)(!1),l=Object(k.a)(o,2),u=l[0],j=l[1],d=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,n={headers:{Authorization:"Bearer ".concat(c)}},r||j(!0),e.next=6,_.get("/api/forum/mostAnswered",n);case 6:s=e.sent,a=s.data,j(!1),t||i(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:return e.abrupt("return",(function(){t=!0}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),u?Object(x.jsx)("div",{className:"forum-loader",children:Object(x.jsx)(C,{})}):Object(x.jsx)(x.Fragment,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(x.jsx)(we,Object(m.a)(Object(m.a)({},e),{},{uid:t,fetchPosts:d,posts:r,setPosts:i}),e.id)}))})},qe=(c(187),c(188),function(){var e=Object(n.useState)(!1),t=Object(k.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(k.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(""),O=Object(k.a)(b,2),h=O[0],p=O[1],v=Object(n.useState)(!1),f=Object(k.a)(v,2),S=f[0],y=f[1],w=Object(n.useState)(null),z=Object(k.a)(w,2),D=z[0],E=z[1],q=Object(n.useState)(!1),A=Object(k.a)(q,2),T=A[0],P=A[1],B=Object(n.useState)(null),L=Object(k.a)(B,2),I=L[0],Q=L[1],F=Object(n.useState)(0),R=Object(k.a)(F,2),U=R[0],J=R[1],H=Object(n.useState)(1),Y=Object(k.a)(H,2),G=Y[0],K=Y[1],W=Object(n.useState)({posts:0,answers:0}),$=Object(k.a)(W,2),X=$[0],V=$[1],Z=Object(n.useContext)(M).userDetails,ee=fe("csrftoken"),te=function(){var e=Object(N.a)(g.a.mark((function e(t){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!1),i&&j){e.next=4;break}return e.abrupt("return",y(!0));case 4:return e.prev=4,c={title:i,desc:j,userid:Z.user_id,tags:h},n={headers:{Authorization:"Bearer ".concat(Z.access)}},e.next=9,_.post("/api/forum/createPosts",c,n);case 9:o(""),d(""),p(""),ce(),s(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(Z.access)}},P(!0),e.next=5,_.get("/api/forum/getPosts?pageno=".concat(U),t);case 5:c=e.sent,n=c.data,E(n.response),Q(n.no_of_pages),V({posts:n.total_posts,answers:n.totalanswers}),P(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){1!==G&&2!==G||ce()}),[U]);return Object(x.jsxs)("div",{className:"posts",children:[Object(x.jsxs)("div",{className:"add-post",children:[Object(x.jsxs)("div",{className:"add-post-title",children:[Object(x.jsx)("h1",{children:"Questions"}),Object(x.jsx)("button",{onClick:function(){s(!c),y(!1)},children:"Ask Question"})]}),c&&Object(x.jsx)("div",{className:"post-post",children:Object(x.jsxs)("form",{onSubmit:te,children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Title"}),Object(x.jsx)("input",{type:"text",placeholder:"title...",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Description"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:j,config:{ckfinder:{uploadUrl:"http://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":ee,csrftoken:ee,csrfmiddlewaretoken:ee}}},onChange:function(e,t){var c=t.getData();d(c)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Tags (Enter tags as a comma separated string)"}),Object(x.jsx)("textarea",{placeholder:"tags...",value:h,onChange:function(e){return p(e.target.value)}})]}),S&&Object(x.jsxs)("p",{className:"post-upload-question",children:[Object(x.jsx)(de.g,{}),"Please fill all the fields!"]}),Object(x.jsxs)("div",{className:"add-post-buttons",children:[Object(x.jsx)("button",{onClick:function(){return s(!1)},type:"button",children:"Cancel"}),Object(x.jsx)("button",{type:"submit",children:"Ask"})]})]})}),Object(x.jsxs)("div",{className:"tabs",children:[Object(x.jsx)("button",{onClick:function(){return K(1)},className:"tab-btn ".concat(1===G?"active":null),children:"All Questions"}),Object(x.jsx)("button",{onClick:function(){K(2),J(0)},className:"tab-btn ".concat(2===G?"active":null),children:"Recent Questions"}),Object(x.jsx)("button",{onClick:function(){return K(3)},className:"tab-btn ".concat(3===G?"active":null),children:"Recently Answered"}),Object(x.jsx)("button",{onClick:function(){return K(4)},className:"tab-btn ".concat(4===G?"active":null),children:"Most Answered"})]})]}),Object(x.jsxs)("div",{className:"forum-content",children:[Object(x.jsxs)("div",{className:"all-posts",children:[T?Object(x.jsx)("div",{className:"forum-loader",children:Object(x.jsx)(C,{})}):Object(x.jsxs)(x.Fragment,{children:[1===G&&(null===D||void 0===D?void 0:D.map((function(e){return Object(x.jsx)(we,Object(m.a)(Object(m.a)({},e),{},{uid:Z.user_id,fetchPosts:ce,posts:D,setPosts:E}),e.id)}))),2===G&&(null===D||void 0===D?void 0:D.map((function(e){return Object(x.jsx)(we,Object(m.a)(Object(m.a)({},e),{},{uid:Z.user_id,fetchPosts:ce,posts:D,setPosts:E}),e.id)}))),3===G&&Object(x.jsx)(De,{uid:Z.user_id,tokenkey:Z.access}),4===G&&Object(x.jsx)(Ee,{uid:Z.user_id,tokenkey:Z.access})]}),D&&1===G&&Object(x.jsx)(_e,{totalPages:I,handlePages:function(e){J(e)},currentPage:U})]}),Object(x.jsx)(ze,{sidebarData:X})]})]})}),Ae=(c(189),function(){return Object(x.jsxs)("div",{className:"Forum",children:[Object(x.jsx)(v,{active:"forum"}),Object(x.jsx)(qe,{})]})}),Te=c.p+"static/media/errorpage.f0a5f58b.svg",Pe=(c(190),function(){var e=Object(o.g)();return Object(x.jsxs)("div",{className:"errorPage",children:[Object(x.jsx)("img",{src:Te,alt:"404"}),Object(x.jsx)("h2",{children:"This page could not be found!"}),Object(x.jsx)("button",{onClick:function(){return e.push("/")},children:"Home Page"})]})}),Be=c(101),Le=c.n(Be),Me=c(103),Ie=c.n(Me),Qe=c(102),Fe=c.n(Qe),Re=c(98),Ue=c.n(Re),Je=c(99),He=c.n(Je),Ye=(c(54),function(e){var t=e.name,c=e.setShowUser,s=Object(n.useRef)(null),a=Object(n.useContext)(M).removeUser;return Object(n.useEffect)((function(){var e=function(e){var t;(null===s||void 0===s||null===(t=s.current)||void 0===t?void 0:t.contains(e.target))||c(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"user-detail",ref:s,children:[Object(x.jsxs)("div",{className:"user-login",children:[Object(x.jsx)("p",{children:"Signed in as"}),Object(x.jsx)("h3",{children:t})]}),Object(x.jsxs)("div",{className:"profile-options",children:[Object(x.jsxs)(i.b,{to:"/profile",onClick:function(){return c(!1)},children:[Object(x.jsx)(Ue.a,{}),"Your profile"]}),Object(x.jsxs)(i.b,{to:"#",onClick:function(){c(!1),a()},children:[Object(x.jsx)(He.a,{}),"Sign out"]})]})]})}),Ge=c(100),Ke=c.n(Ge),We=function(e){e.id;var t=e.time,c=e.title,n=e.message,s=Date.parse(t),a=new Date(s);return Object(x.jsxs)("div",{className:"single-notification",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:c}),Object(x.jsx)("p",{children:n})]}),Object(x.jsxs)("div",{className:"notification-time",children:[Object(x.jsxs)("h3",{children:[a.toDateString().split(" ")[1]," ",a.toDateString().split(" ")[2]]}),Object(x.jsxs)("p",{children:[a.toString().split(" ")[4].split(":")[0],":",a.toString().split(" ")[4].split(":")[1]]})]})]})},$e=function(e){var t=e.setShowNotification,c=e.notifications,s=e.loading,a=Object(n.useRef)();return Object(n.useEffect)((function(){var e=function(e){var c;(null===a||void 0===a||null===(c=a.current)||void 0===c?void 0:c.contains(e.target))||t(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"user-notification",ref:a,children:[Object(x.jsxs)("div",{className:"notification-header",children:[Object(x.jsx)("h4",{children:"Notifications"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},children:Object(x.jsx)(Ke.a,{})})]}),Object(x.jsx)("div",{className:"notification-body",children:s?Object(x.jsx)("div",{className:"notification-loader",children:Object(x.jsx)(C,{})}):null===c||void 0===c?void 0:c.map((function(e,t){return Object(x.jsx)(We,{id:null===e||void 0===e?void 0:e.id,time:null===e||void 0===e?void 0:e.time,message:null===e||void 0===e?void 0:e.message,title:null===e||void 0===e?void 0:e.title},t)}))})]})},Xe=c.p+"static/media/logo.4064e052.png",Ve=function(){var e=localStorage.getItem("notifications");return e?JSON.parse(e):null},Ze=function(){var e=Object(n.useState)(0),t=Object(k.a)(e,2),c=t[0],s=(t[1],Object(n.useState)(!1)),a=Object(k.a)(s,2),r=a[0],i=a[1],l=Object(n.useState)(!1),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(!1),O=Object(k.a)(b,2),h=O[0],p=O[1],v=Object(n.useState)(Ve),m=Object(k.a)(v,2),f=m[0],C=m[1],S=Object(n.useContext)(M),y=S.userDetails,w=S.userProfilePic,z=Object(o.h)(),D=Object(o.g)(),E=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),i(!1),e.prev=2,t={headers:{Authorization:"Bearer ".concat(y.access)}},e.next=6,_.post("/api/notifSeen",{user:y.user_id},t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f||p(!0),e.prev=1,t={headers:{Authorization:"Bearer ".concat(y.access)}},e.next=5,_.get("/api/fetchNotification/".concat(y.username),t);case 5:c=e.sent,n=c.data,C(n),p(!1),localStorage.setItem("notifications",JSON.stringify(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(x.jsx)(x.Fragment,{children:"/"!==z.pathname?Object(x.jsxs)("div",{className:"navbar",children:[Object(x.jsx)("div",{className:"logo",children:Object(x.jsx)("img",{src:Xe,alt:"logo",onClick:function(){return D.push("/")}})}),Object(x.jsxs)("div",{className:"user",children:[Object(x.jsxs)("button",{id:"notification",onClick:E,children:[c>0&&Object(x.jsx)("span",{children:c}),Object(x.jsx)(Le.a,{})]}),Object(x.jsx)("h4",{id:"user-name",children:y.first_name}),Object(x.jsx)(je.a,{src:null===w||void 0===w?void 0:w.profile}),Object(x.jsx)("button",{onClick:function(){i(!r),d(!1)},children:r?Object(x.jsx)(Fe.a,{}):Object(x.jsx)(Ie.a,{})}),r&&Object(x.jsx)(Ye,{setShowUser:i,name:y.first_name}),j&&Object(x.jsx)($e,{setShowNotification:d,notifications:f,loading:h})]})]}):Object(x.jsx)(x.Fragment,{})})},et=c(104),tt=(c(191),function(){var e=localStorage.getItem("post-data");return e?JSON.parse(e):null}),ct=function(){var e=Object(n.useState)(!0),t=Object(k.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(k.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(null),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(!1),O=Object(k.a)(b,2),h=O[0],p=O[1],v=Object(n.useState)({}),f=Object(k.a)(v,2),S=f[0],y=f[1],w=Object(n.useState)({}),z=Object(k.a)(w,2),D=z[0],E=z[1],q=Object(n.useState)(tt),A=Object(k.a)(q,2),T=A[0],P=A[1],B=Object(n.useState)(!1),L=Object(k.a)(B,2),I=L[0],Q=L[1],F=Object(n.useState)({preview:"",raw:""}),R=Object(k.a)(F,2),U=R[0],J=R[1],H=Object(n.useContext)(M),Y=H.userDetails,G=H.updateUserProfilePic,K=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),(t=new FormData).append("profile_pic",j),e.prev=3,c={headers:{Authorization:"Bearer ".concat(Y.access)}},e.next=7,_.patch("/api/editUserProfilePic/".concat(Y.username),t,c);case 7:n=e.sent,s=n.data,W(),G(s.user_profile_pic),Q(!1),J({preview:"",raw:""}),d(null),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0.message);case 19:p(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T||s(!0),t={headers:{Authorization:"Bearer ".concat(Y.access)}},e.next=5,_.get("/teacher/getProfile/".concat(Y.username),t);case 5:c=e.sent,n=c.data,y(null===n||void 0===n?void 0:n.teacher_details),E(null===n||void 0===n?void 0:n.user_info),s(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:s(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){W()}),[]),Object(n.useEffect)((function(){P({dob:null===S||void 0===S?void 0:S.dob,gender:null===S||void 0===S?void 0:S.gender,phone_no:null===S||void 0===S?void 0:S.phone_no,address:null===S||void 0===S?void 0:S.address,state:null===S||void 0===S?void 0:S.state,pin_code:null===S||void 0===S?void 0:S.pin_code,city:null===S||void 0===S?void 0:S.city,subject:null===S||void 0===S?void 0:S.subject,user:null===S||void 0===S?void 0:S.user}),localStorage.setItem("user-profile",JSON.stringify(T))}),[D,S]);var $=S.address,V=S.dob,Z=S.gender,ee=S.phone_no,te=S.pin_code,ce=S.profile_pic,ne=S.city,se=S.subject,ae=S.state,re=D.first_name,ie=D.last_name,oe=D.email,le=D.username,ue=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),localStorage.setItem("user-profile",JSON.stringify(T)),e.prev=2,t={headers:{Authorization:"Bearer ".concat(Y.access)}},e.next=6,_.put("/teacher/editProfile/".concat(le),T,t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message);case 11:W(),Q(!1),o(!i);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:c?Object(x.jsx)("div",{className:"profile-loader",children:Object(x.jsx)(C,{})}):Object(x.jsxs)("div",{className:"profile-card",children:[Object(x.jsxs)("div",{className:"profile-image",children:[Object(x.jsxs)("div",{className:"profile-img",children:[Object(x.jsx)("img",{src:ce,alt:"profile pic"}),Object(x.jsx)("button",{className:"edit-img-btn",onClick:function(e){return p(!h)},children:Object(x.jsx)(et.a,{})})]}),h&&Object(x.jsxs)("div",{className:"edit-image",children:[Object(x.jsxs)("label",{className:"label-profile-img",children:[Object(x.jsx)("input",{type:"file",name:"profile pic",accept:"image/*",onChange:function(e){d(e.target.files[0]),e.target.files.length&&J({preview:URL.createObjectURL(e.target.files[0]),raw:e.target.files[0]})}}),Object(x.jsx)(Se.b,{}),(null===U||void 0===U?void 0:U.preview)&&Object(x.jsx)("img",{src:U.preview,alt:"select"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"img-upload-btn",onClick:function(){return p(!1)},children:"Cancel"}),Object(x.jsx)("button",{disabled:!j,className:"img-upload-btn",onClick:K,children:"Upload"})]})]}),Object(x.jsx)("h3",{children:le}),Object(x.jsx)("p",{children:se})]}),Object(x.jsxs)("div",{className:"profile-details",children:[Object(x.jsxs)("div",{className:"profile-name",children:[Object(x.jsxs)("h1",{children:[re," ",ie]}),Object(x.jsxs)("p",{children:["Subject : ",se]}),!i&&Object(x.jsx)("button",{onClick:function(e){return o(!0)},className:"profile-edit-button",children:Object(x.jsx)(X.d,{})})]}),I&&Object(x.jsx)("div",{className:"edit-loader",children:Object(x.jsx)(C,{})}),i?Object(x.jsxs)("div",{className:"student-detail edit",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Birthday"}),Object(x.jsx)("input",{type:"text",value:T.dob,onChange:function(e){return P(Object(m.a)(Object(m.a)({},T),{},{dob:e.target.value}))},name:"dob"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Subject"}),Object(x.jsx)("input",{type:"text",value:T.subject,onChange:function(e){return P(Object(m.a)(Object(m.a)({},T),{},{subject:e.target.value}))},name:"subject"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Gender"}),Object(x.jsx)("input",{type:"text",value:T.gender,onChange:function(e){return P(Object(m.a)(Object(m.a)({},T),{},{gender:e.target.value}))},name:"gender"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Phone"}),Object(x.jsx)("input",{type:"text",value:T.phone_no,onChange:function(e){return P(Object(m.a)(Object(m.a)({},T),{},{phone_no:e.target.value}))},name:"phone_no"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Address"}),Object(x.jsx)("input",{type:"text",value:T.address,onChange:function(e){return P(Object(m.a)(Object(m.a)({},T),{},{address:e.target.value}))},name:"address"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"City"}),Object(x.jsx)("input",{type:"text",value:T.city,onChange:function(e){return P(Object(m.a)(Object(m.a)({},T),{},{city:e.target.value}))},name:"city"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"State"}),Object(x.jsx)("input",{type:"text",value:T.state,onChange:function(e){return P(Object(m.a)(Object(m.a)({},T),{},{state:e.target.value}))},name:"state"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Pincode"}),Object(x.jsx)("input",{type:"text",value:T.pin_code,onChange:function(e){return P(Object(m.a)(Object(m.a)({},T),{},{pin_code:e.target.value}))},name:"pin_code"})]}),Object(x.jsxs)("div",{className:"button-group",children:[Object(x.jsx)("button",{onClick:function(){return o(!1)},children:"cancel"}),Object(x.jsx)("button",{onClick:ue,children:"save"})]})]}):Object(x.jsxs)("div",{className:"student-detail",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Birthday"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:V})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Subject"}),Object(x.jsx)("p",{children:Object(x.jsxs)("strong",{children:[" ",se]})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Gender"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:Z})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Phone"}),Object(x.jsx)("p",{children:Object(x.jsxs)("strong",{children:["+91 ",ee]})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Email"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:oe})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Address"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:$})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"City"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:ne})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"State"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:ae})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Pincode"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:te})})]})]})]})]})})},nt=function(){return Object(x.jsxs)("div",{className:"profile-page",children:[Object(x.jsx)(v,{active:""}),Object(x.jsx)(ct,{})]})},st=(c(192),function(e){var t=e.msg;return Object(x.jsxs)("div",{className:"error",children:[Object(x.jsx)(Se.a,{}),Object(x.jsx)("p",{children:t})]})}),at=c.p+"static/media/login.d281c5f6.png",rt=(c(193),function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(k.a)(a,2),i=r[0],l=r[1],u=Object(n.useState)(!1),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(!1),h=Object(k.a)(O,2),p=h[0],v=h[1],m=Object(n.useState)({username:"",password:""}),f=Object(k.a)(m,2),S=f[0],y=f[1],w=Object(o.g)(),z=Object(n.useContext)(M),D=z.updateUser,E=z.updateUserProfilePic,q=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,_.post("/teacher/login",{username:c.trim(),password:i});case 4:t=e.sent,n=t.data,b(!1),D(n),E(n.profile_pic),w.push("/dashboard"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),y({username:"Invalid credentials",password:"Invalid credentials"}),b(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),A=function(e){if(e.preventDefault(),!c&&!i)return y({username:"Please enter username!",password:"Please enter password!"});y(c?i?{username:"",password:""}:{username:"",password:"Please enter password!"}:{username:"Please enter username!",password:""}),q()};return Object(x.jsxs)("div",{className:"login-page",children:[Object(x.jsx)("div",{className:"login-clip-path"}),d&&Object(x.jsx)("div",{className:"login-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"login-page-contents",children:[Object(x.jsx)("div",{className:"login-image",children:Object(x.jsx)("img",{src:at,alt:"login"})}),Object(x.jsx)("div",{className:"form-holder",children:Object(x.jsxs)("form",{onSubmit:A,children:[Object(x.jsx)("div",{className:"username",children:Object(x.jsxs)("label",{children:["Username",Object(x.jsx)("input",{type:"text",value:c,placeholder:"Enter username...",onChange:function(e){return s(e.target.value)}}),S.username&&Object(x.jsx)(st,{msg:S.username})]})}),Object(x.jsx)("div",{className:"password",children:Object(x.jsxs)("label",{children:["Password",Object(x.jsx)("input",{type:p?"text":"password",value:i,placeholder:"Enter password...",onChange:function(e){return l(e.target.value)}}),Object(x.jsx)("div",{onClick:function(){return v(!p)},className:"show-password",children:p?Object(x.jsx)(de.c,{}):Object(x.jsx)(de.b,{})}),S.password&&Object(x.jsx)(st,{msg:S.password})]})}),Object(x.jsx)("button",{onClick:A,type:"submit",children:"Log in"})]})})]})]})}),it=c(34),ot=(c(195),function(e){var t=e.id,c=e.image,s=e.course_name,a=e.course_description,r=e.author_profile_pic,i=e.getCourses,l=e.prevVideo,u=e.prevGoals,j=e.prevConcept,d=e.user,b=e.author_name,O=e.totallesson,h=Object(o.g)(),p=Object(n.useState)(!1),v=Object(k.a)(p,2),m=v[0],f=v[1],S=Object(n.useState)(!1),y=Object(k.a)(S,2),w=y[0],z=y[1],D=Object(n.useState)(!1),E=Object(k.a)(D,2),q=E[0],A=E[1],T=Object(n.useState)(s),P=Object(k.a)(T,2),B=P[0],L=P[1],M=Object(n.useState)(a),I=Object(k.a)(M,2),Q=I[0],F=I[1],R=Object(n.useState)(null),U=Object(k.a)(R,2),J=U[0],H=U[1],Y=Object(n.useState)(l),G=Object(k.a)(Y,2),K=G[0],W=G[1],$=Object(n.useState)(u),X=Object(k.a)($,2),V=X[0],Z=X[1],ee=Object(n.useState)(j),te=Object(k.a)(ee,2),ce=te[0],ne=te[1],se=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!1),e.prev=1,c={headers:{Authorization:"Bearer ".concat(d.access)}},f(!0),e.next=6,_.delete("/teacher/editCourse/".concat(t),c);case 6:i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("course_name",B),c.append("course_description",Q),c.append("video",K),c.append("goals",V),c.append("slug","new-course"),c.append("concepts",ce),c.append("author",d.user_id),J&&c.append("image",J),f(!0),e.prev=10,n={headers:{Authorization:"Bearer ".concat(d.access)}},f(!0),e.next=15,_.put("/teacher/editCourse/".concat(t),c,n);case 15:i(),A(!1),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),console.log(e.t0.message);case 22:f(!1);case 23:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"single-course-card",children:[m&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsx)("div",{className:"single-course-image",children:Object(x.jsx)("img",{src:c,alt:s})}),Object(x.jsx)("h2",{className:"single-course-title",children:s}),Object(x.jsxs)("div",{className:"single-course-author",children:[Object(x.jsx)(je.a,{src:r}),Object(x.jsx)("h2",{children:b})]}),Object(x.jsx)("p",{style:{fontSize:"14px"},children:a}),Object(x.jsxs)("p",{style:{fontSize:"14px"},children:["Total Lesson : ",O]}),Object(x.jsxs)("div",{className:"lessons",children:[Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return h.push("/courseedit/".concat(t))},children:"View"}),Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return A(!0)},children:"Edit"}),Object(x.jsx)("button",{className:"enrollment-course-btn delete-btn",onClick:function(){return z(!0)},children:"Delete"})]}),w&&Object(x.jsx)("div",{className:"course-modal-wrapper",children:Object(x.jsxs)("div",{className:"delete-modal",children:[Object(x.jsx)("p",{children:"Are you sure you want to delete your course ?"}),Object(x.jsxs)("div",{className:"course-modal-buttons",children:[Object(x.jsx)("button",{onClick:function(){return z(!1)},className:"btn",children:"Cancel"}),Object(x.jsx)("button",{onClick:se,className:"btn",children:"Proceed and Delete"})]})]})}),q&&Object(x.jsx)("div",{className:"course-modal-wrapper",children:Object(x.jsxs)("div",{className:"course-modal",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Name"}),Object(x.jsx)("input",{type:"text",value:B,name:"course_name",onChange:function(e){return L(e.target.value)},placeholder:"course name"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Description"}),Object(x.jsx)("textarea",{name:"course-description",value:Q,onChange:function(e){return F(e.target.value)},placeholder:"enter course description"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Introduction Video"}),Object(x.jsx)("input",{name:"video",type:"text",value:K,onChange:function(e){return W(e.target.value)},placeholder:"paste intro video link"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Image"}),Object(x.jsx)("input",{type:"file",name:"profile pic",accept:"image/*",onChange:function(e){return H(e.target.files[0])}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Goals"}),Object(x.jsx)("input",{name:"goals",type:"text",value:V,onChange:function(e){return Z(e.target.value)},placeholder:"Enter course goals comma seperated"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Concepts"}),Object(x.jsx)("input",{name:"concepts",type:"text",value:ce,onChange:function(e){return ne(e.target.value)},placeholder:"Enter course concepts comma seperated"})]}),Object(x.jsxs)("div",{className:"edit-modal-button",children:[Object(x.jsx)("button",{onClick:ae,children:"Apply"}),Object(x.jsx)("button",{onClick:function(){return A(!1)},children:"Cancel"})]})]})})]})}),lt=[{width:1,itemsToShow:1},{width:500,itemsToShow:2},{width:900,itemsToShow:3},{width:1100,itemsToShow:4}],ut=function(e){var t=e.user,c=Object(n.useState)(null),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!1),o=Object(k.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(""),d=Object(k.a)(j,2),b=d[0],O=d[1],h=Object(n.useState)(null),p=Object(k.a)(h,2),v=p[0],f=p[1],S=Object(n.useState)(""),y=Object(k.a)(S,2),w=y[0],z=y[1],D=Object(n.useState)(""),E=Object(k.a)(D,2),q=E[0],A=E[1],T=Object(n.useState)(""),P=Object(k.a)(T,2),B=P[0],L=P[1],I=Object(n.useState)(""),Q=Object(k.a)(I,2),F=Q[0],R=Q[1],U=Object(n.useState)(!1),J=Object(k.a)(U,2),H=J[0],Y=J[1],G=Object(n.useContext)(M).userDetails,K=Object(n.useRef)(null),W=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&w&&q&&B&&F&&v){e.next=2;break}return e.abrupt("return",alert("Please enter all the fields!"));case 2:return(c=new FormData).append("course_name",b),c.append("course_description",w),c.append("video",q),c.append("goals",B),c.append("slug","new-course"),c.append("concepts",F),c.append("author",t.user_id),c.append("image",v),e.prev=11,n={headers:{Authorization:"Bearer ".concat(G.access)}},Y(!0),e.next=16,_.post("/teacher/createCourse",c,n);case 16:$(),u(!1),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),console.log(e.t0.message);case 23:Y(!1);case 24:case"end":return e.stop()}}),e,null,[[11,20]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(G.access)}},e.next=4,_.get("/teacher/getMyCourses/".concat(t.username),c);case 4:n=e.sent,s=n.data,r(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),X=function(e,t){var c=[];return e.forEach((function(e){c.push("goals"===t?e.goals:e.concepts)})),c.join()};return Object(n.useEffect)((function(){$()}),[]),a?Object(x.jsxs)("div",{className:"Enrolled-courses",children:[H&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"mycourse-title",children:[Object(x.jsxs)("div",{className:"title",children:[Object(x.jsxs)("h1",{children:["Welcome! ",t.first_name]}),Object(x.jsx)("h4",{style:{color:"gray"},children:"Here are All Your Courses"})]}),Object(x.jsx)("button",{className:"create-course-btn",onClick:function(){return u(!0)},children:"Create New Course"})]}),l&&Object(x.jsx)("div",{className:"course-modal-wrapper",children:Object(x.jsxs)("div",{className:"course-modal",ref:K,children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Name"}),Object(x.jsx)("input",{type:"text",value:b,name:"course_name",onChange:function(e){return O(e.target.value)},placeholder:"course name"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Description"}),Object(x.jsx)("textarea",{name:"course-description",value:w,onChange:function(e){return z(e.target.value)},placeholder:"Enter course description"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Introduction Video"}),Object(x.jsx)("input",{name:"video",type:"text",value:q,onChange:function(e){return A(e.target.value)},placeholder:"paste intro video link"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Image"}),Object(x.jsx)("input",{type:"file",name:"profile pic",accept:"image/*",onChange:function(e){return f(e.target.files[0])}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Goals"}),Object(x.jsx)("input",{name:"goals",type:"text",value:B,onChange:function(e){return L(e.target.value)},placeholder:"Enter course goals comma seperated"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Concepts"}),Object(x.jsx)("input",{name:"concepts",type:"text",value:F,onChange:function(e){return R(e.target.value)},placeholder:"Enter course concepts comma seperated"})]}),Object(x.jsxs)("div",{className:"add-modal-button",children:[Object(x.jsx)("button",{onClick:W,children:"Create Course"}),Object(x.jsx)("button",{onClick:function(){return u(!1)},children:"Cancel"})]})]})}),0===(null===a||void 0===a?void 0:a.length)&&Object(x.jsx)("p",{style:{textAlign:"center",marginTop:200,fontWeight:600,color:"rgba(0,0,0,0.5)"},children:"You haven't created any Course"}),a.length>0&&Object(x.jsx)("div",{className:"course-cards",children:Object(x.jsx)(it.a,{breakPoints:lt,children:null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsx)(ot,Object(m.a)(Object(m.a)({getCourses:$,user:t},e),{},{prevVideo:null===e||void 0===e?void 0:e.video,prevGoals:X(null===e||void 0===e?void 0:e.goals,"goals"),prevConcept:X(null===e||void 0===e?void 0:e.concepts,"concepts")}),null===e||void 0===e?void 0:e.id)}))})})]}):Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})})},jt=(c(196),function(){var e=Object(n.useContext)(M).userDetails;return Object(x.jsxs)("div",{className:"course-page",children:[Object(x.jsx)(v,{active:"course"}),Object(x.jsx)("div",{className:"my-courses",children:Object(x.jsx)(ut,{user:e})})]})}),dt=(c(197),function(e){var t=e.split(" ")[0].split("/"),c=e.split(" ")[1];return"".concat(t[2],"-").concat(t[1],"-").concat(t[0],"T").concat(c)}),bt=function(e){var t=e.setEditQuiz,c=e.quizTitle,s=e.duration,a=e.startDate,r=e.expireDate,i=e.user,o=e.id,l=e.description,u=e.getCourses,j=Object(n.useState)(c),d=Object(k.a)(j,2),b=d[0],O=d[1],h=Object(n.useState)(s),p=Object(k.a)(h,2),v=p[0],m=p[1],f=Object(n.useState)(l),y=Object(k.a)(f,2),w=y[0],z=y[1],D=Object(n.useState)((function(){return dt(a)})),E=Object(k.a)(D,2),q=E[0],A=E[1],T=Object(n.useState)((function(){return dt(r)})),P=Object(k.a)(T,2),B=P[0],L=P[1],M=Object(n.useState)(!1),I=Object(k.a)(M,2),Q=I[0],F=I[1],R=Object(n.useRef)(null),U=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&v&&q&&B){e.next=2;break}return e.abrupt("return",alert("Please fill all the fields!"));case 2:return e.prev=2,c={quiz_name:b,duration:v,description:w,start_date:q+"+05:30",expire_date:B+"+05:30"},n={headers:{Authorization:"Bearer ".concat(i.access)}},F(!0),e.next=8,_.patch("/teacher/quiz/editQuiz/".concat(o),c,n);case 8:u(),F(!1),t(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var c;(null===(c=R.current)||void 0===c?void 0:c.contains(e.target))||t(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"edit-quiz-modal",children:[Object(x.jsxs)("div",{className:"edit-quiz-modal-card",ref:R,children:[Object(x.jsx)("h1",{children:"Edit Quiz"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},className:"close-btn",children:Object(x.jsx)(S.d,{})}),Object(x.jsxs)("div",{className:"edit-quiz-form",children:[Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",{type:"text",placeholder:"Name...",value:b,onChange:function(e){return O(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Description"}),Object(x.jsx)("textarea",{style:{width:"100%",height:"70px",padding:"10px"},name:"quiz_desc",value:w,onChange:function(e){return z(e.target.value)},placeholder:"Add Description..."})]}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Duration (format: hh:mm:ss)"}),Object(x.jsx)("input",{type:"text",placeholder:"Duration...",value:v,onChange:function(e){return m(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Expire Date"}),Object(x.jsx)("input",{type:"datetime-local",value:q,onChange:function(e){return A(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Start Date"}),Object(x.jsx)("input",{type:"datetime-local",value:B,onChange:function(e){return L(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"submit-btn",onClick:U,children:"Submit"})]})]}),Q&&Object(x.jsx)("div",{className:"quiz-loader",children:Object(x.jsx)(C,{})})]})},Ot=function(e){var t=e.split(" ")[0].split("/"),c=e.split(" ")[1];return"".concat(t[0]," ").concat(t[1]<10?A[t[1].split("")[1]-1]:A[t[1]-1]," ").concat(t[2]," ").concat(c)},ht=function(e){var t=e.belongs_to,c=e.duration,s=e.expire_date,a=e.quiz_title,r=e.start_date,i=e.id,l=e.user,u=e.description,j=e.getCourses,d=Object(n.useState)(!1),b=Object(k.a)(d,2),O=b[0],h=b[1],p=Object(o.g)();return Object(x.jsxs)("div",{className:"single-course-card single-quiz",children:[Object(x.jsx)("h2",{className:"single-course-title",children:a}),Object(x.jsxs)("div",{className:"single-course-author",children:[Object(x.jsx)("h2",{children:t}),Object(x.jsx)("p",{className:"quiz-description-details",children:u}),Object(x.jsxs)("h5",{children:["Duration : ",c]})]}),Object(x.jsxs)("p",{style:{fontSize:"14px",fontWeight:"500"},children:["Starts on : ",Ot(r)]}),Object(x.jsxs)("p",{style:{fontSize:"14px",fontWeight:"500"},children:["Ends on : ",Ot(s)]}),Object(x.jsxs)("div",{className:"lessons",children:[Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return p.push("/quizQuestions/".concat(i))},children:"View"}),Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return h(!O)},children:"Edit"})]}),O&&Object(x.jsx)(bt,{setEditQuiz:h,quizTitle:a,duration:c,startDate:r,expireDate:s,user:l,id:i,description:u,getCourses:j})]})},pt=(c(198),[{width:1,itemsToShow:1},{width:500,itemsToShow:2},{width:900,itemsToShow:3},{width:1100,itemsToShow:4}]),xt=function(e){var t=e.user,c=Object(n.useState)(!1),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(null),o=Object(k.a)(i,2),l=o[0],u=o[1],j=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l||r(!0),c={headers:{Authorization:"Bearer ".concat(t.access)}},e.next=5,_.get("/teacher/quiz/getQuiz/".concat(t.username),c);case 5:n=e.sent,s=n.data,u(null===s||void 0===s?void 0:s.response),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:r(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),a?Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})}):Object(x.jsxs)("div",{className:"my-quiz",children:[Object(x.jsxs)("div",{style:{marginBottom:"20px"},className:"title",children:[Object(x.jsxs)("h1",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"10px"},children:["Welcome! ",t.first_name]}),Object(x.jsx)("h4",{style:{color:"gray"},children:"Here are All Your Course Quizzes"})]}),0===(null===l||void 0===l?void 0:l.length)&&Object(x.jsx)("p",{style:{textAlign:"center",marginTop:200,fontWeight:600,color:"rgba(0,0,0,0.5)"},children:"You haven't created any quiz"}),(null===l||void 0===l?void 0:l.length)>0&&Object(x.jsx)("div",{className:"quiz-cards",children:Object(x.jsx)(it.a,{breakPoints:pt,children:null===l||void 0===l?void 0:l.map((function(e){return Object(x.jsx)(ht,Object(m.a)(Object(m.a)({},e),{},{user:t,getCourses:j}),e.id)}))})})]})},vt=(c(199),c(200),c(201),function(e){var t=e.setshowCreateGroup,c=e.groups,s=function(){var e=localStorage.getItem("courses");return e?JSON.parse(e):null}(),a=Object(n.useState)(new Map),r=Object(k.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(""),O=Object(k.a)(b,2),h=O[0],p=O[1],v=(Object(n.useContext)(M).userDetails,Object(n.useState)(!1)),m=Object(k.a)(v,2),f=(m[0],m[1]),g=Object(n.useState)(""),N=Object(k.a)(g,2),C=N[0],y=N[1],w=Object(n.useState)(!1),_=Object(k.a)(w,2),z=_[0],D=(_[1],function(e){var t=e.target.checked,n=e.target.value;console.log(t,n),!0===t?c.push(n):c.pop(n),o(i.set(n,t))});return Object(x.jsx)("div",{className:"edit-quiz-modal",children:Object(x.jsxs)("div",{className:"edit-quiz-modal-card",children:[Object(x.jsx)("h2",{children:"Create Group"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},className:"close-btn",children:Object(x.jsx)(S.d,{})}),Object(x.jsxs)("div",{className:"quiz-modal-title",children:[Object(x.jsx)("label",{className:"modal-label",children:"Enter Quiz Group Title"}),Object(x.jsx)("input",{type:"text",className:"modal-input",onChange:function(e){return d(e.target.value)},value:j})]}),Object(x.jsxs)("div",{className:"quiz-modal-des",children:[Object(x.jsx)("label",{className:"modal-label",children:"Enter Quiz Group Description"}),Object(x.jsx)("input",{type:"text",className:"modal-input",onChange:function(e){return p(e.target.value)},value:h})]}),Object(x.jsxs)("div",{className:"quiz-modal-des",children:[Object(x.jsx)("label",{className:"modal-label",children:"Select Courses"}),Object(x.jsx)("ul",{children:s.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"checkbox",value:e.course_name,onChange:D})," ",e.course_name," "]})},e.id)}))})]}),C&&Object(x.jsx)("div",{className:"quiz-group-message",children:Object(x.jsx)("p",{className:"quiz-group-message-message",style:{background:z?"#ffb3b3":"#d4e7f7",marginTop:"20px"},children:C})}),Object(x.jsx)("button",{className:"create-group-button",onClick:function(){f(!0),j&&h?(0===c.length&&y("Select atleast 1 course."),console.log("API Request Send"),console.log(c),console.log(j,h),f(!1)):y("Fill all the details.")},children:"Create Quiz Group"})]})})}),mt=(c(202),function(e){var t=e.setShowCreateQuiz,c=e.groups,s="props",a=s.userDetails,r=s.setShowCreateModal,i=Object(n.useState)(""),o=Object(k.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(""),d=Object(k.a)(j,2),b=d[0],O=d[1],h=Object(n.useState)(""),p=Object(k.a)(h,2),v=p[0],m=p[1],f=Object(n.useState)("test"),y=Object(k.a)(f,2),w=y[0],z=y[1],D=Object(n.useState)(""),E=Object(k.a)(D,2),q=E[0],A=E[1],T=Object(n.useState)(""),P=Object(k.a)(T,2),B=P[0],L=P[1],M=Object(n.useState)(""),I=Object(k.a)(M,2),Q=I[0],F=I[1],R=Object(n.useState)(!1),U=Object(k.a)(R,2),J=U[0],H=U[1],Y=Object(n.useRef)(null),G=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&b&&v&&q&&B){e.next=2;break}return e.abrupt("return",alert("Please fill all the fields!"));case 2:return e.prev=2,t={title:l,creator:a.user_id,desc:b,duration:v,Quizgroup:w,instructions:Q,starttime:q+":00+05:30",endtime:B+":00+05:30"},console.log(t),c={headers:{Authorization:"Bearer ".concat(a.access)}},H(!0),e.next=9,_.post("/api/create-quiz",t,c);case 9:window.location.reload(),r(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0.message);case 16:H(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(e){var c;(null===(c=Y.current)||void 0===c?void 0:c.contains(e.target))||t(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}));return Object(x.jsxs)("div",{className:"edit-quiz-modal",children:[Object(x.jsxs)("div",{className:"edit-quiz-modal-card",ref:Y,children:[Object(x.jsx)("h1",{children:"Create Quiz"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},className:"close-btn",children:Object(x.jsx)(S.d,{})}),Object(x.jsxs)("div",{className:"edit-quiz-form",children:[Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",{type:"text",placeholder:"Title...",value:l,onChange:function(e){return u(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Quiz Group"}),Object(x.jsxs)("select",{name:"Group Names",onChange:function(e){return z(e.target.value)},children:[Object(x.jsx)("option",{children:"Select from below"}),null===c||void 0===c?void 0:c.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.name})}))]}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:b,onChange:function(e,t){var c=t.getData();O(c)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Duration (format: hh:mm:ss)"}),Object(x.jsx)("input",{type:"text",placeholder:"Duration...",value:v,onChange:function(e){return m(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Start Date"}),Object(x.jsx)("input",{type:"datetime-local",value:q,onChange:function(e){return A(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"End Date"}),Object(x.jsx)("input",{type:"datetime-local",value:B,onChange:function(e){return L(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Instructions"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:Q,onChange:function(e,t){var c=t.getData();F(c)}}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"submit-btn",onClick:G,children:"Submit"})]})]}),J&&Object(x.jsx)("div",{className:"quiz--loader",children:Object(x.jsx)(C,{})})]})}),ft=[{width:1,itemsToShow:1},{width:500,itemsToShow:2},{width:900,itemsToShow:3},{width:1100,itemsToShow:4}],gt=function(e){var t=e.user,c=Object(n.useState)(!1),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!1),o=Object(k.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(!1),d=Object(k.a)(j,2),b=d[0],O=d[1],h=[],p=Object(n.useState)(null),v=Object(k.a)(p,2),f=v[0],S=v[1],y=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f||r(!0),c={headers:{Authorization:"Bearer ".concat(t.access)}},e.next=5,_.get("/teacher/quiz/getQuiz/".concat(t.username),c);case 5:n=e.sent,s=n.data,S(null===s||void 0===s?void 0:s.response),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:r(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y()}),[]),a?Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})}):Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"my-quiz",children:[Object(x.jsxs)("div",{style:{marginBottom:"20px"},className:"title",children:[Object(x.jsxs)("h1",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"10px"},children:["Welcome! ",t.first_name]}),Object(x.jsx)("h4",{style:{color:"gray"},children:"Here are All Your Group Quizzes"})]}),0===(null===f||void 0===f?void 0:f.length)&&Object(x.jsx)("p",{style:{textAlign:"center",marginTop:200,fontWeight:600,color:"rgba(0,0,0,0.5)"},children:"You haven't created any group."}),(null===f||void 0===f?void 0:f.length)>0&&Object(x.jsx)("div",{className:"quiz-cards",children:Object(x.jsx)(it.a,{breakPoints:ft,children:null===f||void 0===f?void 0:f.map((function(e){return Object(x.jsx)(ht,Object(m.a)(Object(m.a)({},e),{},{user:t,getCourses:y}),e.id)}))})})]}),Object(x.jsxs)("div",{className:"create-group-quiz",children:[Object(x.jsx)("button",{onClick:function(){return u(!0)},children:"Create New Group"}),Object(x.jsx)("button",{onClick:function(){return O(!0)},children:"Create Group Quiz"})]}),l&&Object(x.jsx)(vt,{groups:h,setshowCreateGroup:u}),b&&Object(x.jsx)(mt,{groups:h,setShowCreateQuiz:O})]})},Nt=function(){var e=Object(n.useContext)(M).userDetails;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{active:"quiz"}),Object(x.jsxs)("div",{className:"quiz-page",children:[Object(x.jsx)(gt,{user:e}),Object(x.jsx)(xt,{user:e})]})]})},kt=c(35),Ct=c.n(kt),St=(c(209),function(){var e,t,c,s,a,r=Object(n.useState)(null),i=Object(k.a)(r,2),l=i[0],u=i[1],j=Object(n.useState)(null),d=Object(k.a)(j,2),b=d[0],O=d[1],h=Object(n.useState)(null),p=Object(k.a)(h,2),v=p[0],m=p[1],f=Object(n.useState)(""),S=Object(k.a)(f,2),y=S[0],w=S[1],z=Object(n.useState)(null),D=Object(k.a)(z,2),E=D[0],q=D[1],A=Object(n.useState)(""),T=Object(k.a)(A,2),P=T[0],B=T[1],L=Object(n.useState)(null),I=Object(k.a)(L,2),Q=I[0],F=I[1],R=Object(n.useState)(""),U=Object(k.a)(R,2),J=U[0],H=U[1],Y=Object(n.useState)(""),G=Object(k.a)(Y,2),K=G[0],W=G[1],X=Object(n.useState)(""),V=Object(k.a)(X,2),Z=V[0],ee=V[1],te=Object(n.useState)([]),ce=Object(k.a)(te,2),ne=ce[0],se=ce[1],ae=Object(n.useState)(!1),re=Object(k.a)(ae,2),ie=re[0],oe=re[1],le=Object(n.useState)(!1),ue=Object(k.a)(le,2),je=ue[0],de=ue[1],Oe=Object(n.useContext)(M).userDetails,he=Object(o.i)().id,pe=Object(o.g)(),xe=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(Oe.access)}},c={quiz_id:he,quest_id:ne},oe(!0),e.next=6,_.post("/teacher/addQuestionToQuiz",c,t);case 6:n=e.sent,(s=n.data)&&oe(!1),alert(s.message),"added successfully"===s.message&&pe.push("/quizQuestions/".concat(he)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(Oe.access)}},e.next=4,_.get("/teacher/getQuestionsFromQB",t);case 4:c=e.sent,n=c.data,u(n.questions),O(n.questions),m(n.tags.dificulty),q(n.tags.skill),F(n.tags.subject),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]),l?Object(x.jsx)(Ct.a.Context,{input:"tex",onLoad:function(){},onError:function(e,t){console.warn(t),e.Hub.Queue(e.Hub.Typeset())},options:{messageStyle:"none",extensions:["tex2jax.js"],jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0},TeX:{extensions:["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]}},children:Object(x.jsxs)("div",{className:"quiz-questions-div",children:[Object(x.jsxs)("div",{className:"questionbank-header",children:[Object(x.jsxs)("div",{className:"quiz-question-header",children:[Object(x.jsx)("h1",{children:"Question Bank"}),Object(x.jsxs)("div",{className:"quiz-header-buttons",children:[Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return pe.push("/quizQuestions/".concat(he))},children:"Back to Quiz Questions"}),Object(x.jsx)("button",{disabled:0===ne.length,onClick:xe,children:"Add Questions"}),Object(x.jsxs)("button",{onClick:function(){return de(!je)},children:["Filter ",Object(x.jsx)(be.a,{})]})]})]}),je&&Object(x.jsxs)("div",{className:"filter",children:[Object(x.jsxs)("div",{className:"filter-selects",children:[Object(x.jsx)("h2",{children:"Filter"}),Object(x.jsx)("div",{className:"difficulty-level",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Difficulty"}),Object(x.jsxs)("select",{value:y,onChange:function(e){return w(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===v||void 0===v?void 0:v.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]})]})}),Object(x.jsx)("div",{className:"skill-level",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Skill"}),Object(x.jsxs)("select",{value:P,onChange:function(e){return B(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===E||void 0===E?void 0:E.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]})]})}),Object(x.jsx)("div",{className:"subject",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Subject"}),Object(x.jsxs)("select",{value:J,onChange:function(e){return H(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===Q||void 0===Q?void 0:Q.map((function(e,t){return Object(x.jsx)("option",{value:"".concat(t,"*").concat(e.name),children:e.name},t)}))]})]})}),""!==J&&Object(x.jsx)("div",{className:"topics",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Topics"}),Object(x.jsxs)("select",{value:K,onChange:function(e){return W(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===(e=Q[J.split("*")[0]])||void 0===e||null===(t=e.topics)||void 0===t?void 0:t.map((function(e,t){return Object(x.jsx)("option",{value:"".concat(t,"*").concat(e.name),children:e.name},t)}))]})]})}),""!==J&&""!==K&&Object(x.jsx)("div",{className:"sub-topic",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"SubTopics"}),Object(x.jsxs)("select",{value:Z,onChange:function(e){return ee(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===(c=Q[J.split("*")[0]])||void 0===c||null===(s=c.topics[K.split("*")[0]])||void 0===s||null===(a=s.subTopics)||void 0===a?void 0:a.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]})]})})]}),Object(x.jsxs)("div",{className:"filter-buttons",children:[Object(x.jsx)("button",{onClick:function(){w(""),B(""),H(""),O(l)},children:"Clear filters"}),Object(x.jsx)("button",{onClick:function(){P||y||J?P.length>0&&!y&&!J?O(l.filter((function(e){return e.skill===P}))):y.length>0&&!P&&!J?O(l.filter((function(e){return e.dificulty_tag===y}))):P.length>0&&y.length>0&&!J?O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===P}))):!P.length&&!y&&J.length>0?K?K.length>0&&!Z?O(l.filter((function(e){return e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]}))):O(l.filter((function(e){return e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]&&e.subtopic_tag===Z}))):O(l.filter((function(e){return e.subject_tag===J.split("*")[1]}))):!P&&y.length>0&&J.length>0?K?K.length>0&&!Z?O(l.filter((function(e){return e.dificulty_tag===y&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]&&e.subtopic_tag===Z}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.subject_tag===J.split("*")[1]}))):P.length>0&&!y&&J.length>0?K?K.length>0&&!Z?O(l.filter((function(e){return e.skill===P&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]}))):O(l.filter((function(e){return e.skill===P&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]&&e.subtopic_tag===Z}))):O(l.filter((function(e){return e.skill===P&&e.subject_tag===J.split("*")[1]}))):P.length>0&&y.length>0&&J.length>0?K?K.length>0&&!Z?O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===P&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===P&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]&&e.subtopic_tag===Z}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===P&&e.subject_tag===J.split("*")[1]}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===P}))):O(l)},children:"Apply filters"})]})]})]}),0===(null===b||void 0===b?void 0:b.length)&&Object(x.jsx)("p",{style:{textAlign:"center",marginTop:200,fontWeight:600,color:"rgba(0,0,0,0.5)"},children:"No matched questions"}),null===b||void 0===b?void 0:b.map((function(e){return Object(x.jsxs)("div",{className:"qb-question",children:[Object(x.jsx)("div",{className:"check-box",children:Object(x.jsx)("input",{type:"checkbox",onChange:function(){return t=e.id,void(ne.includes(t)?se(ne.filter((function(e){return e!==t}))):se([].concat(Object($.a)(ne),[t])));var t}})}),Object(x.jsxs)("div",{className:"question-content",children:[Object(x.jsx)("div",{children:Object(x.jsx)(Ct.a.Html,{html:e.question})}),Object(x.jsxs)("div",{className:"question-tags",children:[Object(x.jsx)("h4",{children:"Tags: "}),(null===e||void 0===e?void 0:e.dificulty_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.dificulty_tag}),(null===e||void 0===e?void 0:e.skill)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.skill}),(null===e||void 0===e?void 0:e.subject_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.subject_tag}),(null===e||void 0===e?void 0:e.topic_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.topic_tag}),(null===e||void 0===e?void 0:e.subtopic_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.subtopic_tag})]}),Object(x.jsx)("div",{className:"options",children:e.option.map((function(e,t){return Object(x.jsxs)("div",{className:"option",children:[Object(x.jsxs)("span",{children:["(",["A","B","C","D"][t],")"]}),"\xa0",Object(ge.a)(e)]},t)}))})]}),Object(x.jsxs)("div",{className:"marks",children:[Object(x.jsxs)("p",{children:["Correct: ",e.correct_marks," Marks"]}),Object(x.jsxs)("p",{children:["Incorrect: -",e.negative_marks," Marks"]})]})]},e.id)})),ie&&Object(x.jsx)("div",{className:"quizquestion-loader",children:Object(x.jsx)(C,{})})]})}):Object(x.jsx)("div",{className:"quiz-questions-loader",children:Object(x.jsx)(C,{})})}),yt=(c(210),function(e){var t=e.setShowNewContent,c=e.id,s=e.user,a=e.fetchLessonContent,r=Object(n.useState)("text"),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(""),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(""),h=Object(k.a)(O,2),p=h[0],v=h[1],m=Object(n.useState)(""),f=Object(k.a)(m,2),S=f[0],y=f[1],w=Object(n.useState)(""),z=Object(k.a)(w,2),D=z[0],E=z[1],q=Object(n.useState)(null),A=Object(k.a)(q,2),T=A[0],P=A[1],B=Object(n.useState)(""),L=Object(k.a)(B,2),M=L[0],I=L[1],Q=Object(n.useState)(""),F=Object(k.a)(Q,2),R=F[0],U=F[1],J=Object(n.useState)(""),H=Object(k.a)(J,2),Y=H[0],G=H[1],K=Object(n.useState)(""),W=Object(k.a)(K,2),$=W[0],X=W[1],V=Object(n.useState)(!1),Z=Object(k.a)(V,2),ee=Z[0],te=Z[1],ce=["text","video","homework","pdf","quiz","assignment"],ne=fe("csrftoken"),se=function(){var e=Object(N.a)(g.a.mark((function e(c){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!0),n={headers:{Authorization:"Bearer ".concat(s.access)}},e.next=5,_.post("/teacher/createlessoncontent/",c,n);case 5:t(!1),a(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:te(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"course-content-modal",children:[ee&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"course-modal create-course-modal",children:[Object(x.jsxs)("label",{style:{flexDirection:"column",display:"flex"},children:[Object(x.jsx)("p",{children:"Select Content Type"}),Object(x.jsx)("select",{value:o,onChange:function(e){return l(e.target.value)},children:null===ce||void 0===ce?void 0:ce.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))})]}),"text"===o||"homework"===o?Object(x.jsxs)("label",{style:{overflowY:"scroll"},children:[Object(x.jsx)("p",{children:"Enter Text Content"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:d,config:{ckfinder:{uploadUrl:"https://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":ne,csrftoken:ne,csrfmiddlewaretoken:ne}}},onChange:function(e,t){var c=t.getData();b(c)}})]}):Object(x.jsx)(x.Fragment,{}),"quiz"===o||"assignment"===o?Object(x.jsxs)("div",{className:"quiz-content",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Content Name"}),Object(x.jsx)("input",{type:"text",value:M,onChange:function(e){return I(e.target.value)},placeholder:"Enter Content Name ..."})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Description"}),Object(x.jsx)("textarea",{name:"quiz_desc",value:D,onChange:function(e){return E(e.target.value)},placeholder:"Add Description..."})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Duration (format: hh:mm:ss)"}),Object(x.jsx)("input",{type:"text",value:R,onChange:function(e){return U(e.target.value)},placeholder:"Enter Duration HH:MM:SS"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Start Date"}),Object(x.jsx)("input",{type:"datetime-local",value:Y,onChange:function(e){return G(e.target.value)}})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter End Date"}),Object(x.jsx)("input",{type:"datetime-local",value:$,onChange:function(e){return X(e.target.value)}})]})]}):Object(x.jsx)(x.Fragment,{}),"pdf"===o&&Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Upload Document"}),Object(x.jsx)("input",{type:"file",accept:".pdf,.doc",onChange:function(e){return P(e.target.files[0])}})]}),"video"===o&&Object(x.jsxs)("div",{className:"video-content",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter video url"}),Object(x.jsx)("input",{type:"text",name:"video_url",value:p,onChange:function(e){return v(e.target.value)},placeholder:"Add Video URL..."})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter video Description"}),Object(x.jsx)("textarea",{name:"video_desc",value:S,onChange:function(e){return y(e.target.value)},placeholder:"Add Description..."})]})]}),Object(x.jsxs)("div",{className:"modal-btn",children:[Object(x.jsx)("button",{onClick:function(){if("video"!==o)if("text"!==o&&"homework"!==o){if("pdf"===o){var e=new FormData;return e.append("media_type",o),e.append("lesson",c),e.append("pdf",T),void se(e)}if("quiz"===o||"assignment"===o){var t={lesson:c,media_type:o,quiz_name:M,duration:R,description:D,start_date:Y+"+05:30",expire_date:$+"+05:30"};return console.log(t),void se(t)}}else se({media_type:o,lesson:c,text_content:d});else se({media_type:o,lesson:c,link:p,link_desc:S})},children:"Create Lesson"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},children:"Cancel"})]})]})]})}),wt=(c(211),function(e){var t=e.setShowLessonEdit,c=e.mediaType,s=e.user,a=e.id,r=e.description,i=e.text_content,l=e.url,u=e.fetchLessonContent,j=Object(n.useRef)(null),d=Object(n.useState)(i),b=Object(k.a)(d,2),O=b[0],h=b[1],p=Object(n.useState)(!1),v=Object(k.a)(p,2),m=v[0],f=v[1],S=Object(n.useState)(l),y=Object(k.a)(S,2),w=y[0],z=y[1],D=Object(n.useState)(r),E=Object(k.a)(D,2),q=E[0],A=E[1],T=Object(n.useState)(null),P=Object(k.a)(T,2),B=P[0],L=P[1],M=fe("csrftoken"),I=Object(o.g)(),Q=function(){var e=Object(N.a)(g.a.mark((function e(c){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:"Bearer ".concat(s.access)}},f(!0),e.next=5,_.patch("/teacher/editLessonContent/".concat(a),c,n);case 5:u(),t(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var c;(null===(c=j.current)||void 0===c?void 0:c.contains(e.target))||t(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"single-lesson-edit",children:[m&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"single-lesson-editcard",ref:j,children:[Object(x.jsxs)("h1",{children:["Edit ",c]}),"text"===c||"homework"===c?Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Text Content"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:O,config:{ckfinder:{uploadUrl:"https://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":M,csrftoken:M,csrfmiddlewaretoken:M}}},onChange:function(e,t){var c=t.getData();h(c)}})]}):Object(x.jsx)(x.Fragment,{}),"quiz"===c||"assignment"===c?Object(x.jsx)("p",{children:"Edit these content in Myquiz Section"}):Object(x.jsx)(x.Fragment,{}),"pdf"===c&&Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Upload Document"}),Object(x.jsx)("input",{type:"file",accept:".pdf,.doc",onChange:function(e){return L(e.target.files[0])}})]}),"video"===c&&Object(x.jsxs)("div",{className:"video-content",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter video url"}),Object(x.jsx)("input",{type:"text",name:"video_url",value:w,onChange:function(e){return z(e.target.value)}})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter video Description"}),Object(x.jsx)("textarea",{name:"video_desc",value:q,onChange:function(e){return A(e.target.value)}})]})]}),Object(x.jsxs)("div",{className:"lesson-edit-btn",children:["quiz"===c||"assignment"===c?Object(x.jsx)("button",{onClick:function(){return I.push("/quiz")},children:"Quiz Page"}):Object(x.jsx)("button",{onClick:function(){if("video"===c)Q({link:w,link_desc:q});else if("text"===c||"homework"===c){Q({text_content:O})}else if("pdf"===c){var e=new FormData;e.append("pdf",B),Q(e)}},children:"Apply"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},children:"Cancel"})]})]})]})}),_t=c(112),zt=c(111),Dt=c(110),Et=c(113),qt=(c(90),function(e){var t=e.singleContent,c=e.user,s=e.id,a=e.index,r=e.lessonId,i=e.lesson_no,o=e.fetchLessonContent,l=Object(n.useRef)(null),u=Object(n.useState)(!1),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(!1),h=Object(k.a)(O,2),p=h[0],v=h[1],m=Object(n.useState)(!1),f=Object(k.a)(m,2),S=f[0],y=f[1],w=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(c.access)}},y(!0),e.next=5,_.delete("/teacher/editLessonContent/".concat(s),t);case 5:o(),v(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:y(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{ref:l,className:"single-lesson-content",children:[S&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsx)("div",{className:"lesson-left",children:Object(x.jsxs)("div",{className:"label",children:[Object(x.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:[i,".",a+1," ",null===t||void 0===t?void 0:t.media_type.toUpperCase()]}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.text}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.quiz_name}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.assignment_name}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.description}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.text_content})]})}),Object(x.jsxs)("div",{className:"single-lesson-icons",children:[Object(x.jsx)("button",{children:function(){switch(null===t||void 0===t?void 0:t.media_type){case"text":return Object(x.jsx)(de.f,{});case"quiz":return Object(x.jsx)(X.a,{});case"video":return Object(x.jsx)(Dt.a,{});case"homework":return Object(x.jsx)(zt.a,{});case"pdf":return Object(x.jsx)(_t.a,{});case"assignment":return Object(x.jsx)(X.a,{});default:return Object(x.jsx)(Et.a,{})}}()}),Object(x.jsx)("button",{disabled:"null"===r,onClick:function(){return v(!0)},children:Object(x.jsx)(de.e,{})}),Object(x.jsx)("button",{disabled:"null"===r,onClick:function(){return b(!0)},children:Object(x.jsx)(X.d,{})})]}),p&&Object(x.jsx)("div",{className:"delete-modal-wrapper",children:Object(x.jsxs)("div",{className:"delete-modal",children:[Object(x.jsx)("p",{children:"Are you sure you want to delete your course ?"}),Object(x.jsxs)("div",{className:"lesson-delete-modal-button",children:[Object(x.jsx)("button",{onClick:function(){return v(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:w,children:"Proceed and Delete"})]})]})}),d&&Object(x.jsx)(wt,{setShowLessonEdit:b,mediaType:null===t||void 0===t?void 0:t.media_type,description:null===t||void 0===t?void 0:t.description,text_content:null===t||void 0===t?void 0:t.text,url:null===t||void 0===t?void 0:t.link,user:c,id:s,fetchLessonContent:o})]})}),At=c(114),Tt=c.n(At),Pt=c(115),Bt=c.n(Pt),Lt=function(e){var t,c=e.user,s=e.lesson,a=(e.index,e.id),r=e.course_id,i=e.fetchLessonContent,o=Object(n.useState)(!1),l=Object(k.a)(o,2),u=l[0],j=l[1],d=Object(n.useState)(!1),b=Object(k.a)(d,2),O=b[0],h=b[1],p=Object(n.useState)(!1),v=Object(k.a)(p,2),m=v[0],f=v[1],S=Object(n.useState)(!1),y=Object(k.a)(S,2),w=y[0],z=y[1],D=Object(n.useState)(!1),E=Object(k.a)(D,2),q=E[0],A=E[1],T=Object(n.useState)(null===s||void 0===s?void 0:s.lesson_name),P=Object(k.a)(T,2),B=P[0],L=P[1],M=Object(n.useState)(null===s||void 0===s?void 0:s.description),I=Object(k.a)(M,2),Q=I[0],F=I[1],R=Object(n.useState)(null===s||void 0===s?void 0:s.lesson_no),U=Object(k.a)(R,2),J=U[0],H=U[1],Y=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(c.access)}},h(!0),e.next=5,_.delete("/teacher/editLesson/".concat(a),t);case 5:A(!1),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:h(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&B&&Q&&J){e.next=2;break}return e.abrupt("return",alert("Please enter all the fields!"));case 2:return t={course:r,name:B,desp:Q,lessonno:J},e.prev=3,n={headers:{Authorization:"Bearer ".concat(c.access)}},h(!0),e.next=8,_.put("/teacher/editLesson/".concat(a),t,n);case 8:z(!1),i(),h(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0.message);case 16:h(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"single-course-content",children:[O&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{onClick:function(){return j(!u)},className:"lesson_name",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("h5",{children:["Lesson ",null===s||void 0===s?void 0:s.lesson_no," : ",null===s||void 0===s?void 0:s.lesson_name]}),Object(x.jsx)("p",{children:null===s||void 0===s?void 0:s.description})]}),Object(x.jsxs)("div",{className:"single-course-btn",children:[Object(x.jsx)("button",{children:u?Object(x.jsx)(Bt.a,{}):Object(x.jsx)(Tt.a,{})}),Object(x.jsx)("button",{disabled:"null"===a,onClick:function(){return f(!0)},children:Object(x.jsx)(de.d,{})}),Object(x.jsx)("button",{disabled:"null"===a,onClick:function(){return A(!0)},children:Object(x.jsx)(de.e,{})}),Object(x.jsx)("button",{disabled:"null"===a,onClick:function(){return z(!0)},children:Object(x.jsx)(X.d,{})})]}),q&&Object(x.jsx)("div",{className:"delete-modal-wrapper",children:Object(x.jsxs)("div",{className:"delete-modal",children:[Object(x.jsx)("p",{children:"Are you sure you want to delete your course ?"}),Object(x.jsxs)("div",{className:"lesson-delete-modal-button",children:[Object(x.jsx)("button",{onClick:function(){return A(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:Y,children:"Proceed and Delete"})]})]})}),w&&Object(x.jsx)("div",{className:"course-modal-wrapper ",children:Object(x.jsxs)("div",{className:"course-modal lesson-modal",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Name"}),Object(x.jsx)("input",{type:"text",value:B,onChange:function(e){return L(e.target.value)},placeholder:"Lesson name"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Description"}),Object(x.jsx)("textarea",{name:"Lesson-description",value:Q,onChange:function(e){return F(e.target.value)},placeholder:"Enter lesson description"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Number"}),Object(x.jsx)("input",{name:"lesson_no",type:"number",value:J,onChange:function(e){return H(e.target.value)},placeholder:"Enter lesson number"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"edit-modal-btn",children:[Object(x.jsx)("button",{onClick:G,children:"Apply"}),Object(x.jsx)("button",{onClick:function(){return z(!1)},children:"Cancel"})]})]})})]}),u&&Object(x.jsx)("div",{className:"lesson_content",children:null===s||void 0===s||null===(t=s.contents)||void 0===t?void 0:t.map((function(e,t){return Object(x.jsx)(qt,{index:t,id:null===e||void 0===e?void 0:e.content_id,lessonId:null===s||void 0===s?void 0:s.lesson_id,singleContent:e,user:c,lesson_no:s.lesson_no,fetchLessonContent:i},t)}))}),m&&Object(x.jsx)(yt,{id:a,user:c,fetchLessonContent:i,setShowNewContent:f})]})},Mt=function(e){var t=e.lessons,c=e.user,s=e.id,a=e.fetchLessonContent,r=Object(n.useState)(!1),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(!1),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(""),h=Object(k.a)(O,2),p=h[0],v=h[1],m=Object(n.useState)(""),f=Object(k.a)(m,2),S=f[0],y=f[1],w=Object(n.useState)(),z=Object(k.a)(w,2),D=z[0],E=z[1],q=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&p&&S&&D){e.next=2;break}return e.abrupt("return",alert("Please enter all the fields!"));case 2:return t={course:s,name:p,desp:S,lessonno:D},e.prev=3,n={headers:{Authorization:"Bearer ".concat(c.access)}},b(!0),e.next=8,_.post("/teacher/createLesson",t,n);case 8:l(!1),a(),b(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"course-content",children:[d&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"course-content-header",children:[Object(x.jsx)("h2",{children:"Course content"}),Object(x.jsxs)("button",{className:"add-lesson-btn",onClick:function(){return l(!0)},children:[Object(x.jsx)(X.e,{})," Lesson"," "]})]}),o&&Object(x.jsx)("div",{className:"course-modal-wrapper ",children:Object(x.jsxs)("div",{className:"course-modal lesson-modal",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Name"}),Object(x.jsx)("input",{type:"text",value:p,onChange:function(e){return v(e.target.value)},placeholder:"Lesson name"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Description"}),Object(x.jsx)("textarea",{name:"Lesson-description",value:S,onChange:function(e){return y(e.target.value)},placeholder:"Enter lesson description"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Number"}),Object(x.jsx)("input",{name:"lesson_no",type:"number",value:D,min:0,onChange:function(e){return E(e.target.value)},placeholder:"Enter lesson number"})]}),Object(x.jsxs)("div",{className:"modal-btn",children:[Object(x.jsx)("button",{onClick:q,children:"Create Lesson"}),Object(x.jsx)("button",{onClick:function(){return l(!1)},children:"Cancel"})]})]})}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(x.jsx)(Lt,{id:e.lesson_id,course_id:s,index:t,lesson:e,user:c,fetchLessonContent:a},e.lesson_id)}))]})},It=(c(212),function(){var e=Object(o.i)().id,t=Object(n.useState)(null),c=Object(k.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(!0),i=Object(k.a)(r,2),l=i[0],u=i[1],j=Object(n.useContext)(M).userDetails,d=Object(o.g)(),b=function(){var t=Object(N.a)(g.a.mark((function t(){var c,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c={headers:{Authorization:"Bearer ".concat(j.access)}},t.next=4,_.get("/teacher/getCourse/".concat(e),c);case 4:n=t.sent,s=n.data,a(s.course_details),u(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),Object(x.jsx)(x.Fragment,{children:l?Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})}):Object(x.jsxs)("div",{className:"course-edit-page",children:[Object(x.jsxs)("div",{className:"course-btn",children:[Object(x.jsx)("button",{className:"back-btn",onClick:function(){return d.push("/course")},children:"Back to Course"}),Object(x.jsx)("button",{className:"enroll-btn",onClick:function(){return d.push("/enrolledstudent/".concat(e))},children:"Enrolled Students"})]}),Object(x.jsx)(Mt,{lessons:null===s||void 0===s?void 0:s.lessons,user:j,id:e,fetchLessonContent:b})]})})}),Qt=(c(213),function(){var e=Object(n.useState)(null),t=Object(k.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(k.a)(a,2),i=r[0],l=r[1],u=Object(n.useContext)(M).userDetails,j=Object(o.i)().id,d=Object(o.g)(),b=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(u.access)}},l(!0),e.next=5,_.get("teacher/quiz/getQuestions/".concat(j),t);case 5:c=e.sent,n=c.data,s(n.quiz_details),l(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(N.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(u.access)}},l(!0),e.next=5,_.delete("/teacher/deleteQuestionFromQuiz/".concat(j,"/").concat(t),c);case 5:b(),l(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[j]),c?Object(x.jsx)(Ct.a.Context,{input:"tex",onLoad:function(){},onError:function(e,t){console.warn(t),e.Hub.Queue(e.Hub.Typeset())},options:{messageStyle:"none",extensions:["tex2jax.js"],jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0},TeX:{extensions:["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]}},children:Object(x.jsxs)("div",{className:"quiz-questions-div",children:[Object(x.jsxs)("div",{className:"quiz-question-header-1",children:[Object(x.jsxs)("h2",{children:[null===c||void 0===c?void 0:c.quiz_name," Questions"]}),Object(x.jsxs)("div",{className:"quiz-header-buttons",children:[Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return d.push("/quiz")},children:"Back to Quiz"}),Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return d.push("/quizedit/".concat(j))},children:"Add Questions"})]})]}),0===(null===c||void 0===c?void 0:c.questions.length)&&Object(x.jsx)("p",{className:"no-questions",children:"Add questions in this quiz!"}),Object(x.jsx)("div",{className:"quiz-questions",children:null===c||void 0===c?void 0:c.questions.map((function(e,t){return Object(x.jsxs)("div",{className:"quiz-question",children:[Object(x.jsxs)("h3",{children:[t+1,"."]}),Object(x.jsxs)("div",{className:"question-content",children:[Object(x.jsx)("div",{children:Object(x.jsx)(Ct.a.Html,{html:e.question})}),Object(x.jsxs)("div",{className:"question-tags",children:[Object(x.jsx)("h4",{children:"Tags: "}),(null===e||void 0===e?void 0:e.dificulty_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.dificulty_tag}),(null===e||void 0===e?void 0:e.skill)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.skill}),(null===e||void 0===e?void 0:e.subject_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.subject_tag}),(null===e||void 0===e?void 0:e.topic_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.topic_tag}),(null===e||void 0===e?void 0:e.subtopic_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.subtopic_tag})]}),Object(x.jsx)("div",{className:"options",children:e.question.includes("img")&&e.option.map((function(e,t){return Object(x.jsxs)("div",{className:"option",children:[Object(x.jsxs)("span",{children:["(",["A","B","C","D"][t],")"]}),"\xa0",Object(ge.a)(e)]},t)}))})]}),Object(x.jsxs)("div",{className:"question-right-container",children:[Object(x.jsxs)("div",{className:"marks",children:[Object(x.jsxs)("p",{children:["Correct: ",e.correct_marks," Marks"]}),Object(x.jsxs)("p",{children:["Incorrect: -",e.negative_marks," Marks"]})]}),Object(x.jsx)("button",{className:"question-delete-btn",onClick:function(){return O(e.id)},children:Object(x.jsx)(de.e,{})})]})]},t)}))}),i&&Object(x.jsx)("div",{className:"quizquestion-loader",children:Object(x.jsx)(C,{})})]})}):Object(x.jsx)("div",{className:"quiz-questions-loader",children:Object(x.jsx)(C,{})})}),Ft=(c(91),function(e){var t=e.date_of_enrollment,c=e.course_complete_percentage,n=e.student_name,s=e.student_profile_pic,a=t.split("-").reverse().join("-");return Object(x.jsxs)("div",{className:"single-student",children:[Object(x.jsx)("div",{className:"student-left",children:Object(x.jsx)(je.a,{src:s,alt:n})}),Object(x.jsxs)("div",{className:"student-right",children:[Object(x.jsx)("h4",{children:n}),Object(x.jsxs)("p",{children:["Enrolled on : ",a," "]}),Object(x.jsxs)("label",{className:"student-progress",children:[Object(x.jsxs)("p",{children:["Progress : ",c," "]}),Object(x.jsx)("progress",{value:c,max:"100"})]})]})]})}),Rt=function(e){var t=e.students;return Object(x.jsxs)("div",{className:"enrolled-student",children:[Object(x.jsxs)("h2",{style:{fontSize:"22px"},className:"enrolled-student-heading",children:["Enrolled Students : ",null===t||void 0===t?void 0:t.length]}),Object(x.jsx)("div",{className:"enrolled-student-wrapper",children:null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(Ft,Object(m.a)({},e),e.sno)}))})]})},Ut=(c(214),function(){var e=Object(o.i)().id,t=Object(n.useState)(null),c=Object(k.a)(t,2),s=c[0],a=c[1],r=Object(n.useContext)(M).userDetails,i=function(){var t=Object(N.a)(g.a.mark((function t(){var c,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c={headers:{Authorization:"Bearer ".concat(r.access)}},t.next=4,_.get("/teacher/getEnrolledStudents/".concat(r.username,"/").concat(e),c);case 4:n=t.sent,s=n.data,a(s.response),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),s?Object(x.jsx)("div",{className:"enrolled-page",children:Object(x.jsx)(Rt,{students:s})}):Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})})}),Jt=function(){var e=Object(n.useContext)(M).userDetails;return Object(x.jsx)(i.a,{children:Object(x.jsxs)("div",{className:"App",children:[e&&Object(x.jsx)(Ze,{}),Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{exact:!0,path:"/",children:e?Object(x.jsx)(o.a,{to:"/dashboard"}):Object(x.jsx)(rt,{})}),Object(x.jsx)(o.b,{exact:!0,path:"/login",children:e?Object(x.jsx)(o.a,{to:"/"}):Object(x.jsx)(rt,{})}),Object(x.jsx)(o.b,{exact:!0,path:"/dashboard",children:e?Object(x.jsx)(le,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/forum",children:e?Object(x.jsx)(Ae,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/profile",children:e?Object(x.jsx)(nt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/course",children:e?Object(x.jsx)(jt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/quiz",children:e?Object(x.jsx)(Nt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/quizedit/:id",children:e?Object(x.jsx)(St,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/courseedit/:id",children:e?Object(x.jsx)(It,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/quizquestions/:id",children:e?Object(x.jsx)(Qt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/enrolledstudent/:id",children:e?Object(x.jsx)(Ut,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{path:"*",children:Object(x.jsx)(Pe,{})})]})]})})},Ht=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,234)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(L,{children:Object(x.jsx)(Jt,{})})}),document.getElementById("root")),Ht()},54:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){}},[[215,1,2]]]);
//# sourceMappingURL=main.273fbf16.chunk.js.map