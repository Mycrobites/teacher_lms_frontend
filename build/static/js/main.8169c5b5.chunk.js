(this["webpackJsonpteacher-dashboard"]=this["webpackJsonpteacher-dashboard"]||[]).push([[0],{121:function(e,t,c){},122:function(e,t,c){},156:function(e,t,c){},157:function(e,t,c){},167:function(e,t,c){},185:function(e,t,c){},186:function(e,t,c){},187:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},190:function(e,t,c){},191:function(e,t,c){},192:function(e,t,c){},193:function(e,t,c){},219:function(e,t,c){},220:function(e,t,c){},221:function(e,t,c){},222:function(e,t,c){},223:function(e,t,c){},224:function(e,t,c){},225:function(e,t,c){},227:function(e,t,c){},228:function(e,t,c){},229:function(e,t,c){},230:function(e,t,c){},231:function(e,t,c){},232:function(e,t,c){},257:function(e,t){},281:function(e,t,c){},282:function(e,t,c){},283:function(e,t,c){},284:function(e,t,c){},285:function(e,t,c){},286:function(e,t,c){},287:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(21),r=c.n(a),i=(c(156),c(9)),o=c(13),l=c(75),u=c.n(l),j=c(79),d=c.n(j),b=c(77),O=c.n(b),p=c(78),h=c.n(p),x=(c(157),c(1)),v=function(e){var t=e.active;return Object(x.jsxs)("div",{className:"sidebar",children:[Object(x.jsxs)("div",{className:"sidebar-responsive",children:[Object(x.jsx)("div",{id:"dashboard"===t?"active":"",className:"menu",children:Object(x.jsx)(i.b,{to:"/",children:Object(x.jsx)(u.a,{})})}),Object(x.jsx)("div",{id:"course"===t?"active":"",className:"menu",children:Object(x.jsx)(i.b,{to:"/course",children:Object(x.jsx)(O.a,{})})}),Object(x.jsx)("div",{id:"quiz"===t?"active":"",className:"menu",children:Object(x.jsx)(i.b,{to:"/quiz",children:Object(x.jsx)(h.a,{})})}),Object(x.jsx)("div",{id:"forum"===t?"active":"",className:"menu",children:Object(x.jsx)(i.b,{to:"/forum",children:Object(x.jsx)(d.a,{})})})]}),Object(x.jsxs)("div",{className:"sidebar-menu",children:[Object(x.jsx)("div",{id:"dashboard"===t?"active":"",className:"menu",children:Object(x.jsxs)(i.b,{to:"/",children:[Object(x.jsx)(u.a,{}),"Dashboard"]})}),Object(x.jsx)("div",{id:"course"===t?"active":"",className:"menu",children:Object(x.jsxs)(i.b,{to:"/course",children:[Object(x.jsx)(O.a,{}),"My Courses"]})}),Object(x.jsx)("div",{id:"quiz"===t?"active":"",className:"menu",children:Object(x.jsxs)(i.b,{to:"/quiz",children:[Object(x.jsx)(h.a,{}),"My Quiz"]})}),Object(x.jsx)("div",{id:"forum"===t?"active":"",className:"forum menu",children:Object(x.jsxs)(i.b,{to:"/forum",children:[Object(x.jsx)(d.a,{}),"Forum"]})})]})]})},m=c(8),f=c(5),g=c.n(f),N=c(6),k=c(4),C=(c(167),function(){return Object(x.jsx)("div",{className:"Loader",children:Object(x.jsxs)("div",{className:"lds-ellipsis",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})})}),S=c(14),y=c(64),w=c.n(y),z=w.a.create({baseURL:"https://lab.progressiveminds.in"}),_=(c(185),function(){var e=new Date,t=e.getFullYear(),c=e.getMonth()<10?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),s=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),a=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(t,"-").concat(c,"-").concat(n,"T").concat(s,":").concat(a)}),q=function(e){var t=e.split("T")[0].split("-"),c=e.split("T")[1];return"".concat(t[2],"/").concat(t[1],"/").concat(t[0]," ").concat(c)},D=function(e){var t=e.setShowScheduleClass,c=e.courseList,s=e.user,a=e.fetchUpcomingEvents,r=Object(n.useState)(""),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(""),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(_),p=Object(k.a)(O,2),h=p[0],v=p[1],m=Object(n.useState)(c[0].id?c[0].id:null),f=Object(k.a)(m,2),y=f[0],w=f[1],D=Object(n.useState)(!1),E=Object(k.a)(D,2),A=E[0],T=E[1],B=Object(n.useRef)(null),L=function(){var e=Object(N.a)(g.a.mark((function e(){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&d){e.next=2;break}return e.abrupt("return",alert("Please fill all the fields!"));case 2:return e.prev=2,n={user:s.username,course:y,topic:o,link:d,timeStamp:q(h)},r={headers:{Authorization:"Bearer ".concat(s.access)}},T(!0),e.next=8,z.post("/teacher/scheduleliveclass/",n,r);case 8:l(""),b(""),w(c[0].id),t(!1),a(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0.message);case 18:T(!1);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var c;(null===(c=B.current)||void 0===c?void 0:c.contains(e.target))||t(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"schedule-class-modal",children:[A&&Object(x.jsx)("div",{className:"schedule-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"schedule-class-modal-card",ref:B,children:[Object(x.jsx)("h1",{children:"Schedule Class"}),Object(x.jsx)("select",{value:y,onChange:function(e){return w(e.target.value)},children:null===c||void 0===c?void 0:c.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.course_name},e.id)}))}),Object(x.jsx)("button",{onClick:function(){return t(!1)},className:"close-btn",children:Object(x.jsx)(S.d,{})}),Object(x.jsxs)("div",{className:"schedule-class-form",children:[Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Class Title"}),Object(x.jsx)("input",{type:"text",placeholder:"Class Title...",value:o,onChange:function(e){return l(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Link"}),Object(x.jsx)("input",{type:"text",placeholder:"Link...",value:d,onChange:function(e){return b(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Time"}),Object(x.jsx)("input",{type:"datetime-local",value:h,onChange:function(e){return v(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"submit-btn",onClick:L,children:"Schedule"})]})]})]})},E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],A=["January","February","March","April","May","June","July","August","September","October","November","December"],T=(c(186),Object(n.createContext)()),B=function(){var e=localStorage.getItem("user-details");return e?JSON.parse(e):null},L=function(){var e=localStorage.getItem("user-profile-pic");return e?JSON.parse(e):null},P=function(e){var t=Object(n.useState)(B),c=Object(k.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(L),i=Object(k.a)(r,2),o=i[0],l=i[1];return Object(x.jsx)(T.Provider,{value:{userDetails:s,updateUser:function(e){a(e),localStorage.setItem("user-details",JSON.stringify(e))},removeUser:function(){a(null),sessionStorage.clear(),localStorage.clear()},userProfilePic:o,updateUserProfilePic:function(e){l({profile:e}),localStorage.setItem("user-profile-pic",JSON.stringify({profile:e}))}},children:e.children})},M=T,I=function(){var e=new Date,t=e.getFullYear(),c=e.getMonth()<10?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),s=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),a=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(t,"-").concat(c,"-").concat(n,"T").concat(s,":").concat(a)},Q=function(e){var t=e.split("T")[0].split("-"),c=e.split("T")[1];return"".concat(t[0],"-").concat(t[1],"-").concat(t[2],"T").concat(c)},U=function(e){var t=e.id,c=e.course,s=e.link,a=e.timeStamp,r=e.topic,i=e.fetchUpcomingEvents,o=new Date(a),l=Object(n.useState)(!1),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(!1),O=Object(k.a)(b,2),p=O[0],h=O[1],v=Object(n.useState)(!1),m=Object(k.a)(v,2),f=m[0],S=m[1],y=Object(n.useState)(r),w=Object(k.a)(y,2),_=w[0],q=w[1],D=Object(n.useState)(I),A=Object(k.a)(D,2),T=A[0],B=A[1],L=Object(n.useState)(s),P=Object(k.a)(L,2),U=P[0],F=P[1],R=Object(n.useContext)(M).userDetails,J=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!1),e.prev=1,c={headers:{Authorization:"Bearer ".concat(R.access)}},d(!0),e.next=6,z.delete("teacher/editliveclass/".concat(t),c);case 6:i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(N.a)(g.a.mark((function e(){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&U&&T){e.next=2;break}return e.abrupt("return",alert("Please enter all fields!"));case 2:return d(!0),n={user:R.user_id,id:t,course:c,topic:_,link:U,timeStamp:Q(T)},d(!0),e.prev=5,s={headers:{Authorization:"Bearer ".concat(R.access)}},d(!0),e.next=10,z.put("teacher/editliveclass/".concat(t),n,s);case 10:i(),h(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0.message);case 17:d(!1);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"single-lesson",children:[Object(x.jsxs)("div",{className:"time",children:[Object(x.jsxs)("h2",{children:[E[o.getMonth()]," ",o.getDate()]}),Object(x.jsxs)("p",{children:[12===o.getHours()?o.getHours():o.getHours()%12<10?"0".concat(o.getHours()%12):o.getHours()%12,":",o.getMinutes()<10?"0".concat(o.getMinutes()):o.getMinutes(),o.getHours()<12?" AM":" PM"]})]}),Object(x.jsx)("div",{className:"title",children:Object(x.jsx)("h2",{children:r})}),Object(x.jsxs)("div",{className:"meeting-link",children:[Object(x.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:"Join here"}),Object(x.jsx)("div",{className:"meeting-link edit-class",children:Object(x.jsx)("button",{onClick:function(){return h(!0)},children:"Edit Class"})}),Object(x.jsx)("div",{className:"meeting-link delete-class",children:Object(x.jsx)("button",{onClick:function(){return S(!0)},children:"Delete Class"})})]}),j&&Object(x.jsx)("div",{className:"schedule-loader",children:Object(x.jsx)(C,{})}),p&&Object(x.jsx)("div",{className:"schedule-class-modal",children:Object(x.jsxs)("div",{className:"schedule-class-modal-card schedule-class-form",children:[Object(x.jsx)("h1",{children:"Edit Class"}),Object(x.jsxs)("div",{className:"schedule-class-form",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Class Name"}),Object(x.jsx)("input",{type:"text",value:_,name:"topic",onChange:function(e){return q(e.target.value)},placeholder:"Meeting Name"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Date"}),Object(x.jsx)("input",{type:"datetime-local",value:T,onChange:function(e){return B(e.target.value)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"New Link"}),Object(x.jsx)("input",{name:"link",type:"text",value:U,onChange:function(e){return F(e.target.value)},placeholder:"paste meeting link"})]})]}),Object(x.jsxs)("div",{className:"edit-modal-button",children:[Object(x.jsx)("button",{onClick:G,children:"Apply"}),Object(x.jsx)("button",{onClick:function(){return h(!1)},children:"Cancel"})]})]})}),f&&Object(x.jsx)("div",{className:"course-modal-wrapper",children:Object(x.jsxs)("div",{className:"delete-modal",children:[Object(x.jsx)("p",{children:"Are you sure you want to delete this class ?"}),Object(x.jsxs)("div",{className:"course-modal-buttons",children:[Object(x.jsx)("button",{onClick:function(){return S(!1)},className:"btn",children:"Cancel"}),Object(x.jsx)("button",{onClick:J,className:"btn",children:"Proceed and Delete"})]})]})})]})},F=(c(187),function(){var e=localStorage.getItem("live-class");return e?JSON.parse(e):null}),R=function(){var e=localStorage.getItem("course-list");return e?JSON.parse(e):null},J=function(e){var t=e.user,c=Object(n.useState)(F),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(R),o=Object(k.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(!1),d=Object(k.a)(j,2),b=d[0],O=d[1],p=Object(n.useState)(!1),h=Object(k.a)(p,2),v=h[0],f=h[1],S=Object(n.useContext)(M).userDetails,y=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||O(!0),e.prev=1,c={headers:{Authorization:"Bearer ".concat(S.access)}},e.next=5,z.get("/teacher/getLiveclass/".concat(t.username),c);case 5:n=e.sent,s=n.data,i=s.response.sort((function(e,t){return new Date(t.timeStamp)-new Date(e.timeStamp)})).reverse(),localStorage.setItem("live-class",JSON.stringify(i)),localStorage.setItem("course-list",JSON.stringify(i)),r(i),u(s["course list"]),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0.message);case 17:O(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y()}),[]),Object(x.jsxs)("div",{className:"UpcomingLessons",children:[Object(x.jsxs)("div",{className:"UpcomingLessons-header",children:[Object(x.jsx)("h1",{children:"Live Classes"}),Object(x.jsx)("button",{onClick:function(){return f(!0)},children:"Schedule Class"})]}),b&&Object(x.jsx)(C,{}),Object(x.jsx)("div",{className:"lesson",children:null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsx)(U,Object(m.a)(Object(m.a)({},e),{},{fetchUpcomingEvents:y}),e.id)}))}),v&&Object(x.jsx)(D,{setShowScheduleClass:f,courseList:l,user:t,fetchUpcomingEvents:y})]})},G=c(147),H=(c(188),function(){var e=Object(n.useState)(new Date),t=Object(k.a)(e,2),c=t[0],s=t[1];return Object(x.jsxs)("div",{className:"calendar",children:[Object(x.jsx)("h1",{children:"Calender"}),Object(x.jsx)(G.a,{onChange:s,value:c,className:"react-calendar"})]})}),Y=function(e){var t=e.course_name,c=e.image,n=e.author_name,s=e.course_description,a=e.id,r=Object(o.g)();return Object(x.jsxs)("div",{className:"Course",onClick:function(){return r.push("/courseedit/".concat(a))},children:[Object(x.jsx)("div",{className:"course-image",children:Object(x.jsx)("img",{src:c,alt:t})}),Object(x.jsxs)("div",{className:"course-content",children:[Object(x.jsx)("h2",{children:t}),Object(x.jsx)("div",{className:"instructor",children:Object(x.jsxs)("h3",{children:["by ",n]})}),Object(x.jsx)("div",{className:"course-description",children:Object(x.jsx)("p",{children:s})})]})]})},K=(c(189),function(){var e=localStorage.getItem("courses");return e?JSON.parse(e):null}),$=function(e){var t=e.user,c=Object(n.useState)(K),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!1),l=Object(k.a)(i,2),u=l[0],j=l[1],d=Object(o.g)(),b=Object(n.useRef)(!0),O=Object(n.useContext)(M).userDetails;return Object(n.useEffect)((function(){return function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||j(!0),e.prev=1,c={headers:{Authorization:"Bearer ".concat(O.access)}},e.next=5,z.get("/teacher/getMyCourses/".concat(null===t||void 0===t?void 0:t.username),c);case 5:n=e.sent,s=n.data,b.current&&(i=s.filter((function(e,t){return t<2})),r(i),localStorage.setItem("courses",JSON.stringify(i))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message);case 13:j(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){b.current=!1}}),[a]),Object(x.jsxs)("div",{className:"Courses",children:[Object(x.jsx)("h2",{children:"My Courses"}),u?Object(x.jsx)(C,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"course-cards",children:null===a||void 0===a?void 0:a.map((function(e,t){return Object(x.jsx)(Y,Object(m.a)({},e),t)}))}),Object(x.jsx)("button",{onClick:function(){return d.push("/course")},className:"all-courses-btn",children:"See all"})]})]})},X=c(23),V=c(11),W=c(126),Z=c.n(W),ee=c(127),te=c.n(ee),ce=function(e){var t=e.id,c=e.title,s=e.dueDate,a=e.isComplete,r=e.tasks,i=e.setTasks,o=e.user,l=Object(n.useState)(a),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(!1),O=Object(k.a)(b,2),p=O[0],h=O[1],v=Object(n.useState)(c),m=Object(k.a)(v,2),f=m[0],C=m[1],y=Object(n.useState)(s),w=Object(k.a)(y,2),_=w[0],q=w[1],D=Object(n.useRef)(null),E=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!p),e.prev=1,c={id:t,title:f,dueDate:_,isComplete:a,user:o.user_id},n=r.map((function(e){return e.id===t?c:e})),i(n),localStorage.setItem("tasks",JSON.stringify(n)),s={headers:{Authorization:"Bearer ".concat(o.access)}},e.next=9,z.put("/api/todo/edit/".concat(t),c,s);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=r.filter((function(e){return e.id!==t})),localStorage.setItem("tasks",JSON.stringify(c)),i(c),n={headers:{Authorization:"Bearer ".concat(o.access)}},e.next=7,z.delete("/api/todo/edit/".concat(t),n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(N.a)(g.a.mark((function e(){var n,a,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!j),n={id:t,title:c,dueDate:s,isComplete:!j,user:null===o||void 0===o?void 0:o.pk},a=r.map((function(e){return e.id===t?n:e})),localStorage.setItem("tasks",JSON.stringify(a)),e.prev=4,i={headers:{Authorization:"Bearer ".concat(o.access)}},e.next=8,z.put("/api/todo/edit/".concat(t),n,i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p&&D.current.focus()}),[p]),Object(x.jsxs)("div",{className:"task-component",children:[Object(x.jsxs)("div",{className:"Task",children:[Object(x.jsx)("button",{className:"check-btn",onClick:B,children:j?Object(x.jsx)(V.b,{}):Object(x.jsx)(V.f,{})}),Object(x.jsxs)("div",{className:"task-title",children:[Object(x.jsx)("h3",{style:{textDecoration:j?"line-through":"none"},children:c}),Object(x.jsxs)("p",{children:["Due Date: ",s.split("-")[2]," ",s.split("-")[1]<10?A[s.split("-")[1].split("")[1]-1]:A[s.split("-")[1]]," ",s.split("-")[0]]})]}),Object(x.jsx)("button",{onClick:function(){return h(!p)},className:"edit--button",children:Object(x.jsx)(Z.a,{})}),Object(x.jsx)("button",{onClick:T,className:"delete--button",children:Object(x.jsx)(te.a,{})})]}),p&&Object(x.jsx)("div",{className:"edit-task",children:Object(x.jsxs)("form",{className:"edit-task-form",onSubmit:E,children:[Object(x.jsxs)("div",{className:"edit-form-inputs",children:[Object(x.jsx)("input",{type:"text",placeholder:"Add New Task",value:f,onChange:function(e){return C(e.target.value)},ref:D}),Object(x.jsx)("input",{type:"date",value:_,onChange:function(e){return q(e.target.value)}})]}),Object(x.jsx)("button",{type:"submit",children:"save"}),Object(x.jsx)(S.d,{onClick:function(e){return h(!p)}})]})})]})},ne=(c(190),function(){var e=localStorage.getItem("tasks");return e?JSON.parse(e):null}),se=function(e){var t=e.user,c=Object(n.useState)(ne),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!1),o=Object(k.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(!1),d=Object(k.a)(j,2),b=d[0],O=d[1],p=Object(n.useState)(!1),h=Object(k.a)(p,2),v=h[0],f=h[1],y=Object(n.useState)(""),w=Object(k.a)(y,2),_=w[0],q=w[1],D=Object(n.useState)(""),E=Object(k.a)(D,2),A=E[0],T=E[1],B=Object(n.useContext)(M).userDetails;Object(n.useEffect)((function(){var e=!1;return function(){var c=Object(N.a)(g.a.mark((function c(){var n,s,a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n={headers:{Authorization:"Bearer ".concat(B.access)}},c.next=4,z.get("/api/todo/".concat(null===t||void 0===t?void 0:t.username),n);case 4:s=c.sent,a=s.data,e||(r(a),localStorage.setItem("tasks",JSON.stringify(a))),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.message);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(){return c.apply(this,arguments)}}()(),function(){e=!0}}),[]);var L=function(){var e=Object(N.a)(g.a.mark((function e(c){var n,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),u(!0),e.prev=2,10!==a.length){e.next=7;break}alert("You can't add more than 10 tasks"),e.next=20;break;case 7:if(!(_.length>0&&A)){e.next=19;break}return n={headers:{Authorization:"Bearer ".concat(t.access)}},e.next=11,z.post("/api/todo/create",{title:_,dueDate:A,isComplete:!1,user:t.user_id},n);case 11:s=e.sent,i=s.data,r([].concat(Object(X.a)(a),[i])),q(""),T(""),O(!1),e.next=20;break;case 19:f(!0);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),console.log(e.t0.message);case 25:u(!1);case 26:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=setTimeout((function(){f(!1)}),3e3);return function(){return clearTimeout(e,3e3)}}),[v]),Object(x.jsxs)("div",{className:"Tasks",children:[l&&Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"task-header",children:[Object(x.jsx)("h1",{children:"Tasks"}),Object(x.jsx)("button",{onClick:function(){return O(!b)},children:b?Object(x.jsx)(S.d,{}):Object(x.jsx)(S.a,{})})]}),0===(null===a||void 0===a?void 0:a.length)&&Object(x.jsx)("p",{className:"no-task",children:"You haven't added any task"}),Object(x.jsxs)("div",{className:"Tasks-main-div",children:[b&&Object(x.jsx)("div",{className:"add-newtask",children:Object(x.jsxs)("form",{onSubmit:L,children:[Object(x.jsx)("input",{type:"text",placeholder:"Add New Task",value:_,onChange:function(e){return q(e.target.value)}}),Object(x.jsx)("input",{type:"date",value:A,onChange:function(e){return T(e.target.value)}}),v&&Object(x.jsxs)("div",{className:"error",children:[Object(x.jsx)(S.e,{}),Object(x.jsx)("h3",{children:"All fields must be filled"})]}),Object(x.jsx)("button",{type:"submit",children:"Add"})]})}),l&&Object(x.jsx)(C,{}),Object(x.jsx)("div",{className:"tasks",children:null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsx)(ce,Object(m.a)(Object(m.a)({},e),{},{tasks:a,setTasks:r,user:t}),e.id)}))})]})]})},ae=(c(191),function(e){var t=e.split(" ")[0].split("/"),c=e.split(" ")[1];return"".concat(t[0]," ").concat(t[1]<10?A[t[1].split("")[1]-1]:A[t[1]-1]," ").concat(t[2]," ").concat(c)}),re=function(e){var t=e.split(":"),c="00"!==t[0]?"".concat(t[0]," hours "):"",n="00"!==t[1]?"".concat(t[1]," mins "):"",s="00"!==t[2]?"".concat(t[2]," secs"):"";return"".concat(c).concat(n).concat(s)},ie=function(){var e=localStorage.getItem("past-quiz");return e?JSON.parse(e):null},oe=function(e){var t=e.user,c=Object(n.useState)(ie),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(o.g)();return Object(n.useEffect)((function(){var e=!1;return function(){var c=Object(N.a)(g.a.mark((function c(){var n,s,a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n={headers:{Authorization:"Bearer ".concat(t.access)}},c.next=4,z.get("/teacher/quiz/getQuiz/".concat(t.username),n);case 4:s=c.sent,a=s.data,e||(r(a.response),localStorage.setItem("past-quiz",JSON.stringify(a.response))),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.message);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(){return c.apply(this,arguments)}}()(),function(){e=!0}}),[]),Object(x.jsxs)("div",{className:"past-quiz",children:[Object(x.jsx)("h2",{className:"past-quiz-title",children:"Upcoming Quiz"}),!a&&Object(x.jsx)(C,{}),Object(x.jsx)("div",{className:"past-quiz-cards",children:null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsxs)("div",{onClick:function(){return i.push("/quizquestions/".concat(e.id))},className:"single-past-quiz",style:{cursor:"pointer"},children:[Object(x.jsx)("h2",{children:e.quiz_title}),Object(x.jsxs)("p",{children:["Duration: ",re(e.duration)]}),Object(x.jsxs)("p",{children:["Starts on ",ae(e.start_date)]}),Object(x.jsxs)("p",{children:["Ends on ",ae(e.expire_date)]})]},e.id)}))})]})},le=(c(192),function(){var e=Object(n.useContext)(M).userDetails;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{active:"dashboard"}),Object(x.jsx)("div",{className:"Dashboard",children:Object(x.jsxs)("div",{className:"dashboard-items",children:[Object(x.jsx)(J,{user:e}),Object(x.jsx)($,{user:e}),Object(x.jsx)(H,{}),Object(x.jsx)(se,{user:e}),Object(x.jsx)(oe,{user:e})]})})]})}),ue=function(e){var t=e.reportModalText,c=e.setShowReportModal;return Object(x.jsx)("div",{className:"report-modal",children:Object(x.jsxs)("div",{className:"report-modal-div",children:[Object(x.jsxs)("h2",{children:[t,"!"]}),Object(x.jsx)("button",{onClick:function(){return c(!1)},children:"Okay"})]})})},je=c(313),de=c(12),be=c(35),Oe=function(e){var t=e.id,c=e.user_profile_pic,s=e.time,a=e.user,r=e.text,i=e.upvote,o=e.userid,l=e.uid,u=e.replies,j=e.setReplies,d=Object(n.useState)(!1),b=Object(k.a)(d,2),O=b[0],p=b[1],h=Object(n.useState)(!1),v=Object(k.a)(h,2),f=v[0],C=v[1],S=Object(n.useState)(!1),y=Object(k.a)(S,2),w=y[0],_=y[1],q=Object(n.useState)(!1),D=Object(k.a)(q,2),E=D[0],T=D[1],B=Object(n.useState)(r),L=Object(k.a)(B,2),P=L[0],I=L[1],Q=Object(n.useContext)(M).userDetails,U=Object(n.useRef)(null),F=new Date(s),R=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Q.access)}},e.next=4,z.post("/api/forum/reportComment",{user:l,comment:t},c);case 4:200===(n=e.sent).status&&(C(!0),n.data.message?_(n.data.message):_("You reported this post")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Q.access)}},e.next=4,z.delete("/api/forum/editComment/".concat(t),c);case 4:j(u.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Q.access)}},e.next=4,z.patch("/api/forum/upvote/".concat(t,"/").concat(Q.username),c);case 4:n=e.sent,1===(s=n.data).upvote.length?j(u.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{upvote:e.upvote+1}):e}))):0===s.upvote.length&&j(u.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{upvote:e.upvote-1}):e}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Q.access)}},e.next=4,z.put("/api/forum/editComment/".concat(t),{text:P,userid:l,postid:null},c);case 4:n=e.sent,s=n.data,T(!1),j(u.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{text:s.text}):e}))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),j(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var t;(null===U||void 0===U||null===(t=U.current)||void 0===t?void 0:t.contains(e.target))||p(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"reply",children:[Object(x.jsx)("div",{className:"reply-user",children:Object(x.jsx)(je.a,{src:c})}),Object(x.jsxs)("div",{className:"reply-content",children:[Object(x.jsxs)("div",{className:"comment-time",children:[Object(x.jsxs)("h3",{className:"time",children:["Replied on ",F.getDate()," ",A[F.getMonth()]," ",F.getFullYear()," ",s.split(" ")[1]]}),o===l&&Object(x.jsx)("button",{onClick:function(){return p(!O)},className:"three-dots",ref:U,children:Object(x.jsx)(be.b,{})}),O&&Object(x.jsxs)("div",{className:"delete-edit-comment-div",children:[Object(x.jsxs)("button",{id:"edit-btn",onClick:function(){return T(!0)},children:[Object(x.jsx)(V.d,{})," Edit"]}),Object(x.jsxs)("button",{id:"delete-btn",onClick:J,children:[Object(x.jsx)(V.c,{})," Delete"]})]})]}),Object(x.jsx)("h2",{className:"reply-user",children:a}),E?Object(x.jsxs)("div",{className:"edit-comment-div",children:[Object(x.jsx)("textarea",{placeholder:"Edit reply...",value:P,onChange:function(e){return I(e.target.value)}}),Object(x.jsxs)("div",{className:"edit-div",children:[Object(x.jsx)("button",{onClick:function(){return T(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:H,children:"Done"})]})]}):Object(x.jsx)("p",{className:"reply-text",children:r}),Object(x.jsxs)("div",{className:"comment-upvotes",children:[Object(x.jsxs)("button",{onClick:G,children:[Object(x.jsx)(de.a,{})," Upvotes (",i,")"]}),Object(x.jsxs)("button",{onClick:R,className:"report-button",children:[Object(x.jsx)(V.g,{})," Report"]})]})]}),f&&Object(x.jsx)(ue,{reportModalText:w,setShowReportModal:C})]},t)},pe=(c(193),function(e){var t=e.id,c=e.uid,s=e.setTotalReplies,a=Object(n.useState)(null),r=Object(k.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(!1),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(""),O=Object(k.a)(b,2),p=O[0],h=O[1],v=Object(n.useContext)(M).userDetails,f=function(){var e=Object(N.a)(g.a.mark((function e(){var n,a,r,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=3;break}return alert("empty"),e.abrupt("return");case 3:return e.prev=3,n={text:p,userid:c,postid:null,parent:t},a={headers:{Authorization:"Bearer ".concat(v.access)}},e.next=8,z.post("/api/forum/createComments",n,a);case 8:r=e.sent,l=r.data,o([].concat(Object(X.a)(i),[l.comment])),s((function(e){return e+1})),h(""),d(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=!1;return function(){var c=Object(N.a)(g.a.mark((function c(){var n,s,a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n={headers:{Authorization:"Bearer ".concat(v.access)}},c.next=4,z.get("/api/forum/getComments/".concat(t),n);case 4:s=c.sent,a=s.data,e||o(a.comments),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0.message);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(){return c.apply(this,arguments)}}()(),function(){e=!0}}),[t]),Object(x.jsx)("div",{className:"comment-reply",children:i?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{onClick:function(){return d(!j)},className:"reply-button",children:"Reply"}),j&&Object(x.jsxs)("div",{className:"reply-form",children:[Object(x.jsx)("textarea",{placeholder:"Reply...",value:p,onChange:function(e){return h(e.target.value)}}),Object(x.jsxs)("div",{className:"reply-form-buttons",children:[Object(x.jsx)("button",{onClick:function(){return d(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:f,children:"Reply"})]})]}),0===(null===i||void 0===i?void 0:i.length)&&Object(x.jsx)("p",{className:"no-answers",children:"No replies to display..."}),null===i||void 0===i?void 0:i.map((function(e){return Object(x.jsx)(Oe,Object(m.a)(Object(m.a)({},e),{},{uid:c,replies:i,setReplies:o}),e.id)}))]}):Object(x.jsx)(C,{})})}),he=c(128),xe=c(19),ve=c(20),me=c.n(ve),fe=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var c=document.cookie.split(";"),n=0;n<c.length;n++){var s=c[n].trim();if(s.substring(0,e.length+1)===e+"="){t=decodeURIComponent(s.substring(e.length+1));break}}return t},ge=c(32),Ne=function(e){var t=e.id,c=e.user,s=e.userid,a=e.user_profile_pic,r=e.upvote,i=e.text,o=e.time,l=e.comments,u=e.setComments,j=e.uid,d=e.totalreplies,b=Object(n.useState)(!1),O=Object(k.a)(b,2),p=O[0],h=O[1],v=Object(n.useState)(!1),f=Object(k.a)(v,2),C=f[0],S=f[1],y=Object(n.useState)(null),w=Object(k.a)(y,2),_=w[0],q=w[1],D=Object(n.useState)(!1),E=Object(k.a)(D,2),T=E[0],B=E[1],L=Object(n.useState)(i),P=Object(k.a)(L,2),I=P[0],Q=P[1],U=Object(n.useState)(!1),F=Object(k.a)(U,2),R=F[0],J=F[1],G=Object(n.useState)(d),H=Object(k.a)(G,2),Y=H[0],K=H[1],$=Object(n.useRef)(null),X=new Date(o),W=Object(n.useContext)(M).userDetails,Z=fe("csrftoken"),ee=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(W.access)}},e.next=4,z.post("/api/forum/reportComment",{user:j,comment:t},c);case 4:200===(n=e.sent).status&&(S(!0),n.data.message?q(n.data.message):q("You reported this post")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(W.access)}},e.next=4,z.patch("/api/forum/upvote/".concat(t,"/").concat(W.username),c);case 4:n=e.sent,1===(s=n.data).upvote.length?u(l.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{upvote:e.upvote+1}):e}))):0===s.upvote.length&&u(l.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{upvote:e.upvote-1}):e}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(W.access)}},e.next=4,z.delete("/api/forum/editComment/".concat(t),c);case 4:u(l.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(W.access)}},e.next=4,z.put("/api/forum/editComment/".concat(t),{text:I,userid:j,postid:null},c);case 4:n=e.sent,s=n.data,B(!1),u(l.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{text:s.text}):e}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var t;(null===$||void 0===$||null===(t=$.current)||void 0===t?void 0:t.contains(e.target))||h(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"comment",children:[Object(x.jsx)("div",{className:"user-profile",children:Object(x.jsx)(je.a,{src:a})}),Object(x.jsxs)("div",{className:"comment-content",children:[Object(x.jsxs)("div",{className:"comment-time",children:[Object(x.jsxs)("h3",{className:"time",children:["Posted on ",X.getDate()," ",A[X.getMonth()]," ",X.getFullYear()," ",o.split(" ")[1]]}),s===j&&Object(x.jsx)("button",{onClick:function(){return h(!p)},className:"three-dots",ref:$,children:Object(x.jsx)(be.b,{})}),p&&Object(x.jsxs)("div",{className:"delete-edit-comment-div",children:[Object(x.jsxs)("button",{id:"edit-btn",onClick:function(){return B(!0)},children:[Object(x.jsx)(V.d,{})," Edit"]}),Object(x.jsxs)("button",{id:"delete-btn",onClick:ce,children:[Object(x.jsx)(V.c,{})," Delete"]})]})]}),Object(x.jsx)("h2",{className:"username",children:c}),T?Object(x.jsxs)("div",{className:"edit-comment-div",children:[Object(x.jsx)(xe.CKEditor,{editor:me.a,data:I,config:{ckfinder:{uploadUrl:"https://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":Z,csrftoken:Z,csrfmiddlewaretoken:Z}}},onChange:function(e,t){var c=t.getData();Q(c)}}),Object(x.jsxs)("div",{className:"edit-div",children:[Object(x.jsx)("button",{onClick:function(){return B(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:ne,children:"Done"})]})]}):Object(x.jsx)("p",{className:"comment-text",children:"<"===i[0]?Object(ge.a)(i):i}),Object(x.jsxs)("div",{className:"comment-upvotes",children:[Object(x.jsxs)("button",{onClick:te,children:[Object(x.jsx)(de.a,{})," Upvotes (",r,")"]}),Object(x.jsxs)("button",{onClick:ee,children:[Object(x.jsx)(V.g,{})," Report"]}),Object(x.jsxs)("button",{onClick:function(){return J(!R)},children:[Object(x.jsx)(he.a,{})," ",Y," Replies"]})]}),R&&Object(x.jsx)(pe,{uid:j,id:t,setTotalReplies:K})]}),C&&Object(x.jsx)(ue,{reportModalText:_,setShowReportModal:S})]})},ke=function(e){var t=e.setShowPostComment,c=e.postid,s=e.uid,a=e.setTotalAnswers,r=Object(n.useState)(""),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(!1),j=Object(k.a)(u,2),d=j[0],b=j[1],O=fe("csrftoken"),p=Object(n.useContext)(M).userDetails,h=function(){var e=Object(N.a)(g.a.mark((function e(){var n,r,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=12;break}return n={text:o,userid:s,postid:c},r={headers:{Authorization:"Bearer ".concat(p.access)}},e.next=6,z.post("/api/forum/createComments",n,r);case 6:i=e.sent,l=i.data,t(!1),l&&a((function(e){return e+1})),e.next=13;break;case 12:b(!0);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=setTimeout((function(){b(!1)}),3e3);return function(){return clearTimeout(e,3e3)}}),[d]),Object(x.jsxs)("div",{className:"post-comment",children:[Object(x.jsx)("div",{className:"user-profile",children:Object(x.jsx)(je.a,{})}),Object(x.jsxs)("div",{className:"post-comment-body",children:[Object(x.jsx)("form",{className:"post-comment-form",children:Object(x.jsx)(xe.CKEditor,{editor:me.a,data:o,config:{ckfinder:{uploadUrl:"https://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":O,csrftoken:O,csrfmiddlewaretoken:O}}},onChange:function(e,t){var c=t.getData();l(c)}})}),d&&Object(x.jsxs)("div",{className:"error",children:[Object(x.jsx)(S.e,{}),Object(x.jsx)("h3",{children:"All fields must be filled"})]}),Object(x.jsxs)("div",{className:"post-comment-buttons",children:[Object(x.jsx)("button",{onClick:function(){return t(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:h,children:"Submit"})]})]})]})},Ce=c(310),Se=c(41),ye=Object(Ce.a)((function(e){return{large:{width:e.spacing(7),height:e.spacing(7)}}})),we=function(e){var t=e.id,c=e.title,s=e.desc,a=e.time,r=e.user,i=e.user_profile_pic,o=e.userid,l=e.uid,u=e.fetchPosts,j=e.tags,d=e.posts,b=e.setPosts,O=e.total_answer,p=Object(n.useState)(null),h=Object(k.a)(p,2),v=h[0],f=h[1],S=Object(n.useState)(!1),y=Object(k.a)(S,2),w=y[0],_=y[1],q=Object(n.useState)(!1),D=Object(k.a)(q,2),E=D[0],T=D[1],B=Object(n.useState)(!1),L=Object(k.a)(B,2),P=L[0],I=L[1],Q=Object(n.useState)(!1),U=Object(k.a)(Q,2),F=U[0],R=U[1],J=Object(n.useState)(!1),G=Object(k.a)(J,2),H=G[0],Y=G[1],K=Object(n.useState)(!1),$=Object(k.a)(K,2),X=$[0],W=$[1],Z=Object(n.useState)(!1),ee=Object(k.a)(Z,2),te=ee[0],ce=ee[1],ne=Object(n.useState)(c),se=Object(k.a)(ne,2),ae=se[0],re=se[1],ie=Object(n.useState)(s),oe=Object(k.a)(ie,2),le=oe[0],Oe=oe[1],pe=Object(n.useState)(null===j||void 0===j?void 0:j.map((function(e){return e.tag})).toString()),he=Object(k.a)(pe,2),ve=he[0],Ce=he[1],we=Object(n.useState)(!1),ze=Object(k.a)(we,2),_e=ze[0],qe=ze[1],De=Object(n.useState)(O),Ee=Object(k.a)(De,2),Ae=Ee[0],Te=Ee[1],Be=Object(n.useRef)(null),Le=ye(),Pe=new Date(a),Me=Object(n.useContext)(M).userDetails,Ie=fe("csrftoken"),Qe=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!w),T(!1),I(!0),e.prev=3,c={headers:{Authorization:"Bearer ".concat(Me.access)}},e.next=7,z.get("/api/forum/getComments/".concat(t),c);case 7:n=e.sent,s=n.data,f(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0.message);case 15:I(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Me.access)}},e.next=4,z.post("/api/forum/reportPost",{user:l,post:t},c);case 4:200===(n=e.sent).status&&(Y(!0),n.data.message?W(n.data.message):W("You reported this post")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Me.access)}},e.next=4,z.delete("/api/forum/editPost/".concat(t),c);case 4:u(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(N.a)(g.a.mark((function e(c){var n,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),ae&&le){e.next=3;break}return e.abrupt("return",qe(!0));case 3:return e.prev=3,n={headers:{Authorization:"Bearer ".concat(Me.access)}},e.next=7,z.put("/api/forum/editPost/".concat(t),{title:ae,desc:le,userid:l,tags:""},n);case 7:s=e.sent,a=s.data,b(d.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{title:a.title,desc:a.desc}):e}))),ce(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var t;(null===Be||void 0===Be||null===(t=Be.current)||void 0===t?void 0:t.contains(e.target))||R(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"single-post",children:[Object(x.jsx)("div",{className:"profile-pic-div",children:Object(x.jsx)(je.a,{src:i,className:Le.large})}),Object(x.jsxs)("div",{className:"post-content",children:[Object(x.jsxs)("div",{className:"time-div",children:[Object(x.jsxs)("h3",{className:"time",children:["Asked on ",Pe.getDate()," ",A[Pe.getMonth()]," ",Pe.getFullYear()," ",e.time.split(" ")[1]," by ",r]}),o===l&&Object(x.jsx)("button",{onClick:function(){return R(!F)},className:"three-dots",ref:Be,children:Object(x.jsx)(be.b,{})}),F&&Object(x.jsxs)("div",{className:"delete-edit-div",children:[Object(x.jsxs)("button",{id:"edit-btn",onClick:function(){return ce(!0)},children:[Object(x.jsx)(V.d,{})," Edit"]}),Object(x.jsxs)("button",{id:"delete-btn",onClick:Fe,children:[Object(x.jsx)(V.c,{})," Delete"]})]})]}),te?Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"post-post",children:Object(x.jsxs)("form",{children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Title"}),Object(x.jsx)("input",{type:"text",placeholder:"title...",value:ae,onChange:function(e){return re(e.target.value)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Description"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:le,config:{ckfinder:{uploadUrl:"http://lms-seg.herokuapp.com/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":Ie,csrftoken:Ie,csrfmiddlewaretoken:Ie}}},onChange:function(e,t){var c=t.getData();Oe(c)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Tags (Enter tags as a comma separated string)"}),Object(x.jsx)("textarea",{placeholder:"tags...",value:ve,onChange:function(e){return Ce(e.target.value)}})]}),_e&&Object(x.jsxs)("p",{className:"post-upload-question",children:[Object(x.jsx)(de.g,{}),"Please fill all the fields!"]}),Object(x.jsxs)("div",{className:"isedit-buttons",children:[Object(x.jsx)("button",{onClick:function(){return ce(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:Re,children:"Done"})]})]})})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"title",children:"<"===c[0]?Object(ge.a)(c):Object(x.jsx)("h2",{children:c})}),Object(x.jsx)("div",{className:"tags",children:null===j||void 0===j?void 0:j.map((function(e){return Object(x.jsx)("p",{className:"tag",children:e.tag},e.key)}))}),Object(x.jsx)("div",{className:"desc",children:Object(ge.a)(s)})]}),Object(x.jsxs)("div",{className:"answer-btn-div",children:[Object(x.jsxs)("div",{className:"share",children:[Object(x.jsxs)("button",{className:"answers",onClick:Qe,children:[Object(x.jsx)(Se.c,{})," \xa0",Ae," Answers"]}),Object(x.jsxs)("button",{className:"report",onClick:Ue,children:[Object(x.jsx)(V.g,{})," Report"]})]}),Object(x.jsx)("div",{className:"share",children:Object(x.jsx)("button",{className:"answer",onClick:function(){_&&_(!1),T(!E)},children:"Answer"})})]}),w&&(P?Object(x.jsx)(C,{}):Object(x.jsxs)("div",{children:[!v&&Object(x.jsx)("p",{className:"no-answers",children:"No answers to display..."}),null===v||void 0===v?void 0:v.map((function(e){return Object(x.jsx)(Ne,Object(m.a)(Object(m.a)({},e),{},{uid:l,setShowComments:_,comments:v,setComments:f}),e.id)}))]})),E&&Object(x.jsx)(ke,{setShowPostComment:T,postid:t,uid:e.uid,setTotalAnswers:Te})]}),H&&Object(x.jsx)(ue,{reportModalText:X,setShowReportModal:Y})]})},ze=function(e){for(var t=e.totalPages,c=e.handlePages,n=e.currentPage,s=[],a=0;a<t;a++)s.push(a+1);return Object(x.jsxs)("div",{className:"pagination",children:[Object(x.jsxs)("button",{onClick:function(){return c(n-1)},disabled:0===n,className:"next-btn",children:[Object(x.jsx)(S.b,{})," Prev"]}),Object(x.jsxs)("button",{onClick:function(){return c(n+1)},disabled:n===t-1,className:"prev-btn",children:["Next ",Object(x.jsx)(S.c,{})]})]})},_e=function(e){var t=e.sidebarData,c=Object(n.useState)(null),s=Object(k.a)(c,2),a=s[0],r=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(N.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("https://blog.mycrobites.com/api/blogs");case 3:t=e.sent,c=t.data,r(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(x.jsxs)("div",{className:"forum-sidebar",children:[Object(x.jsxs)("div",{className:"stats",children:[Object(x.jsxs)("p",{children:["Total Posts : ",(null===t||void 0===t?void 0:t.posts)>999?"999+":null===t||void 0===t?void 0:t.posts]}),Object(x.jsxs)("p",{children:["Total Answers :"," ",(null===t||void 0===t?void 0:t.answers)>999?"999+":null===t||void 0===t?void 0:t.answers]})]}),Object(x.jsxs)("div",{className:"blogs",children:[Object(x.jsx)("h2",{children:"Blogs"}),null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsxs)("div",{className:"single-blog",children:[Object(x.jsx)("h3",{children:e.title}),Object(x.jsx)("img",{src:"https://blog.mycrobites.com".concat(e.img),alt:e.title})]},e.sno)})),Object(x.jsx)("a",{href:"https://blog.mycrobites.com",target:"_blank",rel:"noreferrer",children:"visit blog website"})]})]})},qe=function(e){var t=e.uid,c=e.tokenkey,s=Object(n.useState)(null),a=Object(k.a)(s,2),r=a[0],i=a[1],o=Object(n.useState)(!1),l=Object(k.a)(o,2),u=l[0],j=l[1],d=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,n={headers:{Authorization:"Bearer ".concat(c)}},r||j(!0),e.next=6,z.get("/api/forum/recentAnswered",n);case 6:s=e.sent,a=s.data,j(!1),t||i(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:return e.abrupt("return",(function(){t=!0}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),u?Object(x.jsx)("div",{className:"forum-loader",children:Object(x.jsx)(C,{})}):Object(x.jsx)(x.Fragment,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(x.jsx)(we,Object(m.a)(Object(m.a)({},e),{},{uid:t,fetchPosts:d,posts:r,setPosts:i}),e.id)}))})},De=function(e){var t=e.uid,c=e.tokenkey,s=Object(n.useState)(null),a=Object(k.a)(s,2),r=a[0],i=a[1],o=Object(n.useState)(!1),l=Object(k.a)(o,2),u=l[0],j=l[1],d=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,n={headers:{Authorization:"Bearer ".concat(c)}},r||j(!0),e.next=6,z.get("/api/forum/mostAnswered",n);case 6:s=e.sent,a=s.data,j(!1),t||i(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:return e.abrupt("return",(function(){t=!0}));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),u?Object(x.jsx)("div",{className:"forum-loader",children:Object(x.jsx)(C,{})}):Object(x.jsx)(x.Fragment,{children:null===r||void 0===r?void 0:r.map((function(e){return Object(x.jsx)(we,Object(m.a)(Object(m.a)({},e),{},{uid:t,fetchPosts:d,posts:r,setPosts:i}),e.id)}))})},Ee=(c(219),c(220),function(){var e=Object(n.useState)(!1),t=Object(k.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(k.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(""),O=Object(k.a)(b,2),p=O[0],h=O[1],v=Object(n.useState)(!1),f=Object(k.a)(v,2),S=f[0],y=f[1],w=Object(n.useState)(null),_=Object(k.a)(w,2),q=_[0],D=_[1],E=Object(n.useState)(!1),A=Object(k.a)(E,2),T=A[0],B=A[1],L=Object(n.useState)(null),P=Object(k.a)(L,2),I=P[0],Q=P[1],U=Object(n.useState)(0),F=Object(k.a)(U,2),R=F[0],J=F[1],G=Object(n.useState)(1),H=Object(k.a)(G,2),Y=H[0],K=H[1],$=Object(n.useState)({posts:0,answers:0}),X=Object(k.a)($,2),V=X[0],W=X[1],Z=Object(n.useContext)(M).userDetails,ee=fe("csrftoken"),te=function(){var e=Object(N.a)(g.a.mark((function e(t){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!1),i&&j){e.next=4;break}return e.abrupt("return",y(!0));case 4:return e.prev=4,c={title:i,desc:j,userid:Z.user_id,tags:p},n={headers:{Authorization:"Bearer ".concat(Z.access)}},e.next=9,z.post("/api/forum/createPosts",c,n);case 9:o(""),d(""),h(""),ce(),s(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(Z.access)}},B(!0),e.next=5,z.get("/api/forum/getPosts?pageno=".concat(R),t);case 5:c=e.sent,n=c.data,D(n.response),Q(n.no_of_pages),W({posts:n.total_posts,answers:n.totalanswers}),B(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){1!==Y&&2!==Y||ce()}),[R]);return Object(x.jsxs)("div",{className:"posts",children:[Object(x.jsxs)("div",{className:"add-post",children:[Object(x.jsxs)("div",{className:"add-post-title",children:[Object(x.jsx)("h1",{children:"Questions"}),Object(x.jsx)("button",{onClick:function(){s(!c),y(!1)},children:"Ask Question"})]}),c&&Object(x.jsx)("div",{className:"post-post",children:Object(x.jsxs)("form",{onSubmit:te,children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Title"}),Object(x.jsx)("input",{type:"text",placeholder:"title...",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Description"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:j,config:{ckfinder:{uploadUrl:"http://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":ee,csrftoken:ee,csrfmiddlewaretoken:ee}}},onChange:function(e,t){var c=t.getData();d(c)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Tags (Enter tags as a comma separated string)"}),Object(x.jsx)("textarea",{placeholder:"tags...",value:p,onChange:function(e){return h(e.target.value)}})]}),S&&Object(x.jsxs)("p",{className:"post-upload-question",children:[Object(x.jsx)(de.g,{}),"Please fill all the fields!"]}),Object(x.jsxs)("div",{className:"add-post-buttons",children:[Object(x.jsx)("button",{onClick:function(){return s(!1)},type:"button",children:"Cancel"}),Object(x.jsx)("button",{type:"submit",children:"Ask"})]})]})}),Object(x.jsxs)("div",{className:"tabs",children:[Object(x.jsx)("button",{onClick:function(){return K(1)},className:"tab-btn ".concat(1===Y?"active":null),children:"All Questions"}),Object(x.jsx)("button",{onClick:function(){K(2),J(0)},className:"tab-btn ".concat(2===Y?"active":null),children:"Recent Questions"}),Object(x.jsx)("button",{onClick:function(){return K(3)},className:"tab-btn ".concat(3===Y?"active":null),children:"Recently Answered"}),Object(x.jsx)("button",{onClick:function(){return K(4)},className:"tab-btn ".concat(4===Y?"active":null),children:"Most Answered"})]})]}),Object(x.jsxs)("div",{className:"forum-content",children:[Object(x.jsxs)("div",{className:"all-posts",children:[T?Object(x.jsx)("div",{className:"forum-loader",children:Object(x.jsx)(C,{})}):Object(x.jsxs)(x.Fragment,{children:[1===Y&&(null===q||void 0===q?void 0:q.map((function(e){return Object(x.jsx)(we,Object(m.a)(Object(m.a)({},e),{},{uid:Z.user_id,fetchPosts:ce,posts:q,setPosts:D}),e.id)}))),2===Y&&(null===q||void 0===q?void 0:q.map((function(e){return Object(x.jsx)(we,Object(m.a)(Object(m.a)({},e),{},{uid:Z.user_id,fetchPosts:ce,posts:q,setPosts:D}),e.id)}))),3===Y&&Object(x.jsx)(qe,{uid:Z.user_id,tokenkey:Z.access}),4===Y&&Object(x.jsx)(De,{uid:Z.user_id,tokenkey:Z.access})]}),q&&1===Y&&Object(x.jsx)(ze,{totalPages:I,handlePages:function(e){J(e)},currentPage:R})]}),Object(x.jsx)(_e,{sidebarData:V})]})]})}),Ae=(c(221),function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{active:"forum"}),Object(x.jsx)("div",{className:"Forum",children:Object(x.jsx)(Ee,{})})]})}),Te=c.p+"static/media/errorpage.f0a5f58b.svg",Be=(c(222),function(){var e=Object(o.g)();return Object(x.jsxs)("div",{className:"errorPage",children:[Object(x.jsx)("img",{src:Te,alt:"404"}),Object(x.jsx)("h2",{children:"This page could not be found!"}),Object(x.jsx)("button",{onClick:function(){return e.push("/")},children:"Home Page"})]})}),Le=c(132),Pe=c.n(Le),Me=c(134),Ie=c.n(Me),Qe=c(133),Ue=c.n(Qe),Fe=c(129),Re=c.n(Fe),Je=c(130),Ge=c.n(Je),He=(c(70),function(e){var t=e.name,c=e.setShowUser,s=Object(n.useRef)(null),a=Object(n.useContext)(M).removeUser;return Object(n.useEffect)((function(){var e=function(e){var t;(null===s||void 0===s||null===(t=s.current)||void 0===t?void 0:t.contains(e.target))||c(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"user-detail",ref:s,children:[Object(x.jsxs)("div",{className:"user-login",children:[Object(x.jsx)("p",{children:"Signed in as"}),Object(x.jsx)("h3",{children:t})]}),Object(x.jsxs)("div",{className:"profile-options",children:[Object(x.jsxs)(i.b,{to:"/profile",onClick:function(){return c(!1)},children:[Object(x.jsx)(Re.a,{}),"Your profile"]}),Object(x.jsxs)(i.b,{to:"#",onClick:function(){c(!1),a()},children:[Object(x.jsx)(Ge.a,{}),"Sign out"]})]})]})}),Ye=c(131),Ke=c.n(Ye),$e=function(e){e.id;var t=e.time,c=e.title,n=e.message,s=Date.parse(t),a=new Date(s);return Object(x.jsxs)("div",{className:"single-notification",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:c}),Object(x.jsx)("p",{children:n})]}),Object(x.jsxs)("div",{className:"notification-time",children:[Object(x.jsxs)("h3",{children:[a.toDateString().split(" ")[1]," ",a.toDateString().split(" ")[2]]}),Object(x.jsxs)("p",{children:[a.toString().split(" ")[4].split(":")[0],":",a.toString().split(" ")[4].split(":")[1]]})]})]})},Xe=function(e){var t=e.setShowNotification,c=e.notifications,s=e.loading,a=Object(n.useRef)();return Object(n.useEffect)((function(){var e=function(e){var c;(null===a||void 0===a||null===(c=a.current)||void 0===c?void 0:c.contains(e.target))||t(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"user-notification",ref:a,children:[Object(x.jsxs)("div",{className:"notification-header",children:[Object(x.jsx)("h4",{children:"Notifications"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},children:Object(x.jsx)(Ke.a,{})})]}),Object(x.jsx)("div",{className:"notification-body",children:s?Object(x.jsx)("div",{className:"notification-loader",children:Object(x.jsx)(C,{})}):null===c||void 0===c?void 0:c.map((function(e,t){return Object(x.jsx)($e,{id:null===e||void 0===e?void 0:e.id,time:null===e||void 0===e?void 0:e.time,message:null===e||void 0===e?void 0:e.message,title:null===e||void 0===e?void 0:e.title},t)}))})]})},Ve=c.p+"static/media/logo.4064e052.png",We=function(){var e=localStorage.getItem("notifications");return e?JSON.parse(e):null},Ze=function(){var e=Object(n.useState)(0),t=Object(k.a)(e,2),c=t[0],s=(t[1],Object(n.useState)(!1)),a=Object(k.a)(s,2),r=a[0],i=a[1],l=Object(n.useState)(!1),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(!1),O=Object(k.a)(b,2),p=O[0],h=O[1],v=Object(n.useState)(We),m=Object(k.a)(v,2),f=m[0],C=m[1],S=Object(n.useContext)(M),y=S.userDetails,w=S.userProfilePic,_=Object(o.h)(),q=Object(o.g)(),D=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),i(!1),e.prev=2,t={headers:{Authorization:"Bearer ".concat(y.access)}},e.next=6,z.post("/api/notifSeen",{user:y.user_id},t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f||h(!0),e.prev=1,t={headers:{Authorization:"Bearer ".concat(y.access)}},e.next=5,z.get("/api/fetchNotification/".concat(y.username),t);case 5:c=e.sent,n=c.data,C(n),h(!1),localStorage.setItem("notifications",JSON.stringify(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(x.jsx)(x.Fragment,{children:"/"!==_.pathname?Object(x.jsxs)("div",{className:"navbar",children:[Object(x.jsx)("div",{className:"logo",children:Object(x.jsx)("img",{src:Ve,alt:"logo",onClick:function(){return q.push("/")}})}),Object(x.jsxs)("div",{className:"user",children:[Object(x.jsxs)("button",{id:"notification",onClick:D,children:[c>0&&Object(x.jsx)("span",{children:c}),Object(x.jsx)(Pe.a,{})]}),Object(x.jsx)("h4",{id:"user-name",children:y.first_name}),Object(x.jsx)(je.a,{src:null===w||void 0===w?void 0:w.profile}),Object(x.jsx)("button",{onClick:function(){i(!r),d(!1)},children:r?Object(x.jsx)(Ue.a,{}):Object(x.jsx)(Ie.a,{})}),r&&Object(x.jsx)(He,{setShowUser:i,name:y.first_name}),j&&Object(x.jsx)(Xe,{setShowNotification:d,notifications:f,loading:p})]})]}):Object(x.jsx)(x.Fragment,{})})},et=c(135),tt=(c(223),function(){var e=localStorage.getItem("post-data");return e?JSON.parse(e):null}),ct=function(){var e=Object(n.useState)(!0),t=Object(k.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(k.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(null),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(!1),O=Object(k.a)(b,2),p=O[0],h=O[1],v=Object(n.useState)({}),f=Object(k.a)(v,2),S=f[0],y=f[1],w=Object(n.useState)({}),_=Object(k.a)(w,2),q=_[0],D=_[1],E=Object(n.useState)(tt),A=Object(k.a)(E,2),T=A[0],B=A[1],L=Object(n.useState)(!1),P=Object(k.a)(L,2),I=P[0],Q=P[1],U=Object(n.useState)({preview:"",raw:""}),F=Object(k.a)(U,2),R=F[0],J=F[1],G=Object(n.useContext)(M),H=G.userDetails,Y=G.updateUserProfilePic,K=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),(t=new FormData).append("profile_pic",j),e.prev=3,c={headers:{Authorization:"Bearer ".concat(H.access)}},e.next=7,z.patch("/api/editUserProfilePic/".concat(H.username),t,c);case 7:n=e.sent,s=n.data,$(),Y(s.user_profile_pic),Q(!1),J({preview:"",raw:""}),d(null),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0.message);case 19:h(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T||s(!0),t={headers:{Authorization:"Bearer ".concat(H.access)}},e.next=5,z.get("/teacher/getProfile/".concat(H.username),t);case 5:c=e.sent,n=c.data,y(null===n||void 0===n?void 0:n.teacher_details),D(null===n||void 0===n?void 0:n.user_info),s(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:s(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){$()}),[]),Object(n.useEffect)((function(){B({dob:null===S||void 0===S?void 0:S.dob,gender:null===S||void 0===S?void 0:S.gender,phone_no:null===S||void 0===S?void 0:S.phone_no,address:null===S||void 0===S?void 0:S.address,state:null===S||void 0===S?void 0:S.state,pin_code:null===S||void 0===S?void 0:S.pin_code,city:null===S||void 0===S?void 0:S.city,subject:null===S||void 0===S?void 0:S.subject,user:null===S||void 0===S?void 0:S.user}),localStorage.setItem("user-profile",JSON.stringify(T))}),[q,S]);var X=S.address,W=S.dob,Z=S.gender,ee=S.phone_no,te=S.pin_code,ce=S.profile_pic,ne=S.city,se=S.subject,ae=S.state,re=q.first_name,ie=q.last_name,oe=q.email,le=q.username,ue=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),localStorage.setItem("user-profile",JSON.stringify(T)),e.prev=2,t={headers:{Authorization:"Bearer ".concat(H.access)}},e.next=6,z.put("/teacher/editProfile/".concat(le),T,t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message);case 11:$(),Q(!1),o(!i);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:c?Object(x.jsx)("div",{className:"profile-loader",children:Object(x.jsx)(C,{})}):Object(x.jsxs)("div",{className:"profile-card",children:[Object(x.jsxs)("div",{className:"profile-image",children:[Object(x.jsxs)("div",{className:"profile-img",children:[Object(x.jsx)("img",{src:ce,alt:"profile pic"}),Object(x.jsx)("button",{className:"edit-img-btn",onClick:function(e){return h(!p)},children:Object(x.jsx)(et.a,{})})]}),p&&Object(x.jsxs)("div",{className:"edit-image",children:[Object(x.jsxs)("label",{className:"label-profile-img",children:[Object(x.jsx)("input",{type:"file",name:"profile pic",accept:"image/*",onChange:function(e){d(e.target.files[0]),e.target.files.length&&J({preview:URL.createObjectURL(e.target.files[0]),raw:e.target.files[0]})}}),Object(x.jsx)(Se.b,{}),(null===R||void 0===R?void 0:R.preview)&&Object(x.jsx)("img",{src:R.preview,alt:"select"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"img-upload-btn",onClick:function(){return h(!1)},children:"Cancel"}),Object(x.jsx)("button",{disabled:!j,className:"img-upload-btn",onClick:K,children:"Upload"})]})]}),Object(x.jsx)("h3",{children:le}),Object(x.jsx)("p",{children:se})]}),Object(x.jsxs)("div",{className:"profile-details",children:[Object(x.jsxs)("div",{className:"profile-name",children:[Object(x.jsxs)("h1",{children:[re," ",ie]}),Object(x.jsxs)("p",{children:["Subject : ",se]}),!i&&Object(x.jsx)("button",{onClick:function(e){return o(!0)},className:"profile-edit-button",children:Object(x.jsx)(V.d,{})})]}),I&&Object(x.jsx)("div",{className:"edit-loader",children:Object(x.jsx)(C,{})}),i?Object(x.jsxs)("div",{className:"student-detail edit",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Birthday"}),Object(x.jsx)("input",{type:"text",value:T.dob,onChange:function(e){return B(Object(m.a)(Object(m.a)({},T),{},{dob:e.target.value}))},name:"dob"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Subject"}),Object(x.jsx)("input",{type:"text",value:T.subject,onChange:function(e){return B(Object(m.a)(Object(m.a)({},T),{},{subject:e.target.value}))},name:"subject"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Gender"}),Object(x.jsx)("input",{type:"text",value:T.gender,onChange:function(e){return B(Object(m.a)(Object(m.a)({},T),{},{gender:e.target.value}))},name:"gender"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Phone"}),Object(x.jsx)("input",{type:"text",value:T.phone_no,onChange:function(e){return B(Object(m.a)(Object(m.a)({},T),{},{phone_no:e.target.value}))},name:"phone_no"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Address"}),Object(x.jsx)("input",{type:"text",value:T.address,onChange:function(e){return B(Object(m.a)(Object(m.a)({},T),{},{address:e.target.value}))},name:"address"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"City"}),Object(x.jsx)("input",{type:"text",value:T.city,onChange:function(e){return B(Object(m.a)(Object(m.a)({},T),{},{city:e.target.value}))},name:"city"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"State"}),Object(x.jsx)("input",{type:"text",value:T.state,onChange:function(e){return B(Object(m.a)(Object(m.a)({},T),{},{state:e.target.value}))},name:"state"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Pincode"}),Object(x.jsx)("input",{type:"text",value:T.pin_code,onChange:function(e){return B(Object(m.a)(Object(m.a)({},T),{},{pin_code:e.target.value}))},name:"pin_code"})]}),Object(x.jsxs)("div",{className:"button-group",children:[Object(x.jsx)("button",{onClick:function(){return o(!1)},children:"cancel"}),Object(x.jsx)("button",{onClick:ue,children:"save"})]})]}):Object(x.jsxs)("div",{className:"student-detail",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Birthday"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:W})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Subject"}),Object(x.jsx)("p",{children:Object(x.jsxs)("strong",{children:[" ",se]})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Gender"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:Z})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Phone"}),Object(x.jsx)("p",{children:Object(x.jsxs)("strong",{children:["+91 ",ee]})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Email"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:oe})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Address"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:X})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"City"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:ne})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"State"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:ae})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"Pincode"}),Object(x.jsx)("p",{children:Object(x.jsx)("strong",{children:te})})]})]})]})]})})},nt=function(){return Object(x.jsxs)("div",{className:"profile-page",children:[Object(x.jsx)(v,{active:""}),Object(x.jsx)(ct,{})]})},st=(c(224),function(e){var t=e.msg;return Object(x.jsxs)("div",{className:"error",children:[Object(x.jsx)(Se.a,{}),Object(x.jsx)("p",{children:t})]})}),at=c.p+"static/media/login.d281c5f6.png",rt=(c(225),function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(k.a)(a,2),i=r[0],l=r[1],u=Object(n.useState)(!1),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(!1),p=Object(k.a)(O,2),h=p[0],v=p[1],m=Object(n.useState)({username:"",password:""}),f=Object(k.a)(m,2),S=f[0],y=f[1],w=Object(o.g)(),_=Object(n.useContext)(M),q=_.updateUser,D=_.updateUserProfilePic,E=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,z.post("/teacher/login",{username:c.trim(),password:i});case 4:t=e.sent,n=t.data,b(!1),q(n),D(n.profile_pic),w.push("/dashboard"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),y({username:"Invalid credentials",password:"Invalid credentials"}),b(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),A=function(e){if(e.preventDefault(),!c&&!i)return y({username:"Please enter username!",password:"Please enter password!"});y(c?i?{username:"",password:""}:{username:"",password:"Please enter password!"}:{username:"Please enter username!",password:""}),E()};return Object(x.jsxs)("div",{className:"login-page",children:[Object(x.jsx)("div",{className:"login-clip-path"}),d&&Object(x.jsx)("div",{className:"login-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"login-page-contents",children:[Object(x.jsx)("div",{className:"login-image",children:Object(x.jsx)("img",{src:at,alt:"login"})}),Object(x.jsx)("div",{className:"form-holder",children:Object(x.jsxs)("form",{onSubmit:A,children:[Object(x.jsx)("div",{className:"username",children:Object(x.jsxs)("label",{children:["Username",Object(x.jsx)("input",{type:"text",value:c,placeholder:"Enter username...",onChange:function(e){return s(e.target.value)}}),S.username&&Object(x.jsx)(st,{msg:S.username})]})}),Object(x.jsx)("div",{className:"password",children:Object(x.jsxs)("label",{children:["Password",Object(x.jsx)("input",{type:h?"text":"password",value:i,placeholder:"Enter password...",onChange:function(e){return l(e.target.value)}}),Object(x.jsx)("div",{onClick:function(){return v(!h)},className:"show-password",children:h?Object(x.jsx)(de.c,{}):Object(x.jsx)(de.b,{})}),S.password&&Object(x.jsx)(st,{msg:S.password})]})}),Object(x.jsx)("button",{onClick:A,type:"submit",children:"Log in"})]})})]})]})}),it=c(60),ot=(c(227),function(e){var t=e.id,c=e.image,s=e.course_name,a=e.course_description,r=e.author_profile_pic,i=e.getCourses,l=e.prevVideo,u=e.prevGoals,j=e.prevConcept,d=e.user,b=e.author_name,O=e.totallesson,p=Object(o.g)(),h=Object(n.useState)(!1),v=Object(k.a)(h,2),m=v[0],f=v[1],S=Object(n.useState)(!1),y=Object(k.a)(S,2),w=y[0],_=y[1],q=Object(n.useState)(!1),D=Object(k.a)(q,2),E=D[0],A=D[1],T=Object(n.useState)(s),B=Object(k.a)(T,2),L=B[0],P=B[1],M=Object(n.useState)(a),I=Object(k.a)(M,2),Q=I[0],U=I[1],F=Object(n.useState)(null),R=Object(k.a)(F,2),J=R[0],G=R[1],H=Object(n.useState)(l),Y=Object(k.a)(H,2),K=Y[0],$=Y[1],X=Object(n.useState)(u),V=Object(k.a)(X,2),W=V[0],Z=V[1],ee=Object(n.useState)(j),te=Object(k.a)(ee,2),ce=te[0],ne=te[1],se=function(){var e=Object(N.a)(g.a.mark((function e(){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!1),e.prev=1,c={headers:{Authorization:"Bearer ".concat(d.access)}},f(!0),e.next=6,z.delete("/teacher/editCourse/".concat(t),c);case 6:i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("course_name",L),c.append("course_description",Q),c.append("video",K),c.append("goals",W),c.append("slug","new-course"),c.append("concepts",ce),c.append("author",d.user_id),J&&c.append("image",J),f(!0),e.prev=10,n={headers:{Authorization:"Bearer ".concat(d.access)}},f(!0),e.next=15,z.put("/teacher/editCourse/".concat(t),c,n);case 15:i(),A(!1),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),console.log(e.t0.message);case 22:f(!1);case 23:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"single-course-card",children:[m&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsx)("div",{className:"single-course-image",children:Object(x.jsx)("img",{src:c,alt:s})}),Object(x.jsx)("h2",{className:"single-course-title",children:s}),Object(x.jsxs)("div",{className:"single-course-author",children:[Object(x.jsx)(je.a,{src:r}),Object(x.jsx)("h2",{children:b})]}),Object(x.jsx)("p",{style:{fontSize:"14px"},children:a}),Object(x.jsxs)("p",{style:{fontSize:"14px"},children:["Total Lesson : ",O]}),Object(x.jsxs)("div",{className:"lessons",children:[Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return p.push("/courseedit/".concat(t))},children:"View"}),Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return A(!0)},children:"Edit"}),Object(x.jsx)("button",{className:"enrollment-course-btn delete-btn",onClick:function(){return _(!0)},children:"Delete"})]}),w&&Object(x.jsx)("div",{className:"course-modal-wrapper",children:Object(x.jsxs)("div",{className:"delete-modal",children:[Object(x.jsx)("p",{children:"Are you sure you want to delete your course ?"}),Object(x.jsxs)("div",{className:"course-modal-buttons",children:[Object(x.jsx)("button",{onClick:function(){return _(!1)},className:"btn",children:"Cancel"}),Object(x.jsx)("button",{onClick:se,className:"btn",children:"Proceed and Delete"})]})]})}),E&&Object(x.jsx)("div",{className:"course-modal-wrapper",children:Object(x.jsxs)("div",{className:"course-modal",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Name"}),Object(x.jsx)("input",{type:"text",value:L,name:"course_name",onChange:function(e){return P(e.target.value)},placeholder:"course name"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Description"}),Object(x.jsx)("textarea",{name:"course-description",value:Q,onChange:function(e){return U(e.target.value)},placeholder:"enter course description"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Introduction Video"}),Object(x.jsx)("input",{name:"video",type:"text",value:K,onChange:function(e){return $(e.target.value)},placeholder:"paste intro video link"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Image"}),Object(x.jsx)("input",{type:"file",name:"profile pic",accept:"image/*",onChange:function(e){return G(e.target.files[0])}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Goals"}),Object(x.jsx)("input",{name:"goals",type:"text",value:W,onChange:function(e){return Z(e.target.value)},placeholder:"Enter course goals comma seperated"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Concepts"}),Object(x.jsx)("input",{name:"concepts",type:"text",value:ce,onChange:function(e){return ne(e.target.value)},placeholder:"Enter course concepts comma seperated"})]}),Object(x.jsxs)("div",{className:"edit-modal-button",children:[Object(x.jsx)("button",{onClick:ae,children:"Apply"}),Object(x.jsx)("button",{onClick:function(){return A(!1)},children:"Cancel"})]})]})})]})}),lt=[{width:1,itemsToShow:1},{width:500,itemsToShow:2},{width:900,itemsToShow:3},{width:1100,itemsToShow:4}],ut=function(e){var t=e.user,c=Object(n.useState)(null),s=Object(k.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!1),o=Object(k.a)(i,2),l=o[0],u=o[1],j=Object(n.useState)(""),d=Object(k.a)(j,2),b=d[0],O=d[1],p=Object(n.useState)(null),h=Object(k.a)(p,2),v=h[0],f=h[1],S=Object(n.useState)(""),y=Object(k.a)(S,2),w=y[0],_=y[1],q=Object(n.useState)(""),D=Object(k.a)(q,2),E=D[0],A=D[1],T=Object(n.useState)(""),B=Object(k.a)(T,2),L=B[0],P=B[1],I=Object(n.useState)(""),Q=Object(k.a)(I,2),U=Q[0],F=Q[1],R=Object(n.useState)(!1),J=Object(k.a)(R,2),G=J[0],H=J[1],Y=Object(n.useContext)(M).userDetails,K=Object(n.useRef)(null),$=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&w&&E&&L&&U&&v){e.next=2;break}return e.abrupt("return",alert("Please enter all the fields!"));case 2:return(c=new FormData).append("course_name",b),c.append("course_description",w),c.append("video",E),c.append("goals",L),c.append("slug","new-course"),c.append("concepts",U),c.append("author",t.user_id),c.append("image",v),n={title:b,description:w,course:[]},e.prev=12,s={headers:{Authorization:"Bearer ".concat(Y.access)}},H(!0),e.next=17,z.post("/teacher/createCourse",c,s);case 17:return a=e.sent,n.course.push(a.data.id),e.next=21,z.post("/api/create-group",n,s);case 21:X(),u(!1),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(12),console.log(e.t0.message);case 28:H(!1);case 29:case"end":return e.stop()}}),e,null,[[12,25]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(Y.access)}},e.next=4,z.get("/teacher/getMyCourses/".concat(t.username),c);case 4:n=e.sent,s=n.data,r(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(e,t){var c=[];return e.forEach((function(e){c.push("goals"===t?e.goals:e.concepts)})),c.join()};return Object(n.useEffect)((function(){X()}),[]),a?Object(x.jsxs)("div",{className:"Enrolled-courses",children:[G&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"mycourse-title",children:[Object(x.jsxs)("div",{className:"title",children:[Object(x.jsxs)("h1",{children:["Welcome! ",t.first_name]}),Object(x.jsx)("h4",{style:{color:"gray"},children:"Here are All Your Courses"})]}),Object(x.jsx)("button",{className:"create-course-btn",onClick:function(){return u(!0)},children:"Create New Course"})]}),l&&Object(x.jsx)("div",{className:"course-modal-wrapper",children:Object(x.jsxs)("div",{className:"course-modal",ref:K,children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Name"}),Object(x.jsx)("input",{type:"text",value:b,name:"course_name",onChange:function(e){return O(e.target.value)},placeholder:"course name"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Description"}),Object(x.jsx)("textarea",{name:"course-description",value:w,onChange:function(e){return _(e.target.value)},placeholder:"Enter course description"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Introduction Video"}),Object(x.jsx)("input",{name:"video",type:"text",value:E,onChange:function(e){return A(e.target.value)},placeholder:"paste intro video link"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Image"}),Object(x.jsx)("input",{type:"file",name:"profile pic",accept:"image/*",onChange:function(e){return f(e.target.files[0])}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Goals"}),Object(x.jsx)("input",{name:"goals",type:"text",value:L,onChange:function(e){return P(e.target.value)},placeholder:"Enter course goals comma seperated"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Course Concepts"}),Object(x.jsx)("input",{name:"concepts",type:"text",value:U,onChange:function(e){return F(e.target.value)},placeholder:"Enter course concepts comma seperated"})]}),Object(x.jsxs)("div",{className:"add-modal-button",children:[Object(x.jsx)("button",{onClick:$,children:"Create Course"}),Object(x.jsx)("button",{onClick:function(){return u(!1)},children:"Cancel"})]})]})}),0===(null===a||void 0===a?void 0:a.length)&&Object(x.jsx)("p",{style:{textAlign:"center",marginTop:200,fontWeight:600,color:"rgba(0,0,0,0.5)"},children:"You haven't created any Course"}),a.length>0&&Object(x.jsx)("div",{className:"course-cards",children:Object(x.jsx)(it.a,{breakPoints:lt,children:null===a||void 0===a?void 0:a.map((function(e){return Object(x.jsx)(ot,Object(m.a)(Object(m.a)({getCourses:X,user:t},e),{},{prevVideo:null===e||void 0===e?void 0:e.video,prevGoals:V(null===e||void 0===e?void 0:e.goals,"goals"),prevConcept:V(null===e||void 0===e?void 0:e.concepts,"concepts")}),null===e||void 0===e?void 0:e.id)}))})})]}):Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})})},jt=(c(228),function(){var e=Object(n.useContext)(M).userDetails;return Object(x.jsxs)("div",{className:"course-page",children:[Object(x.jsx)(v,{active:"course"}),Object(x.jsx)("div",{className:"my-courses",children:Object(x.jsx)(ut,{user:e})})]})}),dt=(c(229),c(230),function(e){var t=e.groups,c=e.userDetails,s=e.setShowCreateQuizModal,a=(e.fetchquizzes,Object(n.useState)("")),r=Object(k.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(n.useState)(""),O=Object(k.a)(b,2),p=O[0],h=O[1],v=Object(n.useState)("test"),m=Object(k.a)(v,2),f=m[0],y=m[1],w=Object(n.useState)(""),_=Object(k.a)(w,2),q=_[0],D=_[1],E=Object(n.useState)(""),A=Object(k.a)(E,2),T=A[0],B=A[1],L=Object(n.useState)(""),P=Object(k.a)(L,2),M=P[0],I=P[1],Q=Object(n.useState)(!1),U=Object(k.a)(Q,2),F=U[0],R=U[1],J=Object(n.useRef)(null),G=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&j&&p&&q&&T){e.next=2;break}return e.abrupt("return",alert("Please fill all the fields!"));case 2:return e.prev=2,t={quiz_name:i,description:j,duration:p,quiz_group_id:f,start_date:q+":00+05:30",expire_date:T+":00+05:30"},n={headers:{Authorization:"Bearer ".concat(c.access)}},R(!0),e.next=8,z.post("/teacher/quiz/createQuiz",t,n);case 8:s=e.sent,console.log("quiz modal",s),200==s.status&&window.location.reload(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0.message);case 16:R(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(e){var t;(null===(t=J.current)||void 0===t?void 0:t.contains(e.target))||s(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}));return Object(x.jsxs)("div",{className:"edit-quiz-modal",children:[Object(x.jsxs)("div",{className:"edit-quiz-modal-card",ref:J,children:[Object(x.jsx)("h1",{children:"Create Quiz"}),Object(x.jsx)("button",{onClick:function(){return s(!1)},className:"close-btn",children:Object(x.jsx)(S.d,{})}),Object(x.jsxs)("div",{className:"edit-quiz-form",children:[Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",{type:"text",placeholder:"Title...",value:i,onChange:function(e){return o(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Quiz Group"}),Object(x.jsxs)("select",{name:"Group Names",onChange:function(e){return y(e.target.value)},children:[Object(x.jsx)("option",{children:"Select from below"}),null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.title})}))]}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:j,onChange:function(e,t){var c=t.getData();d(c)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Duration (format: hh:mm:ss)"}),Object(x.jsx)("input",{type:"text",placeholder:"Duration...",value:p,onChange:function(e){return h(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Start Date"}),Object(x.jsx)("input",{type:"datetime-local",value:q,onChange:function(e){return D(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"End Date"}),Object(x.jsx)("input",{type:"datetime-local",value:T,onChange:function(e){return B(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Instructions"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:M,onChange:function(e,t){var c=t.getData();I(c)}}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"submit-btn",onClick:G,children:"Submit"})]})]}),F&&Object(x.jsx)("div",{className:"quiz--loader",children:Object(x.jsx)(C,{})})]})}),bt=(c(231),function(e){e.apidata;var t=e.userDetails,c=e.setShowCreateGroupModal,s=(e.fetchquizzes,Object(n.useState)(new Map)),a=Object(k.a)(s,2),r=a[0],i=a[1],o=Object(n.useState)(""),l=Object(k.a)(o,2),u=l[0],j=l[1],d=Object(n.useState)(""),b=Object(k.a)(d,2),O=b[0],p=b[1],h=Object(n.useState)(!1),v=Object(k.a)(h,2),m=(v[0],v[1]),f=Object(n.useState)(""),C=Object(k.a)(f,2),y=C[0],w=C[1],_=Object(n.useState)(!1),q=Object(k.a)(_,2),D=q[0],E=q[1],A=Object(n.useState)(),T=Object(k.a)(A,2),B=(T[0],T[1]),L=Object(n.useState)(["loading"]),P=Object(k.a)(L,2),M=P[0],I=P[1];Object(n.useEffect)(Object(N.a)(g.a.mark((function e(){var c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{Authorization:"Bearer ".concat(t.access)}},e.next=3,z.get("/teacher/getMyCourses/".concat(t.username),c);case 3:n=e.sent,s=n.data,I(s||"null");case 6:case"end":return e.stop()}}),e)}))),[]);var Q=[],U=function(){var e=Object(N.a)(g.a.mark((function e(){var n,s,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),u&&O){e.next=4;break}return w("Fill all the details."),e.abrupt("return");case 4:if(0!==Q.length){e.next=7;break}return w("Select atleast 1 course."),e.abrupt("return");case 7:return console.log("group",Q),e.prev=8,n={title:u,description:O,course:Q},console.log("postdata=>",n),s={headers:{Authorization:"Bearer ".concat(t.access)}},e.next=14,z.post("/api/create-group",n,s);case 14:(a=e.sent)&&m(!1),w("New Group created successfully"),j(""),p(""),B(a),E(!1),m(!1),c(!1),console.log(a),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(8),console.log(e.t0.message);case 29:c(!1),console.log("API Request Send"),console.log(Q),console.log(u,O);case 33:case"end":return e.stop()}}),e,null,[[8,26]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"edit-quiz-modal",children:Object(x.jsxs)("div",{className:"edit-quiz-modal-card",children:[Object(x.jsx)("h2",{children:"Create Group"}),Object(x.jsx)("button",{onClick:function(){return c(!1)},className:"close-btn",children:Object(x.jsx)(S.d,{})}),Object(x.jsxs)("div",{className:"quiz-modal-title",children:[Object(x.jsx)("label",{className:"modal-label",children:"Enter Quiz Group Title"}),Object(x.jsx)("input",{type:"text",className:"modal-input",onChange:function(e){return j(e.target.value)},value:u})]}),Object(x.jsxs)("div",{className:"quiz-modal-des",children:[Object(x.jsx)("label",{className:"modal-label",children:"Enter Quiz Group Description"}),Object(x.jsx)("input",{type:"text",className:"modal-input",onChange:function(e){return p(e.target.value)},value:O})]}),Object(x.jsxs)("div",{className:"quiz-modal-des",children:[Object(x.jsx)("label",{className:"modal-label",children:"Select Courses"}),Object(x.jsxs)("ul",{children:[console.log("+++",M),M.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"checkbox",value:e.course_name,onChange:function(t){return function(e,t){var c=e.target.checked,n=e.target.value;console.log(c,n),!0===c?(console.log(1),Q.push(t)):Q.pop(t),console.log(Q),i(r.set(n,c))}(t,e.id)}})," ",e.course_name," "]})},e.id)}))]})]}),y&&Object(x.jsx)("div",{className:"quiz-group-message",children:Object(x.jsx)("p",{className:"quiz-group-message-message",style:{background:D?"#ffb3b3":"#d4e7f7",marginTop:"20px"},children:y})}),Object(x.jsx)("button",{className:"create-group-button",onClick:U,children:"Create Quiz Group"})]})})}),Ot=(c(232),function(e){var t=e.split(" ")[0].split("/"),c=e.split(" ")[1];return"".concat(t[2],"-").concat(t[1],"-").concat(t[0],"T").concat(c)}),pt=function(e){var t=e.setEditQuiz,c=e.quizTitle,s=e.duration,a=e.startDate,r=e.expireDate,i=e.user,o=e.id,l=e.description,u=e.getCoursesQuiz,j=Object(n.useState)(c),d=Object(k.a)(j,2),b=d[0],O=d[1],p=Object(n.useState)(s),h=Object(k.a)(p,2),v=h[0],m=h[1],f=Object(n.useState)(l),y=Object(k.a)(f,2),w=y[0],_=y[1],q=Object(n.useState)((function(){return Ot(a)})),D=Object(k.a)(q,2),E=D[0],A=D[1],T=Object(n.useState)((function(){return Ot(r)})),B=Object(k.a)(T,2),L=B[0],P=B[1],M=Object(n.useState)(!1),I=Object(k.a)(M,2),Q=I[0],U=I[1],F=Object(n.useRef)(null),R=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&v&&E&&L){e.next=2;break}return e.abrupt("return",alert("Please fill all the fields!"));case 2:return e.prev=2,c={quiz_name:b,duration:v,description:w,start_date:E+"+05:30",expire_date:L+"+05:30"},n={headers:{Authorization:"Bearer ".concat(i.access)}},U(!0),e.next=8,z.patch("/teacher/quiz/editQuiz/".concat(o),c,n);case 8:u(),U(!1),t(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var c;(null===(c=F.current)||void 0===c?void 0:c.contains(e.target))||t(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"edit-quiz-modal",children:[Object(x.jsxs)("div",{className:"edit-quiz-modal-card",ref:F,children:[Object(x.jsx)("h1",{children:"Edit Quiz"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},className:"close-btn",children:Object(x.jsx)(S.d,{})}),Object(x.jsxs)("div",{className:"edit-quiz-form",children:[Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",{type:"text",placeholder:"Name...",value:b,onChange:function(e){return O(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Description"}),Object(x.jsx)("textarea",{style:{width:"100%",height:"70px",padding:"10px"},name:"quiz_desc",value:w,onChange:function(e){return _(e.target.value)},placeholder:"Add Description..."})]}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Duration (format: hh:mm:ss)"}),Object(x.jsx)("input",{type:"text",placeholder:"Duration...",value:v,onChange:function(e){return m(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Expire Date"}),Object(x.jsx)("input",{type:"datetime-local",value:E,onChange:function(e){return A(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{children:"Start Date"}),Object(x.jsx)("input",{type:"datetime-local",value:L,onChange:function(e){return P(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"submit-btn",onClick:R,children:"Submit"})]})]}),Q&&Object(x.jsx)("div",{className:"quiz-loader",children:Object(x.jsx)(C,{})})]})},ht=c(30),xt=c.n(ht),vt=(c(72),c(52)),mt=c.n(vt),ft=c(312),gt=c(311),Nt=c(291),kt=Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",borderWidth:"0px"},paper:{backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3)}}}));var Ct=function(e){var t=e.id,c=e.deleteQuizGroup,s=kt(),a=Object(n.useState)(!1),r=Object(k.a)(a,2),i=r[0],o=r[1],l=Object(n.useContext)(M),u=(l.removeUser,l.userDetails),j=(l.addQuiz,Object(n.useState)(!1)),d=Object(k.a)(j,2),b=(d[0],d[1]),O=Object(n.useState)(!1),p=Object(k.a)(O,2),h=p[0],v=p[1],m=function(){window.location.reload()},f=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("working"),v(!0),e.prev=2,c={headers:{Authorization:"Bearer ".concat(u.access)}},console.log(u.access),e.next=7,z.delete("/teacher/quiz/editQuiz/".concat(t),c);case 7:200===(n=e.sent).status&&(alert("Successful"),m()),400===n.status&&(alert("Unsuccessful"),m()),b(!1),v(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(N.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("working"),v(!0),e.prev=2,c={headers:{Authorization:"Bearer ".concat(u.access)}},e.next=6,z.delete("/api/delete-group/".concat(t),c);case 6:200===(n=e.sent).status&&(alert("Successful"),m()),400===n.status&&(alert("Unsuccessful"),m()),b(!1),v(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),y=function(){o(!1),v(!1)};return Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"delete",onClick:function(){o(!0)},children:"Delete"}),Object(x.jsx)(ft.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:s.modal,open:i,onClose:y,closeAfterTransition:!0,BackdropComponent:gt.a,BackdropProps:{timeout:500},children:Object(x.jsx)(Nt.a,{in:i,children:Object(x.jsx)("div",{className:s.paper,children:Object(x.jsxs)("div",{className:"confirm-delete",children:[Object(x.jsx)("p",{className:"confirm-delete-text",style:{fontFamily:"Montserrat, sans-serif",fontWeight:"600"},children:"Are you sure you want to delete this quiz?"}),Object(x.jsxs)("div",{className:"confirm-delete-quiz-buttons",style:{display:"flex",marginTop:"3vw",justifyContent:"space-around"},children:[Object(x.jsx)("button",{className:"view",style:{paddingLeft:"1.5vw",paddingRight:"1.5vw"},onClick:function(){c?S():f()},children:"Yes"}),Object(x.jsx)("button",{className:"view",style:{paddingLeft:"1.5vw",paddingRight:"1.5vw"},onClick:y,children:"No"})]})]})})})}),h&&Object(x.jsx)("div",{className:"quizquestion-loader",children:Object(x.jsx)(C,{})})]})};var St=function(e){e.id,e.title,e.desc,e.duration,e.starttime,e.endtime,e.userDetails;var t=Object(n.useState)(!1),c=Object(k.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(!1),i=Object(k.a)(r,2);return i[0],i[1],Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"edit",onClick:function(){return a(!s)},children:"Edit"}),s&&Object(x.jsx)(pt,Object(m.a)(Object(m.a)({},e),{},{setEditQuiz:a}))]})},yt=function(){var e=Object(n.useState)(!1),t=Object(k.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(k.a)(a,2),i=r[0],l=r[1],u=Object(n.useState)(!1),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(!0),p=Object(k.a)(O,2),h=p[0],v=p[1],m=Object(n.useContext)(M).userDetails,f=Object(n.useState)(!1),S=Object(k.a)(f,2),y=S[0],w=S[1],_=Object(n.useState)(!1),q=Object(k.a)(_,2),D=q[0],E=q[1],A=Object(n.useState)([]),T=Object(k.a)(A,2),B=T[0],L=T[1],P=Object(n.useState)([]),I=Object(k.a)(P,2),Q=I[0],U=I[1],F=Object(n.useState)([]),R=Object(k.a)(F,2),J=R[0],G=R[1],H=Object(n.useState)(0),Y=Object(k.a)(H,2),K=Y[0],$=(Y[1],Object(n.useState)([])),V=Object(k.a)($,2),W=V[0],Z=V[1],ee=Object(n.useState)([]),te=Object(k.a)(ee,2),ce=te[0],ne=te[1],se=Object(n.useState)([]),ae=Object(k.a)(se,2),re=ae[0],ie=ae[1],oe=Object(n.useState)(0),le=Object(k.a)(oe,2),ue=le[0],je=le[1],de=Object(n.useState)([]),be=Object(k.a)(de,2),Oe=be[0],pe=be[1],he=Object(n.useState)(!0),xe=Object(k.a)(he,2),ve=xe[0],me=xe[1],fe=Object(o.g)(),ge=Object(n.useState)(!1),Ne=Object(k.a)(ge,2),ke=(Ne[0],Ne[1],Object(n.useState)(!0)),Ce=Object(k.a)(ke,2),Se=Ce[0],ye=Ce[1],we=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(m.access)}},b(!0),e.next=5,z.get("api/get-all-quiz",t);case 5:if(c=e.sent,console.log("quiz=>",c.data),Z(c.data),U(c.data[K].attempted),L(c.data[K].upcoming),G(c.data[K].active),c.data.map((function(e){ne([].concat(Object(X.a)(ce),[e.name]))})),n=[],c.data.length>0)for(s=0;s<c.data.length;s++)n[s]={active:c.data[s].active.length,upcoming:c.data[s].upcoming.length,attempted:c.data[s].attempted.length};pe(n),b(!1),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),ze=function(e){for(var t=0;t<W.length;t++)W[t].name===e&&je(t),U(W[ue].attempted),L(W[ue].upcoming),G(W[ue].active)};Object(n.useEffect)((function(){we()}),[]),Object(n.useEffect)((function(){!function(){for(var e=[],t=[],c=0;c<W.length;c++)e.push(W[c].name),t.push(W[c].id);ne(e),ie(t)}()}),[ce.length]),Object(n.useEffect)((function(){ze()}),[ue]);var _e=Object(n.useState)(null),qe=Object(k.a)(_e,2),De=qe[0],Ee=qe[1],Ae=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(m),De||b(!0),t={headers:{Authorization:"Bearer ".concat(m.access)}},e.next=6,z.get("/api/create-group",t);case 6:c=e.sent,n=c.data,Ee(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:b(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Ae()}),[]),Object(x.jsxs)("div",{className:"teacher-quizzes",children:[Object(x.jsx)("div",{className:"all",children:Object(x.jsxs)("div",{className:"cont",children:[Object(x.jsxs)("div",{className:"side",children:[Object(x.jsxs)("div",{className:"create-group",onClick:function(){return l(!0)},children:[Object(x.jsx)("p",{children:"Create Group"}),Object(x.jsx)(mt.a,{})]}),i&&Object(x.jsx)(bt,{apidata:W,userDetails:m,setShowCreateGroupModal:l,fetchquizzes:we}),Object(x.jsxs)("div",{className:"create-group",onClick:function(){return s(!0)},children:[Object(x.jsx)("p",{children:"Create Quiz"}),Object(x.jsx)(mt.a,{})]}),c&&Object(x.jsx)(dt,{groups:De,userDetails:m,setShowCreateQuizModal:s,fetchquizzes:we}),ce.length>0&&Oe.length>0&&ce.map((function(e,t){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"side-bar-item-advanced-1",onClick:function(){me(!ve),ze(e),ye(!0)},children:[e,Se&&Object(x.jsx)(Ct,{id:re[t],deleteQuizGroup:Se})]},t),Object(x.jsxs)("div",{className:"tabs",style:{display:W[ue].name===e&&ve?"block":"none"},children:[Object(x.jsxs)("div",{className:"type-count",children:[Object(x.jsxs)("p",{className:"side-bar-item",onClick:function(){v(!0),w(!1),E(!1)},children:["Active"," "]}),Object(x.jsx)("p",{className:"side-bar-item",children:Oe[t].active})]}),Object(x.jsxs)("div",{className:"type-count",children:[Object(x.jsx)("p",{className:"side-bar-item",onClick:function(){v(!1),w(!0),E(!1)},children:"Upcoming"}),Object(x.jsx)("p",{className:"side-bar-item",children:Oe[t].upcoming})]}),Object(x.jsxs)("div",{className:"type-count",children:[Object(x.jsx)("p",{className:"side-bar-item",onClick:function(){v(!1),w(!1),E(!0)},children:"Attempted"}),Object(x.jsx)("p",{className:"side-bar-item",children:Oe[t].attempted})]})]})]})}))]}),Object(x.jsxs)("div",{className:"mainbar",children:[J.length>0&&0==y&&0==D&&W.length>0&&Object(x.jsxs)("div",{className:"active",children:[Object(x.jsx)("div",{className:"active-active",children:Object(x.jsxs)("p",{className:"active-title",children:[W[ue].name," - Active"]})}),J.map((function(e,t){return Object(x.jsxs)("div",{className:"active-quiz",children:[Object(x.jsxs)("div",{className:"active-quiz-description",children:[Object(x.jsx)("p",{className:"active-quiz-title",children:xt()(e.quiz_name)}),Object(x.jsx)("p",{className:"active-quiz-des",children:xt()(e.description)}),Object(x.jsxs)("p",{className:"question-time",children:["Duration : ",e.duration]}),Object(x.jsxs)("p",{className:"start",children:["Start Date :"," ",e.start_date.slice(0,10)+"     "+e.start_date.slice(11,16)+" GMT"]}),Object(x.jsxs)("p",{className:"end",children:["End Date :"," ",e.expire_date.slice(0,10)+"     "+e.expire_date.slice(11,16)+" GMT"]})]}),Object(x.jsxs)("div",{className:"but",children:[Object(x.jsx)("button",{className:"view",onClick:function(){return fe.push("/quizquestions/".concat(e.id))},children:"View"}),Object(x.jsx)(St,{id:e.id,title:e.quiz_name,desc:e.description,startDate:e.start_date,expireDate:e.expire_date,duration:e.duration,instructions:e.instructions,userDetails:m}),Object(x.jsx)(Ct,{id:De[0].id})]})]},t)}))]}),0==J.length&&0==y&&0==D&&W.length>0&&Object(x.jsxs)("div",{className:"active",children:[Object(x.jsx)("div",{className:"active-active",children:Object(x.jsxs)("p",{className:"active-title",children:[W[ue].name," - Active"]})}),Object(x.jsx)("div",{className:"active-quiz",children:Object(x.jsx)("p",{className:"empty",children:"Currently no active quizzes to show."})})]}),B.length>0&&0==h&&0==D&&W.length>0&&Object(x.jsxs)("div",{className:"active",children:[Object(x.jsx)("div",{className:"active-active",children:Object(x.jsxs)("p",{className:"active-title",children:[W[ue].name," - Upcoming"]})}),B.map((function(e,t){return Object(x.jsxs)("div",{className:"active-quiz",children:[Object(x.jsxs)("div",{className:"active-quiz-description",children:[Object(x.jsx)("p",{className:"active-quiz-title",children:xt()(e.quiz_name)}),Object(x.jsx)("p",{className:"active-quiz-des",children:xt()(e.description)}),Object(x.jsxs)("p",{className:"question-time",children:["Duration : ",e.duration]}),Object(x.jsxs)("p",{className:"start",children:["Start Date :"," ",e.start_date.slice(0,10)+"     "+e.start_date.slice(11,16)+" GMT"]}),Object(x.jsxs)("p",{className:"end",children:["End Date :"," ",e.expire_date.slice(0,10)+"     "+e.expire_date.slice(11,16)+" GMT"]})]}),Object(x.jsxs)("div",{className:"but",children:[Object(x.jsx)("button",{className:"view",onClick:function(){return fe.push("/quizquestions/".concat(e.id))},children:"View"}),Object(x.jsx)(St,{id:e.id,title:e.quiz_name,desc:e.description,startDate:e.start_date,expireDate:e.expire_date,duration:e.duration,instructions:e.instructions,userDetails:m}),Object(x.jsx)(Ct,{id:e.id})]})]},t)}))]}),0==B.length&&0==h&&0==D&&W.length>0&&Object(x.jsxs)("div",{className:"active",children:[Object(x.jsx)("div",{className:"active-active",children:Object(x.jsxs)("p",{className:"active-title",children:[W[ue].name," - Upcoming"]})}),Object(x.jsx)("div",{className:"active-quiz",children:Object(x.jsx)("p",{className:"empty",children:"Currently no upcoming quizzes to show."})})]}),Q.length>0&&0==h&&0==y&&W&&Object(x.jsxs)("div",{className:"active",children:[Object(x.jsx)("div",{className:"active-active",children:Object(x.jsxs)("p",{className:"active-title",children:[W[ue].name," - attempted"]})}),Q.map((function(e,t){return Object(x.jsxs)("div",{className:"active-quiz",children:[Object(x.jsxs)("div",{className:"active-quiz-description",children:[Object(x.jsx)("p",{className:"active-quiz-title",children:xt()(e.quiz_name)}),Object(x.jsx)("p",{className:"active-quiz-des",children:xt()(e.description)}),Object(x.jsxs)("p",{className:"question-time",children:["Duration : ",e.duration]}),Object(x.jsxs)("p",{className:"start",children:["Start Date :"," ",e.start_date.slice(0,10)+"     "+e.start_date.slice(11,16)+" GMT"]}),Object(x.jsxs)("p",{className:"end",children:["End Date :"," ",e.expire_date.slice(0,10)+"     "+e.expire_date.slice(11,16)+" GMT"]})]}),Object(x.jsxs)("div",{className:"but",children:[Object(x.jsx)("button",{className:"view",onClick:function(){return fe.push("/quizquestions/".concat(e.id))},children:"View"}),Object(x.jsx)(St,{id:e.id,title:e.quiz_name,desc:e.description,startDate:e.start_date,expireDate:e.expire_date,duration:e.duration,instructions:e.instructions,userDetails:m}),Object(x.jsx)(Ct,{id:e.id})]})]},t)}))]}),0==Q.length&&0==h&&0==y&&W.length>0&&Object(x.jsxs)("div",{className:"active",children:[Object(x.jsx)("div",{className:"active-active",children:Object(x.jsxs)("p",{className:"active-title",children:[W[ue].name," - Attempted"]})}),Object(x.jsx)("div",{className:"active-quiz",children:Object(x.jsx)("p",{className:"empty",children:"Currently no attempted quizzes to show."})})]})]})]})}),d&&Object(x.jsx)("div",{className:"quizquestion-loader",children:Object(x.jsx)(C,{})})]})},wt=function(){Object(n.useContext)(M).userDetails;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"quiz-page",children:[Object(x.jsx)(v,{active:"quiz"}),Object(x.jsx)(yt,{})]})})},zt=c(45),_t=c.n(zt),qt=(c(281),function(){var e,t,c,s,a,r=Object(n.useState)(null),i=Object(k.a)(r,2),l=i[0],u=i[1],j=Object(n.useState)(null),d=Object(k.a)(j,2),b=d[0],O=d[1],p=Object(n.useState)(null),h=Object(k.a)(p,2),v=h[0],m=h[1],f=Object(n.useState)(""),S=Object(k.a)(f,2),y=S[0],w=S[1],_=Object(n.useState)(null),q=Object(k.a)(_,2),D=q[0],E=q[1],A=Object(n.useState)(""),T=Object(k.a)(A,2),B=T[0],L=T[1],P=Object(n.useState)(null),I=Object(k.a)(P,2),Q=I[0],U=I[1],F=Object(n.useState)(""),R=Object(k.a)(F,2),J=R[0],G=R[1],H=Object(n.useState)(""),Y=Object(k.a)(H,2),K=Y[0],$=Y[1],V=Object(n.useState)(""),W=Object(k.a)(V,2),Z=W[0],ee=W[1],te=Object(n.useState)([]),ce=Object(k.a)(te,2),ne=ce[0],se=ce[1],ae=Object(n.useState)(!1),re=Object(k.a)(ae,2),ie=re[0],oe=re[1],le=Object(n.useState)(!1),ue=Object(k.a)(le,2),je=ue[0],de=ue[1],Oe=Object(n.useContext)(M).userDetails,pe=Object(o.i)().id,he=Object(o.g)(),xe=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(Oe.access)}},c={quiz_id:pe,quest_id:ne},oe(!0),e.next=6,z.post("/teacher/addQuestionToQuiz",c,t);case 6:n=e.sent,(s=n.data)&&oe(!1),alert(s.message),"added successfully"===s.message&&he.push("/quizQuestions/".concat(pe)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(Oe.access)}},e.next=4,z.get("/teacher/getQuestionsFromQB",t);case 4:c=e.sent,n=c.data,u(n.questions),O(n.questions),m(n.tags.dificulty),E(n.tags.skill),U(n.tags.subject),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]),l?Object(x.jsx)(_t.a.Context,{input:"tex",onLoad:function(){},onError:function(e,t){console.warn(t),e.Hub.Queue(e.Hub.Typeset())},options:{messageStyle:"none",extensions:["tex2jax.js"],jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0},TeX:{extensions:["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]}},children:Object(x.jsxs)("div",{className:"quiz-questions-div",children:[Object(x.jsxs)("div",{className:"questionbank-header",children:[Object(x.jsxs)("div",{className:"quiz-question-header",children:[Object(x.jsx)("h1",{children:"Question Bank"}),Object(x.jsxs)("div",{className:"quiz-header-buttons",children:[Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return he.push("/quizQuestions/".concat(pe))},children:"Back to Quiz Questions"}),Object(x.jsx)("button",{disabled:0===ne.length,onClick:xe,children:"Add Questions"}),Object(x.jsxs)("button",{onClick:function(){return de(!je)},children:["Filter ",Object(x.jsx)(be.a,{})]})]})]}),je&&Object(x.jsxs)("div",{className:"filter",children:[Object(x.jsxs)("div",{className:"filter-selects",children:[Object(x.jsx)("h2",{children:"Filter"}),Object(x.jsx)("div",{className:"difficulty-level",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Difficulty"}),Object(x.jsxs)("select",{value:y,onChange:function(e){return w(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===v||void 0===v?void 0:v.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]})]})}),Object(x.jsx)("div",{className:"skill-level",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Skill"}),Object(x.jsxs)("select",{value:B,onChange:function(e){return L(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===D||void 0===D?void 0:D.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]})]})}),Object(x.jsx)("div",{className:"subject",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Subject"}),Object(x.jsxs)("select",{value:J,onChange:function(e){return G(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===Q||void 0===Q?void 0:Q.map((function(e,t){return Object(x.jsx)("option",{value:"".concat(t,"*").concat(e.name),children:e.name},t)}))]})]})}),""!==J&&Object(x.jsx)("div",{className:"topics",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Topics"}),Object(x.jsxs)("select",{value:K,onChange:function(e){return $(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===(e=Q[J.split("*")[0]])||void 0===e||null===(t=e.topics)||void 0===t?void 0:t.map((function(e,t){return Object(x.jsx)("option",{value:"".concat(t,"*").concat(e.name),children:e.name},t)}))]})]})}),""!==J&&""!==K&&Object(x.jsx)("div",{className:"sub-topic",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"SubTopics"}),Object(x.jsxs)("select",{value:Z,onChange:function(e){return ee(e.target.value)},children:[Object(x.jsx)("option",{value:"",children:"All"}),null===(c=Q[J.split("*")[0]])||void 0===c||null===(s=c.topics[K.split("*")[0]])||void 0===s||null===(a=s.subTopics)||void 0===a?void 0:a.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]})]})})]}),Object(x.jsxs)("div",{className:"filter-buttons",children:[Object(x.jsx)("button",{onClick:function(){w(""),L(""),G(""),O(l)},children:"Clear filters"}),Object(x.jsx)("button",{onClick:function(){B||y||J?B.length>0&&!y&&!J?O(l.filter((function(e){return e.skill===B}))):y.length>0&&!B&&!J?O(l.filter((function(e){return e.dificulty_tag===y}))):B.length>0&&y.length>0&&!J?O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===B}))):!B.length&&!y&&J.length>0?K?K.length>0&&!Z?O(l.filter((function(e){return e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]}))):O(l.filter((function(e){return e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]&&e.subtopic_tag===Z}))):O(l.filter((function(e){return e.subject_tag===J.split("*")[1]}))):!B&&y.length>0&&J.length>0?K?K.length>0&&!Z?O(l.filter((function(e){return e.dificulty_tag===y&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]&&e.subtopic_tag===Z}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.subject_tag===J.split("*")[1]}))):B.length>0&&!y&&J.length>0?K?K.length>0&&!Z?O(l.filter((function(e){return e.skill===B&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]}))):O(l.filter((function(e){return e.skill===B&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]&&e.subtopic_tag===Z}))):O(l.filter((function(e){return e.skill===B&&e.subject_tag===J.split("*")[1]}))):B.length>0&&y.length>0&&J.length>0?K?K.length>0&&!Z?O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===B&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===B&&e.subject_tag===J.split("*")[1]&&e.topic_tag===K.split("*")[1]&&e.subtopic_tag===Z}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===B&&e.subject_tag===J.split("*")[1]}))):O(l.filter((function(e){return e.dificulty_tag===y&&e.skill===B}))):O(l)},children:"Apply filters"})]})]})]}),0===(null===b||void 0===b?void 0:b.length)&&Object(x.jsx)("p",{style:{textAlign:"center",marginTop:200,fontWeight:600,color:"rgba(0,0,0,0.5)"},children:"No matched questions"}),null===b||void 0===b?void 0:b.map((function(e){return Object(x.jsxs)("div",{className:"qb-question",children:[Object(x.jsx)("div",{className:"check-box",children:Object(x.jsx)("input",{type:"checkbox",onChange:function(){return t=e.id,void(ne.includes(t)?se(ne.filter((function(e){return e!==t}))):se([].concat(Object(X.a)(ne),[t])));var t}})}),Object(x.jsxs)("div",{className:"question-content",children:[Object(x.jsx)("div",{children:Object(x.jsx)(_t.a.Html,{html:e.question})}),Object(x.jsxs)("div",{className:"question-tags",children:[Object(x.jsx)("h4",{children:"Tags: "}),(null===e||void 0===e?void 0:e.dificulty_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.dificulty_tag}),(null===e||void 0===e?void 0:e.skill)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.skill}),(null===e||void 0===e?void 0:e.subject_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.subject_tag}),(null===e||void 0===e?void 0:e.topic_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.topic_tag}),(null===e||void 0===e?void 0:e.subtopic_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.subtopic_tag})]}),Object(x.jsx)("div",{className:"options",children:e.option.map((function(e,t){return Object(x.jsxs)("div",{className:"option",children:[Object(x.jsxs)("span",{children:["(",["A","B","C","D"][t],")"]}),"\xa0",Object(ge.a)(e)]},t)}))})]}),Object(x.jsxs)("div",{className:"marks",children:[Object(x.jsxs)("p",{children:["Correct: ",e.correct_marks," Marks"]}),Object(x.jsxs)("p",{children:["Incorrect: -",e.negative_marks," Marks"]})]})]},e.id)})),ie&&Object(x.jsx)("div",{className:"quizquestion-loader",children:Object(x.jsx)(C,{})})]})}):Object(x.jsx)("div",{className:"quiz-questions-loader",children:Object(x.jsx)(C,{})})}),Dt=(c(282),function(e){var t=e.setShowNewContent,c=e.id,s=e.user,a=e.fetchLessonContent,r=Object(n.useState)("text"),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(""),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(""),p=Object(k.a)(O,2),h=p[0],v=p[1],m=Object(n.useState)(""),f=Object(k.a)(m,2),S=f[0],y=f[1],w=Object(n.useState)(""),_=Object(k.a)(w,2),q=_[0],D=_[1],E=Object(n.useState)(null),A=Object(k.a)(E,2),T=A[0],B=A[1],L=Object(n.useState)(""),P=Object(k.a)(L,2),M=P[0],I=P[1],Q=Object(n.useState)(""),U=Object(k.a)(Q,2),F=U[0],R=U[1],J=Object(n.useState)(""),G=Object(k.a)(J,2),H=G[0],Y=G[1],K=Object(n.useState)(""),$=Object(k.a)(K,2),X=$[0],V=$[1],W=Object(n.useState)(!1),Z=Object(k.a)(W,2),ee=Z[0],te=Z[1],ce=["text","video","homework","pdf","quiz","assignment"],ne=fe("csrftoken"),se=function(){var e=Object(N.a)(g.a.mark((function e(c){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!0),n={headers:{Authorization:"Bearer ".concat(s.access)}},e.next=5,z.post("/teacher/createlessoncontent/",c,n);case 5:t(!1),a(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:te(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"course-content-modal",children:[ee&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"course-modal create-course-modal",children:[Object(x.jsxs)("label",{style:{flexDirection:"column",display:"flex"},children:[Object(x.jsx)("p",{children:"Select Content Type"}),Object(x.jsx)("select",{value:o,onChange:function(e){return l(e.target.value)},children:null===ce||void 0===ce?void 0:ce.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))})]}),"text"===o||"homework"===o?Object(x.jsxs)("label",{style:{overflowY:"scroll"},children:[Object(x.jsx)("p",{children:"Enter Text Content"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:d,config:{ckfinder:{uploadUrl:"https://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":ne,csrftoken:ne,csrfmiddlewaretoken:ne}}},onChange:function(e,t){var c=t.getData();b(c)}})]}):Object(x.jsx)(x.Fragment,{}),"quiz"===o||"assignment"===o?Object(x.jsxs)("div",{className:"quiz-content",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Content Name"}),Object(x.jsx)("input",{type:"text",value:M,onChange:function(e){return I(e.target.value)},placeholder:"Enter Content Name ..."})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Description"}),Object(x.jsx)("textarea",{name:"quiz_desc",value:q,onChange:function(e){return D(e.target.value)},placeholder:"Add Description..."})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Duration (format: hh:mm:ss)"}),Object(x.jsx)("input",{type:"text",value:F,onChange:function(e){return R(e.target.value)},placeholder:"Enter Duration HH:MM:SS"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Start Date"}),Object(x.jsx)("input",{type:"datetime-local",value:H,onChange:function(e){return Y(e.target.value)}})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter End Date"}),Object(x.jsx)("input",{type:"datetime-local",value:X,onChange:function(e){return V(e.target.value)}})]})]}):Object(x.jsx)(x.Fragment,{}),"pdf"===o&&Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Upload Document"}),Object(x.jsx)("input",{type:"file",accept:".pdf,.doc",onChange:function(e){return B(e.target.files[0])}})]}),"video"===o&&Object(x.jsxs)("div",{className:"video-content",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter video url"}),Object(x.jsx)("input",{type:"text",name:"video_url",value:h,onChange:function(e){return v(e.target.value)},placeholder:"Add Video URL..."})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter video Description"}),Object(x.jsx)("textarea",{name:"video_desc",value:S,onChange:function(e){return y(e.target.value)},placeholder:"Add Description..."})]})]}),Object(x.jsxs)("div",{className:"modal-btn",children:[Object(x.jsx)("button",{onClick:function(){if("video"!==o)if("text"!==o&&"homework"!==o){if("pdf"===o){var e=new FormData;return e.append("media_type",o),e.append("lesson",c),e.append("pdf",T),void se(e)}if("quiz"===o||"assignment"===o){var t={lesson:c,media_type:o,quiz_name:M,duration:F,description:q,start_date:H+"+05:30",expire_date:X+"+05:30"};return console.log(t),void se(t)}}else se({media_type:o,lesson:c,text_content:d});else se({media_type:o,lesson:c,link:h,link_desc:S})},children:"Create Lesson"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},children:"Cancel"})]})]})]})}),Et=(c(283),function(e){var t=e.setShowLessonEdit,c=e.mediaType,s=e.user,a=e.id,r=e.description,i=e.text_content,l=e.url,u=e.fetchLessonContent,j=Object(n.useRef)(null),d=Object(n.useState)(i),b=Object(k.a)(d,2),O=b[0],p=b[1],h=Object(n.useState)(!1),v=Object(k.a)(h,2),m=v[0],f=v[1],S=Object(n.useState)(l),y=Object(k.a)(S,2),w=y[0],_=y[1],q=Object(n.useState)(r),D=Object(k.a)(q,2),E=D[0],A=D[1],T=Object(n.useState)(null),B=Object(k.a)(T,2),L=B[0],P=B[1],M=fe("csrftoken"),I=Object(o.g)(),Q=function(){var e=Object(N.a)(g.a.mark((function e(c){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:"Bearer ".concat(s.access)}},f(!0),e.next=5,z.patch("/teacher/editLessonContent/".concat(a),c,n);case 5:u(),t(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){var c;(null===(c=j.current)||void 0===c?void 0:c.contains(e.target))||t(!1)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}})),Object(x.jsxs)("div",{className:"single-lesson-edit",children:[m&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"single-lesson-editcard",ref:j,children:[Object(x.jsxs)("h1",{children:["Edit ",c]}),"text"===c||"homework"===c?Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter Text Content"}),Object(x.jsx)(xe.CKEditor,{editor:me.a,data:O,config:{ckfinder:{uploadUrl:"https://lab.progressiveminds.in/api/uploadimages?command=QuickUpload&type=Images&responseType=json",options:{resourceType:"Images"},credentials:"include",headers:{"X-CSRF-TOKEN":M,csrftoken:M,csrfmiddlewaretoken:M}}},onChange:function(e,t){var c=t.getData();p(c)}})]}):Object(x.jsx)(x.Fragment,{}),"quiz"===c||"assignment"===c?Object(x.jsx)("p",{children:"Edit these content in Myquiz Section"}):Object(x.jsx)(x.Fragment,{}),"pdf"===c&&Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Upload Document"}),Object(x.jsx)("input",{type:"file",accept:".pdf,.doc",onChange:function(e){return P(e.target.files[0])}})]}),"video"===c&&Object(x.jsxs)("div",{className:"video-content",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter video url"}),Object(x.jsx)("input",{type:"text",name:"video_url",value:w,onChange:function(e){return _(e.target.value)}})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter video Description"}),Object(x.jsx)("textarea",{name:"video_desc",value:E,onChange:function(e){return A(e.target.value)}})]})]}),Object(x.jsxs)("div",{className:"lesson-edit-btn",children:["quiz"===c||"assignment"===c?Object(x.jsx)("button",{onClick:function(){return I.push("/quiz")},children:"Quiz Page"}):Object(x.jsx)("button",{onClick:function(){if("video"===c)Q({link:w,link_desc:E});else if("text"===c||"homework"===c){Q({text_content:O})}else if("pdf"===c){var e=new FormData;e.append("pdf",L),Q(e)}},children:"Apply"}),Object(x.jsx)("button",{onClick:function(){return t(!1)},children:"Cancel"})]})]})]})}),At=c(143),Tt=c(142),Bt=c(141),Lt=c(144),Pt=(c(121),function(e){var t=e.singleContent,c=e.user,s=e.id,a=e.index,r=e.lessonId,i=e.lesson_no,o=e.fetchLessonContent,l=Object(n.useRef)(null),u=Object(n.useState)(!1),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(!1),p=Object(k.a)(O,2),h=p[0],v=p[1],m=Object(n.useState)(!1),f=Object(k.a)(m,2),S=f[0],y=f[1],w=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(c.access)}},y(!0),e.next=5,z.delete("/teacher/editLessonContent/".concat(s),t);case 5:o(),v(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:y(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{ref:l,className:"single-lesson-content",children:[S&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsx)("div",{className:"lesson-left",children:Object(x.jsxs)("div",{className:"label",children:[Object(x.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:[i,".",a+1," ",null===t||void 0===t?void 0:t.media_type.toUpperCase()]}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.text}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.quiz_name}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.assignment_name}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.description}),Object(x.jsx)("div",{children:null===t||void 0===t?void 0:t.text_content})]})}),Object(x.jsxs)("div",{className:"single-lesson-icons",children:[Object(x.jsx)("button",{children:function(){switch(null===t||void 0===t?void 0:t.media_type){case"text":return Object(x.jsx)(de.f,{});case"quiz":return Object(x.jsx)(V.a,{});case"video":return Object(x.jsx)(Bt.a,{});case"homework":return Object(x.jsx)(Tt.a,{});case"pdf":return Object(x.jsx)(At.a,{});case"assignment":return Object(x.jsx)(V.a,{});default:return Object(x.jsx)(Lt.a,{})}}()}),Object(x.jsx)("button",{disabled:"null"===r,onClick:function(){return v(!0)},children:Object(x.jsx)(de.e,{})}),Object(x.jsx)("button",{disabled:"null"===r,onClick:function(){return b(!0)},children:Object(x.jsx)(V.d,{})})]}),h&&Object(x.jsx)("div",{className:"delete-modal-wrapper",children:Object(x.jsxs)("div",{className:"delete-modal",children:[Object(x.jsx)("p",{children:"Are you sure you want to delete your course ?"}),Object(x.jsxs)("div",{className:"lesson-delete-modal-button",children:[Object(x.jsx)("button",{onClick:function(){return v(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:w,children:"Proceed and Delete"})]})]})}),d&&Object(x.jsx)(Et,{setShowLessonEdit:b,mediaType:null===t||void 0===t?void 0:t.media_type,description:null===t||void 0===t?void 0:t.description,text_content:null===t||void 0===t?void 0:t.text,url:null===t||void 0===t?void 0:t.link,user:c,id:s,fetchLessonContent:o})]})}),Mt=c(145),It=c.n(Mt),Qt=c(146),Ut=c.n(Qt),Ft=function(e){var t,c=e.user,s=e.lesson,a=(e.index,e.id),r=e.course_id,i=e.fetchLessonContent,o=Object(n.useState)(!1),l=Object(k.a)(o,2),u=l[0],j=l[1],d=Object(n.useState)(!1),b=Object(k.a)(d,2),O=b[0],p=b[1],h=Object(n.useState)(!1),v=Object(k.a)(h,2),m=v[0],f=v[1],S=Object(n.useState)(!1),y=Object(k.a)(S,2),w=y[0],_=y[1],q=Object(n.useState)(!1),D=Object(k.a)(q,2),E=D[0],A=D[1],T=Object(n.useState)(null===s||void 0===s?void 0:s.lesson_name),B=Object(k.a)(T,2),L=B[0],P=B[1],M=Object(n.useState)(null===s||void 0===s?void 0:s.description),I=Object(k.a)(M,2),Q=I[0],U=I[1],F=Object(n.useState)(null===s||void 0===s?void 0:s.lesson_no),R=Object(k.a)(F,2),J=R[0],G=R[1],H=function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(c.access)}},p(!0),e.next=5,z.delete("/teacher/editLesson/".concat(a),t);case 5:A(!1),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:p(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&L&&Q&&J){e.next=2;break}return e.abrupt("return",alert("Please enter all the fields!"));case 2:return t={course:r,name:L,desp:Q,lessonno:J},e.prev=3,n={headers:{Authorization:"Bearer ".concat(c.access)}},p(!0),e.next=8,z.put("/teacher/editLesson/".concat(a),t,n);case 8:_(!1),i(),p(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0.message);case 16:p(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"single-course-content",children:[O&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{onClick:function(){return j(!u)},className:"lesson_name",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("h5",{children:["Lesson ",null===s||void 0===s?void 0:s.lesson_no," : ",null===s||void 0===s?void 0:s.lesson_name]}),Object(x.jsx)("p",{children:null===s||void 0===s?void 0:s.description})]}),Object(x.jsxs)("div",{className:"single-course-btn",children:[Object(x.jsx)("button",{children:u?Object(x.jsx)(Ut.a,{}):Object(x.jsx)(It.a,{})}),Object(x.jsx)("button",{disabled:"null"===a,onClick:function(){return f(!0)},children:Object(x.jsx)(de.d,{})}),Object(x.jsx)("button",{disabled:"null"===a,onClick:function(){return A(!0)},children:Object(x.jsx)(de.e,{})}),Object(x.jsx)("button",{disabled:"null"===a,onClick:function(){return _(!0)},children:Object(x.jsx)(V.d,{})})]}),E&&Object(x.jsx)("div",{className:"delete-modal-wrapper",children:Object(x.jsxs)("div",{className:"delete-modal",children:[Object(x.jsx)("p",{children:"Are you sure you want to delete your course ?"}),Object(x.jsxs)("div",{className:"lesson-delete-modal-button",children:[Object(x.jsx)("button",{onClick:function(){return A(!1)},children:"Cancel"}),Object(x.jsx)("button",{onClick:H,children:"Proceed and Delete"})]})]})}),w&&Object(x.jsx)("div",{className:"course-modal-wrapper ",children:Object(x.jsxs)("div",{className:"course-modal lesson-modal",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Name"}),Object(x.jsx)("input",{type:"text",value:L,onChange:function(e){return P(e.target.value)},placeholder:"Lesson name"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Description"}),Object(x.jsx)("textarea",{name:"Lesson-description",value:Q,onChange:function(e){return U(e.target.value)},placeholder:"Enter lesson description"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Number"}),Object(x.jsx)("input",{name:"lesson_no",type:"number",value:J,onChange:function(e){return G(e.target.value)},placeholder:"Enter lesson number"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"edit-modal-btn",children:[Object(x.jsx)("button",{onClick:Y,children:"Apply"}),Object(x.jsx)("button",{onClick:function(){return _(!1)},children:"Cancel"})]})]})})]}),u&&Object(x.jsx)("div",{className:"lesson_content",children:null===s||void 0===s||null===(t=s.contents)||void 0===t?void 0:t.map((function(e,t){return Object(x.jsx)(Pt,{index:t,id:null===e||void 0===e?void 0:e.content_id,lessonId:null===s||void 0===s?void 0:s.lesson_id,singleContent:e,user:c,lesson_no:s.lesson_no,fetchLessonContent:i},t)}))}),m&&Object(x.jsx)(Dt,{id:a,user:c,fetchLessonContent:i,setShowNewContent:f})]})},Rt=function(e){var t=e.lessons,c=e.user,s=e.id,a=e.fetchLessonContent,r=Object(n.useState)(!1),i=Object(k.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)(!1),j=Object(k.a)(u,2),d=j[0],b=j[1],O=Object(n.useState)(""),p=Object(k.a)(O,2),h=p[0],v=p[1],m=Object(n.useState)(""),f=Object(k.a)(m,2),S=f[0],y=f[1],w=Object(n.useState)(),_=Object(k.a)(w,2),q=_[0],D=_[1],E=function(){var e=Object(N.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&h&&S&&q){e.next=2;break}return e.abrupt("return",alert("Please enter all the fields!"));case 2:return t={course:s,name:h,desp:S,lessonno:q},e.prev=3,n={headers:{Authorization:"Bearer ".concat(c.access)}},b(!0),e.next=8,z.post("/teacher/createLesson",t,n);case 8:l(!1),a(),b(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"course-content",children:[d&&Object(x.jsx)("div",{className:"course-loader",children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:"course-content-header",children:[Object(x.jsx)("h2",{children:"Course content"}),Object(x.jsxs)("button",{className:"add-lesson-btn",onClick:function(){return l(!0)},children:[Object(x.jsx)(V.e,{})," Lesson"," "]})]}),o&&Object(x.jsx)("div",{className:"course-modal-wrapper ",children:Object(x.jsxs)("div",{className:"course-modal lesson-modal",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Name"}),Object(x.jsx)("input",{type:"text",value:h,onChange:function(e){return v(e.target.value)},placeholder:"Lesson name"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Description"}),Object(x.jsx)("textarea",{name:"Lesson-description",value:S,onChange:function(e){return y(e.target.value)},placeholder:"Enter lesson description"})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Lesson Number"}),Object(x.jsx)("input",{name:"lesson_no",type:"number",value:q,min:0,onChange:function(e){return D(e.target.value)},placeholder:"Enter lesson number"})]}),Object(x.jsxs)("div",{className:"modal-btn",children:[Object(x.jsx)("button",{onClick:E,children:"Create Lesson"}),Object(x.jsx)("button",{onClick:function(){return l(!1)},children:"Cancel"})]})]})}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(x.jsx)(Ft,{id:e.lesson_id,course_id:s,index:t,lesson:e,user:c,fetchLessonContent:a},e.lesson_id)}))]})},Jt=(c(284),function(){var e=Object(o.i)().id,t=Object(n.useState)(null),c=Object(k.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(!0),i=Object(k.a)(r,2),l=i[0],u=i[1],j=Object(n.useContext)(M).userDetails,d=Object(o.g)(),b=function(){var t=Object(N.a)(g.a.mark((function t(){var c,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c={headers:{Authorization:"Bearer ".concat(j.access)}},t.next=4,z.get("/teacher/getCourse/".concat(e),c);case 4:n=t.sent,s=n.data,a(s.course_details),u(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),Object(x.jsx)(x.Fragment,{children:l?Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})}):Object(x.jsxs)("div",{className:"course-edit-page",children:[Object(x.jsxs)("div",{className:"course-btn",children:[Object(x.jsx)("button",{className:"back-btn",onClick:function(){return d.push("/course")},children:"Back to Course"}),Object(x.jsx)("button",{className:"enroll-btn",onClick:function(){return d.push("/enrolledstudent/".concat(e))},children:"Enrolled Students"})]}),Object(x.jsx)(Rt,{lessons:null===s||void 0===s?void 0:s.lessons,user:j,id:e,fetchLessonContent:b})]})})}),Gt=(c(285),function(){var e=Object(n.useState)(null),t=Object(k.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(k.a)(a,2),i=r[0],l=r[1],u=Object(n.useContext)(M).userDetails,j=Object(o.i)().id,d=Object(o.g)(),b=function(){var e=Object(N.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(u.access)}},l(!0),e.next=5,z.get("teacher/quiz/getQuestions/".concat(j),t);case 5:c=e.sent,n=c.data,s(n.quiz_details),l(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(N.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={headers:{Authorization:"Bearer ".concat(u.access)}},l(!0),e.next=5,z.delete("/teacher/deleteQuestionFromQuiz/".concat(j,"/").concat(t),c);case 5:b(),l(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[j]),c?Object(x.jsx)(_t.a.Context,{input:"tex",onLoad:function(){},onError:function(e,t){console.warn(t),e.Hub.Queue(e.Hub.Typeset())},options:{messageStyle:"none",extensions:["tex2jax.js"],jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0},TeX:{extensions:["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]}},children:Object(x.jsxs)("div",{className:"quiz-questions-div",children:[Object(x.jsxs)("div",{className:"quiz-question-header-1",children:[Object(x.jsxs)("h2",{children:[null===c||void 0===c?void 0:c.quiz_name," Questions"]}),Object(x.jsxs)("div",{className:"quiz-header-buttons",children:[Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return d.push("/quiz")},children:"Back to Quiz"}),Object(x.jsx)("button",{className:"enrollment-course-btn",onClick:function(){return d.push("/quizedit/".concat(j))},children:"Add Questions"})]})]}),0===(null===c||void 0===c?void 0:c.questions.length)&&Object(x.jsx)("p",{className:"no-questions",children:"Add questions in this quiz!"}),Object(x.jsx)("div",{className:"quiz-questions",children:null===c||void 0===c?void 0:c.questions.map((function(e,t){return Object(x.jsxs)("div",{className:"quiz-question",children:[Object(x.jsxs)("h3",{children:[t+1,"."]}),Object(x.jsxs)("div",{className:"question-content",children:[Object(x.jsx)("div",{children:Object(x.jsx)(_t.a.Html,{html:e.question})}),Object(x.jsxs)("div",{className:"question-tags",children:[Object(x.jsx)("h4",{children:"Tags: "}),(null===e||void 0===e?void 0:e.dificulty_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.dificulty_tag}),(null===e||void 0===e?void 0:e.skill)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.skill}),(null===e||void 0===e?void 0:e.subject_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.subject_tag}),(null===e||void 0===e?void 0:e.topic_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.topic_tag}),(null===e||void 0===e?void 0:e.subtopic_tag)&&Object(x.jsx)("p",{children:null===e||void 0===e?void 0:e.subtopic_tag})]}),Object(x.jsx)("div",{className:"options",children:e.question.includes("img")&&e.option.map((function(e,t){return Object(x.jsxs)("div",{className:"option",children:[Object(x.jsxs)("span",{children:["(",["A","B","C","D"][t],")"]}),"\xa0",Object(ge.a)(e)]},t)}))})]}),Object(x.jsxs)("div",{className:"question-right-container",children:[Object(x.jsxs)("div",{className:"marks",children:[Object(x.jsxs)("p",{children:["Correct: ",e.correct_marks," Marks"]}),Object(x.jsxs)("p",{children:["Incorrect: -",e.negative_marks," Marks"]})]}),Object(x.jsx)("button",{className:"question-delete-btn",onClick:function(){return O(e.id)},children:Object(x.jsx)(de.e,{})})]})]},t)}))}),i&&Object(x.jsx)("div",{className:"quizquestion-loader",children:Object(x.jsx)(C,{})})]})}):Object(x.jsx)("div",{className:"quiz-questions-loader",children:Object(x.jsx)(C,{})})}),Ht=(c(122),function(e){var t=e.date_of_enrollment,c=e.course_complete_percentage,n=e.student_name,s=e.student_profile_pic,a=t.split("-").reverse().join("-");return Object(x.jsxs)("div",{className:"single-student",children:[Object(x.jsx)("div",{className:"student-left",children:Object(x.jsx)(je.a,{src:s,alt:n})}),Object(x.jsxs)("div",{className:"student-right",children:[Object(x.jsx)("h4",{children:n}),Object(x.jsxs)("p",{children:["Enrolled on : ",a," "]}),Object(x.jsxs)("label",{className:"student-progress",children:[Object(x.jsxs)("p",{children:["Progress : ",c," "]}),Object(x.jsx)("progress",{value:c,max:"100"})]})]})]})}),Yt=function(e){var t=e.students;return Object(x.jsxs)("div",{className:"enrolled-student",children:[Object(x.jsxs)("h2",{style:{fontSize:"22px"},className:"enrolled-student-heading",children:["Enrolled Students : ",null===t||void 0===t?void 0:t.length]}),Object(x.jsx)("div",{className:"enrolled-student-wrapper",children:null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(Ht,Object(m.a)({},e),e.sno)}))})]})},Kt=(c(286),function(){var e=Object(o.i)().id,t=Object(n.useState)(null),c=Object(k.a)(t,2),s=c[0],a=c[1],r=Object(n.useContext)(M).userDetails,i=function(){var t=Object(N.a)(g.a.mark((function t(){var c,n,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c={headers:{Authorization:"Bearer ".concat(r.access)}},t.next=4,z.get("/teacher/getEnrolledStudents/".concat(r.username,"/").concat(e),c);case 4:n=t.sent,s=n.data,a(s.response),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),s?Object(x.jsx)("div",{className:"enrolled-page",children:Object(x.jsx)(Yt,{students:s})}):Object(x.jsx)("div",{className:"loading-div",children:Object(x.jsx)(C,{})})}),$t=function(){var e=Object(n.useContext)(M).userDetails;return Object(x.jsx)(i.a,{children:Object(x.jsxs)("div",{className:"App",children:[e&&Object(x.jsx)(Ze,{}),Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{exact:!0,path:"/",children:e?Object(x.jsx)(o.a,{to:"/dashboard"}):Object(x.jsx)(rt,{})}),Object(x.jsx)(o.b,{exact:!0,path:"/login",children:e?Object(x.jsx)(o.a,{to:"/"}):Object(x.jsx)(rt,{})}),Object(x.jsx)(o.b,{exact:!0,path:"/dashboard",children:e?Object(x.jsx)(le,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/forum",children:e?Object(x.jsx)(Ae,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/profile",children:e?Object(x.jsx)(nt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/course",children:e?Object(x.jsx)(jt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/quiz",children:e?Object(x.jsx)(wt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/quizedit/:id",children:e?Object(x.jsx)(qt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/courseedit/:id",children:e?Object(x.jsx)(Jt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/quizquestions/:id",children:e?Object(x.jsx)(Gt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{exact:!0,path:"/enrolledstudent/:id",children:e?Object(x.jsx)(Kt,{}):Object(x.jsx)(o.a,{to:"/"})}),Object(x.jsx)(o.b,{path:"*",children:Object(x.jsx)(Be,{})})]})]})})},Xt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,315)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(P,{children:Object(x.jsx)($t,{})})}),document.getElementById("root")),Xt()},70:function(e,t,c){},72:function(e,t,c){}},[[287,1,2]]]);
//# sourceMappingURL=main.8169c5b5.chunk.js.map